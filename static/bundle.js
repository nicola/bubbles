(function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,r){t.exports=window.App=x;var n=e("rdf-store-ldp");var i=e("rdf-ext")();var a=e("events").EventEmitter;var o=e("util").inherits;var s=e("virtual-dom/create-element");var u=e("virtual-dom/h");var l=e("virtual-dom/diff");var f=e("virtual-dom/patch");var c=e("../lib/elements/bubbles");var h=e("../lib/elements/users");var d=e("../lib/elements/resources");var p=e("../lib/elements/status");var v=e("../lib/webid-utils").loginTLS;var g=e("webid-get");var m=new n(i);var y=e("../lib/container-utils").getName;var b=e("page");var w=e("simplerdf");o(x,a);function x(e,t){var r=this;if(!(r instanceof x))return new x(e);r.currentWindow=t;r.data={webid:null,username:"Anonymous",bubbles:[],activeBubble:null,storage:null};r.views={bubbles:new c(r),resources:new d(r),users:new h(r),status:new p(r)};b.base(window.location.pathname);r.on("webid-retrieved",function(){b("/",function(e){b(r.data.storage)});b("*",function(e){r.data.activeBubble=null;m.graph(e.path,function(t,n){if(n)return console.error(n);var a=t.match(undefined,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/ns/ldp#Container");var s=t.match(undefined,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",undefined);var u=i.Graph.difference(s,a);r.data.bubbles=a.toArray();r.data.resources=u.toArray();console.log(u);if(r.data.storage!==e.path){r.data.activeBubble=r.data.bubbles[0]}o()})});b.start({hashbang:true})});var n=r.render();var a=s(n);e.appendChild(a);function o(){var e=r.render();var t=l(n,e);a=f(a,t);n=e}r.on("render",o);v(function(e,t){if(e||!t)r.emit("webid-error");if(e){return console.error(e.message||e)}if(t){r.data.webid=t;return r.emit("webid-logged-in",t)}});r.on("webid-logged-in",function(){g(r.data.webid,function(e,t){if(e)return console.error(e);r.data.profile=new w(r.data.webid,t);r.data.username=r.data.profile["http://xmlns.com/foaf/0.1/name"];r.data.storage=r.data.profile["http://www.w3.org/ns/pim/space#storage"];r.emit("webid-retrieved");o()})})}x.prototype.render=function(){var e=this;var t=e.views;var r=e.data;var n=null;var i=null;var a=null;if(r.activeBubble){n=y(r.activeBubble)}else if(!r.webid){n="Logging in"}else if(r.username){n="Hello "+r.username.split(" ")[0];i=r.profile["http://www.w3.org/ns/ui#backgroundImage"];a=r.profile["http://xmlns.com/foaf/0.1/img"]}return u("div.layout",[u(".top",[t.status.render(n,i,a)]),u(".content",[u(".bubbles",[t.bubbles.render(r.bubbles||[],r.users)]),u(".resources",[t.resources.render(r.resources||[])])])])}},{"../lib/container-utils":3,"../lib/elements/bubbles":5,"../lib/elements/resources":6,"../lib/elements/status":7,"../lib/elements/users":8,"../lib/webid-utils":9,events:17,page:60,"rdf-ext":94,"rdf-store-ldp":95,simplerdf:137,util:53,"virtual-dom/create-element":96,"virtual-dom/diff":97,"virtual-dom/h":98,"virtual-dom/patch":106,"webid-get":129}],2:[function(e,t,r){t.exports=a;var n=e("util").inherits;var i=e("./app.js");n(a,i);function a(){if(!(this instanceof a))return new a;i.call(this,document.body)}a()},{"./app.js":1,util:53}],3:[function(e,t,r){var n=e("rdf-store-ldp");var i=e("rdf-ext")();var a=new n(i);var o=e("url");var s=e("path");r.get=function(e,t){a.graph(e,function(e,r){var n=e.match(undefined,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/ns/ldp#Container");t(r,n)})};r.getName=function(e){var t=e.subject.valueOf();var r=o.parse(t);return s.basename(r.pathname)}},{path:21,"rdf-ext":94,"rdf-store-ldp":95,url:51}],4:[function(e,t,r){t.exports=a;var n=e("util").inherits;var i=e("events").EventEmitter;function a(e){i.call(this);this.target=e||null}n(a,i);a.prototype.send=function(){if(this.target&&typeof this.target.emit==="function"){this.target.emit.apply(this.target,arguments)}}},{events:17,util:53}],5:[function(e,t,r){t.exports=s;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");var o=e("../container-utils").getName;function s(e){var t=this;a.call(t,e)}i(s,a);s.prototype.render=function(e,t){var r="";e=e.map(function(e){var t=o(e);return n("div.bubble",{className:r},[n(".sphere"),n(".details",[n("a.name",{href:window.location.pathname+"#!"+e.subject.valueOf()},t)])],"#bubble_"+t)});return e}},{"../container-utils":3,"./base-element":4,util:53,"virtual-dom/h":98}],6:[function(e,t,r){t.exports=s;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");var o=e("../container-utils").getName;function s(e){var t=this;a.call(t,e)}i(s,a);s.prototype.render=function(e,t){var r="";e=e.map(function(e){var t=o(e);return n("div.resource",{className:r},[n(".details",[n(".name",t)])],"#resource_"+t)});return e}},{"../container-utils":3,"./base-element":4,util:53,"virtual-dom/h":98}],7:[function(e,t,r){t.exports=o;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");function o(e){a.call(this,e)}i(o,a);o.prototype.render=function(e,t,r){var i={style:{}};if(t)i.style.backgroundImage="url("+t+")";var a={style:{display:r?"inline":"none"}};if(r)a.src=r;return n(".status",i,[n(".username",[e,n("img.avatar",a)])])}},{"./base-element":4,util:53,"virtual-dom/h":98}],8:[function(e,t,r){t.exports=o;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");function o(e){var t=this;a.call(t,e)}i(o,a);o.prototype.render=function(e){e=e.map(function(e){return n("li.user",[n(".username","Hello "+e.split(" ")[0])],"#"+e.name)})}},{"./base-element":4,util:53,"virtual-dom/h":98}],9:[function(e,t,r){r.loginTLS=i;var n=e("xhr");function i(e){n({uri:"https://rww.io",withCredentials:true,method:"HEAD"},function(t,r){e(t,r.headers.user)})}},{xhr:130}],10:[function(e,t,r){(function(e,r){(function(){var n={};function i(){}function a(e){return e}function o(e){return!!e}function s(e){return!e}var u;var l=typeof self==="object"&&self.self===self&&self||typeof r==="object"&&r.global===r&&r||this;if(l!=null){u=l.async}n.noConflict=function(){l.async=u;return n};function f(e){return function(){if(e===null)throw new Error("Callback was already called.");e.apply(this,arguments);e=null}}function c(e){return function(){if(e===null)return;e.apply(this,arguments);e=null}}var h=Object.prototype.toString;var d=Array.isArray||function(e){return h.call(e)==="[object Array]"};var p=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};function v(e){return d(e)||typeof e.length==="number"&&e.length>=0&&e.length%1===0}function g(e,t){return v(e)?m(e,t):x(e,t)}function m(e,t){var r=-1,n=e.length;while(++r<n){t(e[r],r,e)}}function y(e,t){var r=-1,n=e.length,i=Array(n);while(++r<n){i[r]=t(e[r],r,e)}return i}function b(e){return y(Array(e),function(e,t){return t})}function w(e,t,r){m(e,function(e,n,i){r=t(r,e,n,i)});return r}function x(e,t){m(j(e),function(r){t(e[r],r)})}function _(e,t){for(var r=0;r<e.length;r++){if(e[r]===t)return r}return-1}var j=Object.keys||function(e){var t=[];for(var r in e){if(e.hasOwnProperty(r)){t.push(r)}}return t};function E(e){var t=-1;var r;var n;if(v(e)){r=e.length;return function i(){t++;return t<r?t:null}}else{n=j(e);r=n.length;return function a(){t++;return t<r?n[t]:null}}}function N(e,t){t=t==null?e.length-1:+t;return function(){var r=Math.max(arguments.length-t,0);var n=Array(r);for(var i=0;i<r;i++){n[i]=arguments[i+t]}switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n)}}}function I(e){return function(t,r,n){return e(t,n)}}var S=typeof setImmediate==="function"&&setImmediate;var O=S?function(e){S(e)}:function(e){setTimeout(e,0)};if(typeof e==="object"&&typeof e.nextTick==="function"){n.nextTick=e.nextTick}else{n.nextTick=O}n.setImmediate=S?O:n.nextTick;n.forEach=n.each=function(e,t,r){return n.eachOf(e,I(t),r)};n.forEachSeries=n.eachSeries=function(e,t,r){return n.eachOfSeries(e,I(t),r)};n.forEachLimit=n.eachLimit=function(e,t,r,n){return k(t)(e,I(r),n)};n.forEachOf=n.eachOf=function(e,t,r){r=c(r||i);e=e||[];var n=v(e)?e.length:j(e).length;var a=0;if(!n){return r(null)}g(e,function(r,n){t(e[n],n,f(o))});function o(e){if(e){r(e)}else{a+=1;if(a>=n){r(null)}}}};n.forEachOfSeries=n.eachOfSeries=function(e,t,r){r=c(r||i);e=e||[];var a=E(e);var o=a();function s(){var i=true;if(o===null){return r(null)}t(e[o],o,f(function(e){if(e){r(e)}else{o=a();if(o===null){return r(null)}else{if(i){n.nextTick(s)}else{s()}}}}));i=false}s()};n.forEachOfLimit=n.eachOfLimit=function(e,t,r,n){k(t)(e,r,n)};function k(e){return function(t,r,n){n=c(n||i);t=t||[];var a=E(t);if(e<=0){return n(null)}var o=false;var s=0;var u=false;(function l(){if(o&&s<=0){return n(null)}while(s<e&&!u){var i=a();if(i===null){o=true;if(s<=0){n(null)}return}s+=1;r(t[i],i,f(function(e){s-=1;if(e){n(e);u=true}else{l()}}))}})()}}function R(e){return function(t,r,i){return e(n.eachOf,t,r,i)}}function T(e){return function(t,r,n,i){return e(k(r),t,n,i)}}function A(e){return function(t,r,i){return e(n.eachOfSeries,t,r,i)}}function L(e,t,r,n){n=c(n||i);var a=[];e(t,function(e,t,n){r(e,function(e,r){a[t]=r;n(e)})},function(e){n(e,a)})}n.map=R(L);n.mapSeries=A(L);n.mapLimit=T(L);n.inject=n.foldl=n.reduce=function(e,t,r,i){n.eachOfSeries(e,function(e,n,i){r(t,e,function(e,r){t=r;i(e)})},function(e){i(e||null,t)})};n.foldr=n.reduceRight=function(e,t,r,i){var o=y(e,a).reverse();n.reduce(o,t,r,i)};function C(e,t,r,n){var i=[];e(t,function(e,t,n){r(e,function(r){if(r){i.push({index:t,value:e})}n()})},function(){n(y(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}n.select=n.filter=R(C);n.selectLimit=n.filterLimit=T(C);n.selectSeries=n.filterSeries=A(C);function D(e,t,r,n){C(e,t,function(e,t){r(e,function(e){t(!e)})},n)}n.reject=R(D);n.rejectLimit=T(D);n.rejectSeries=A(D);function U(e,t,r){return function(n,i,a,o){function s(){if(o)o(r(false,void 0))}function u(e,n,i){if(!o)return i();a(e,function(n){if(o&&t(n)){o(r(true,e));o=a=false}i()})}if(arguments.length>3){e(n,i,u,s)}else{o=a;a=i;e(n,u,s)}}}n.any=n.some=U(n.eachOf,o,a);n.someLimit=U(n.eachOfLimit,o,a);n.all=n.every=U(n.eachOf,s,s);n.everyLimit=U(n.eachOfLimit,s,s);function P(e,t){return t}n.detect=U(n.eachOf,a,P);n.detectSeries=U(n.eachOfSeries,a,P);n.detectLimit=U(n.eachOfLimit,a,P);n.sortBy=function(e,t,r){n.map(e,function(e,r){t(e,function(t,n){if(t){r(t)}else{r(null,{value:e,criteria:n})}})},function(e,t){if(e){return r(e)}else{r(null,y(t.sort(i),function(e){return e.value}))}});function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}};n.auto=function(e,t){t=c(t||i);var r=j(e);var a=r.length;if(!a){return t(null)}var o={};var s=[];function u(e){s.unshift(e)}function l(e){var t=_(s,e);if(t>=0)s.splice(t,1)}function f(){a--;m(s.slice(0),function(e){e()})}u(function(){if(!a){t(null,o)}});m(r,function(r){var i=d(e[r])?e[r]:[e[r]];var a=N(function(e,i){if(i.length<=1){i=i[0]}if(e){var a={};x(o,function(e,t){a[t]=e});a[r]=i;t(e,a)}else{o[r]=i;n.setImmediate(f)}});var s=i.slice(0,i.length-1);var c=s.length;var h;while(c--){if(!(h=e[s[c]])){throw new Error("Has inexistant dependency")}if(d(h)&&_(h,r)>=0){throw new Error("Has cyclic dependencies")}}function p(){return w(s,function(e,t){return e&&o.hasOwnProperty(t)},true)&&!o.hasOwnProperty(r)}if(p()){i[i.length-1](a,o)}else{u(v)}function v(){if(p()){l(v);i[i.length-1](a,o)}}})};n.retry=function(e,t,r){var i=5;var a=0;var o=[];var s={times:i,interval:a};function u(e,t){if(typeof t==="number"){e.times=parseInt(t,10)||i}else if(typeof t==="object"){e.times=parseInt(t.times,10)||i;e.interval=parseInt(t.interval,10)||a}else{throw new Error("Unsupported argument type for 'times': "+typeof t)}}var l=arguments.length;if(l<1||l>3){throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)")}else if(l<=2&&typeof e==="function"){r=t;t=e}if(typeof e!=="function"){u(s,e)}s.callback=r;s.task=t;function f(e,t){function r(e,r){return function(n){e(function(e,t){n(!e||r,{err:e,result:t})},t)}}function i(e){return function(t){setTimeout(function(){t(null)},e)}}while(s.times){var a=!(s.times-=1);o.push(r(s.task,a));if(!a&&s.interval>0){o.push(i(s.interval))}}n.series(o,function(t,r){r=r[r.length-1];(e||s.callback)(r.err,r.result)})}return s.callback?f():f};n.waterfall=function(e,t){t=c(t||i);if(!d(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length){return t()}function a(e){return N(function(r,n){if(r){t.apply(null,[r].concat(n))}else{var i=e.next();if(i){n.push(a(i))}else{n.push(t)}G(e).apply(null,n)}})}a(n.iterator(e))()};function M(e,t,r){r=r||i;var n=v(t)?[]:{};e(t,function(e,t,r){e(N(function(e,i){if(i.length<=1){i=i[0]}n[t]=i;r(e)}))},function(e){r(e,n)})}n.parallel=function(e,t){M(n.eachOf,e,t)};n.parallelLimit=function(e,t,r){M(k(t),e,r)};n.series=function(e,t){M(n.eachOfSeries,e,t)};n.iterator=function(e){function t(r){function n(){if(e.length){e[r].apply(null,arguments)}return n.next()}n.next=function(){return r<e.length-1?t(r+1):null};return n}return t(0)};n.apply=N(function(e,t){return N(function(r){return e.apply(null,t.concat(r))})});function q(e,t,r,n){var i=[];e(t,function(e,t,n){r(e,function(e,t){i=i.concat(t||[]);n(e)})},function(e){n(e,i)})}n.concat=R(q);n.concatSeries=A(q);n.whilst=function(e,t,r){r=r||i;if(e()){var n=N(function(i,a){if(i){r(i)}else if(e.apply(this,a)){t(n)}else{r(null)}});t(n)}else{r(null)}};n.doWhilst=function(e,t,r){var i=0;return n.whilst(function(){return++i<=1||t.apply(this,arguments)},e,r)};n.until=function(e,t,r){return n.whilst(function(){return!e.apply(this,arguments)},t,r)};n.doUntil=function(e,t,r){return n.doWhilst(e,function(){return!t.apply(this,arguments)},r)};n.during=function(e,t,r){r=r||i;var n=N(function(t,n){if(t){r(t)}else{n.push(a);e.apply(this,n)}});var a=function(e,i){if(e){r(e)}else if(i){t(n)}else{r(null)}};e(a)};n.doDuring=function(e,t,r){var i=0;n.during(function(e){if(i++<1){e(null,true)}else{t.apply(this,arguments)}},e,r)};function B(e,t,r){if(t==null){t=1}else if(t===0){throw new Error("Concurrency must not be zero")}function a(e,t,r,a){if(a!=null&&typeof a!=="function"){throw new Error("task callback must be a function")}e.started=true;if(!d(t)){t=[t]}if(t.length===0&&e.idle()){return n.setImmediate(function(){e.drain()})}m(t,function(t){var n={data:t,callback:a||i};if(r){e.tasks.unshift(n)}else{e.tasks.push(n)}if(e.tasks.length===e.concurrency){e.saturated()}});n.setImmediate(e.process)}function o(e,t){return function(){s-=1;var r=arguments;m(t,function(e){e.callback.apply(e,r)});if(e.tasks.length+s===0){e.drain()}e.process()}}var s=0;var u={tasks:[],concurrency:t,payload:r,saturated:i,empty:i,drain:i,started:false,paused:false,push:function(e,t){a(u,e,false,t)},kill:function(){u.drain=i;u.tasks=[]},unshift:function(e,t){a(u,e,true,t)},process:function(){if(!u.paused&&s<u.concurrency&&u.tasks.length){while(s<u.concurrency&&u.tasks.length){var t=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length);var r=y(t,function(e){return e.data});if(u.tasks.length===0){u.empty()}s+=1;var n=f(o(u,t));e(r,n)}}},length:function(){return u.tasks.length},running:function(){return s},idle:function(){return u.tasks.length+s===0},pause:function(){u.paused=true},resume:function(){if(u.paused===false){return}u.paused=false;var e=Math.min(u.concurrency,u.tasks.length);for(var t=1;t<=e;t++){n.setImmediate(u.process)}}};return u}n.queue=function(e,t){var r=B(function(t,r){e(t[0],r)},t,1);return r};n.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}function a(e,t,r){var n=-1,i=e.length-1;while(n<i){var a=n+(i-n+1>>>1);if(r(t,e[a])>=0){n=a}else{i=a-1}}return n}function o(e,t,o,s){if(s!=null&&typeof s!=="function"){throw new Error("task callback must be a function")}e.started=true;if(!d(t)){t=[t]}if(t.length===0){return n.setImmediate(function(){e.drain()})}m(t,function(t){var u={data:t,priority:o,callback:typeof s==="function"?s:i};e.tasks.splice(a(e.tasks,u,r)+1,0,u);if(e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)})}var s=n.queue(e,t);s.push=function(e,t,r){o(s,e,t,r)};delete s.unshift;return s};n.cargo=function(e,t){return B(e,1,t)};function F(e){return N(function(t,r){t.apply(null,r.concat([N(function(t,r){if(typeof console==="object"){if(t){if(console.error){console.error(t)}}else if(console[e]){m(r,function(t){console[e](t)})}}})]))})}n.log=F("log");n.dir=F("dir");n.memoize=function(e,t){var r={};var i={};t=t||a;var o=N(function s(a){var o=a.pop();var s=t.apply(null,a);if(s in r){n.nextTick(function(){o.apply(null,r[s])})}else if(s in i){i[s].push(o)}else{i[s]=[o];e.apply(null,a.concat([N(function(e){r[s]=e;var t=i[s];delete i[s];for(var n=0,a=t.length;n<a;n++){t[n].apply(null,e)}})]))}});o.memo=r;o.unmemoized=e;return o};n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};function z(e){return function(t,r,n){e(b(t),r,n)}}n.times=z(n.map);n.timesSeries=z(n.mapSeries);n.timesLimit=function(e,t,r,i){return n.mapLimit(b(e),t,r,i)};n.seq=function(){var e=arguments;return N(function(t){var r=this;var a=t[t.length-1];if(typeof a=="function"){t.pop()}else{a=i}n.reduce(e,t,function(e,t,n){t.apply(r,e.concat([N(function(e,t){n(e,t)})]))},function(e,t){a.apply(r,[e].concat(t))})})};n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};function V(e){return N(function(t,r){var n=N(function(r){var n=this;var i=r.pop();return e(t,function(e,t,i){e.apply(n,r.concat([i]))},i)});if(r.length){return n.apply(this,r)}else{return n}})}n.applyEach=V(n.eachOf);n.applyEachSeries=V(n.eachOfSeries);n.forever=function(e,t){var r=f(t||i);var n=G(e);function a(e){if(e){return r(e)}n(a)}a()};function G(e){return N(function(t){var r=t.pop();t.push(function(){var e=arguments;if(i){n.setImmediate(function(){r.apply(null,e)})}else{r.apply(null,e)}});var i=true;e.apply(this,t);i=false})}n.ensureAsync=G;n.constant=N(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}});n.wrapSync=n.asyncify=function H(e){return N(function(t){var r=t.pop();var n;try{n=e.apply(this,t)}catch(i){return r(i)}if(p(n)&&typeof n.then==="function"){n.then(function(e){r(null,e)})["catch"](function(e){r(e.message?e:new Error(e))})}else{r(null,n)}})};if(typeof t==="object"&&t.exports){t.exports=n}else if(typeof define==="function"&&define.amd){define([],function(){return n})}else{l.async=n}})()}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:22}],11:[function(e,t,r){},{}],12:[function(e,t,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],13:[function(e,t,r){var n=e("base64-js");var i=e("ieee754");var a=e("is-array");r.Buffer=u;r.SlowBuffer=w;r.INSPECT_MAX_BYTES=50;u.poolSize=8192;var o={};u.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new Uint8Array(1);t.foo=function(){return 42};t.constructor=e;return t.foo()===42&&t.constructor===e&&typeof t.subarray==="function"&&t.subarray(1,1).byteLength===0}catch(r){return false}}();function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e){if(!(this instanceof u)){if(arguments.length>1)return new u(e,arguments[1]);return new u(e)}this.length=0;this.parent=undefined;if(typeof e==="number"){return l(this,e)}if(typeof e==="string"){return f(this,e,arguments.length>1?arguments[1]:"utf8")}return c(this,e)}function l(e,t){e=y(e,t<0?0:b(t)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;r++){e[r]=0}}return e}function f(e,t,r){if(typeof r!=="string"||r==="")r="utf8";var n=x(t,r)|0;e=y(e,n);e.write(t,r);return e}function c(e,t){if(u.isBuffer(t))return h(e,t);if(a(t))return d(e,t);if(t==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(t.buffer instanceof ArrayBuffer){return p(e,t)}if(t instanceof ArrayBuffer){return v(e,t)}}if(t.length)return g(e,t);return m(e,t)}function h(e,t){var r=b(t.length)|0;e=y(e,r);t.copy(e,0,0,r);return e}function d(e,t){var r=b(t.length)|0;e=y(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function p(e,t){var r=b(t.length)|0;e=y(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function v(e,t){if(u.TYPED_ARRAY_SUPPORT){t.byteLength;e=u._augment(new Uint8Array(t))}else{e=p(e,new Uint8Array(t))}return e}function g(e,t){var r=b(t.length)|0;e=y(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function m(e,t){var r;var n=0;if(t.type==="Buffer"&&a(t.data)){r=t.data;n=b(r.length)|0}e=y(e,n);for(var i=0;i<n;i+=1){e[i]=r[i]&255}return e}function y(e,t){if(u.TYPED_ARRAY_SUPPORT){e=u._augment(new Uint8Array(t))}else{e.length=t;e._isBuffer=true}var r=t!==0&&t<=u.poolSize>>>1;if(r)e.parent=o;return e}function b(e){if(e>=s()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s().toString(16)+" bytes")}return e|0}function w(e,t){if(!(this instanceof w))return new w(e,t);var r=new u(e,t);delete r.parent;return r}u.isBuffer=function K(e){return!!(e!=null&&e._isBuffer)};u.compare=function Q(e,t){if(!u.isBuffer(e)||!u.isBuffer(t)){throw new TypeError("Arguments must be Buffers")}if(e===t)return 0;var r=e.length;var n=t.length;var i=0;var a=Math.min(r,n);while(i<a){if(e[i]!==t[i])break;++i}if(i!==a){r=e[i];n=t[i]}if(r<n)return-1;if(n<r)return 1;return 0};u.isEncoding=function ee(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function te(e,t){if(!a(e))throw new TypeError("list argument must be an Array of Buffers.");if(e.length===0){return new u(0)}var r;if(t===undefined){t=0;for(r=0;r<e.length;r++){t+=e[r].length}}var n=new u(t);var i=0;for(r=0;r<e.length;r++){var o=e[r];o.copy(n,i);i+=o.length}return n};function x(e,t){if(typeof e!=="string")e=""+e;var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase();n=true}}}u.byteLength=x;u.prototype.length=undefined;u.prototype.parent=undefined;function _(e,t,r){var n=false;t=t|0;r=r===undefined||r===Infinity?this.length:r|0;if(!e)e="utf8";if(t<0)t=0;if(r>this.length)r=this.length;if(r<=t)return"";while(true){switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return T(this,t,r);case"binary":return A(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}u.prototype.toString=function re(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return R(this,0,e);return _.apply(this,arguments)};u.prototype.equals=function ne(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return u.compare(this,e)===0};u.prototype.inspect=function ie(){var e="";var t=r.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};u.prototype.compare=function ae(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return 0;return u.compare(this,e)};u.prototype.indexOf=function oe(e,t){if(t>2147483647)t=2147483647;else if(t<-2147483648)t=-2147483648;t>>=0;if(this.length===0)return-1;if(t>=this.length)return-1;if(t<0)t=Math.max(this.length+t,0);if(typeof e==="string"){if(e.length===0)return-1;return String.prototype.indexOf.call(this,e,t)}if(u.isBuffer(e)){return r(this,e,t)}if(typeof e==="number"){if(u.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,e,t)}return r(this,[e],t)}function r(e,t,r){var n=-1;for(var i=0;r+i<e.length;i++){if(e[r+i]===t[n===-1?0:i-n]){if(n===-1)n=i;if(i-n+1===t.length)return r+n}else{n=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};u.prototype.get=function se(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};u.prototype.set=function ue(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function j(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");if(n>a/2){n=a/2}for(var o=0;o<n;o++){var s=parseInt(t.substr(o*2,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+o]=s}return o}function E(e,t,r,n){return Z(X(t,e.length-r),e,r,n)}function N(e,t,r,n){return Z($(t),e,r,n)}function I(e,t,r,n){return N(e,t,r,n)}function S(e,t,r,n){return Z(W(t),e,r,n)}function O(e,t,r,n){return Z(Y(t,e.length-r),e,r,n)}u.prototype.write=function le(e,t,r,n){if(t===undefined){n="utf8";r=this.length;t=0}else if(r===undefined&&typeof t==="string"){n=t;r=this.length;t=0}else if(isFinite(t)){t=t|0;if(isFinite(r)){r=r|0;if(n===undefined)n="utf8"}else{n=r;r=undefined}}else{var i=n;n=t;t=r|0;r=i}var a=this.length-t;if(r===undefined||r>a)r=a;if(e.length>0&&(r<0||t<0)||t>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!n)n="utf8";var o=false;for(;;){switch(n){case"hex":return j(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return N(this,e,t,r);case"binary":return I(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase();o=true}}};u.prototype.toJSON=function fe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function R(e,t,r){r=Math.min(e.length,r);var n;var i;var a;var o;var s;var u;var l;var f=[];var c=t;for(;c<r;c+=s){n=e[c];l=65533;if(n>239){s=4}else if(n>223){s=3}else if(n>191){s=2}else{s=1}if(c+s<=r){switch(s){case 1:if(n<128){l=n}break;case 2:i=e[c+1];if((i&192)===128){u=(n&31)<<6|i&63;if(u>127){l=u}}break;case 3:i=e[c+1];a=e[c+2];if((i&192)===128&&(a&192)===128){u=(n&15)<<12|(i&63)<<6|a&63;if(u>2047&&(u<55296||u>57343)){l=u}}break;case 4:i=e[c+1];a=e[c+2];o=e[c+3];if((i&192)===128&&(a&192)===128&&(o&192)===128){u=(n&15)<<18|(i&63)<<12|(a&63)<<6|o&63;if(u>65535&&u<1114112){l=u}}}}if(l===65533){s=1}else if(l>65535){l-=65536;f.push(l>>>10&1023|55296);l=56320|l&1023}f.push(l)}return String.fromCharCode.apply(String,f)}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;i++){n+=String.fromCharCode(e[i]&127)}return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;i++){n+=String.fromCharCode(e[i])}return n}function L(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var a=t;a<r;a++){i+=J(e[a])}return i}function C(e,t,r){var n=e.slice(t,r);var i="";for(var a=0;a<n.length;a+=2){i+=String.fromCharCode(n[a]+n[a+1]*256)}return i}u.prototype.slice=function ce(e,t){var r=this.length;e=~~e;t=t===undefined?r:~~t;if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(t<e)t=e;var n;if(u.TYPED_ARRAY_SUPPORT){n=u._augment(this.subarray(e,t))}else{var i=t-e;n=new u(i,undefined);for(var a=0;a<i;a++){n[a]=this[a+e]}}if(n.length)n.parent=this.parent||this;return n};function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function he(e,t,r){e=e|0;t=t|0;if(!r)D(e,t,this.length);var n=this[e];var i=1;var a=0;while(++a<t&&(i*=256)){n+=this[e+a]*i}return n};u.prototype.readUIntBE=function de(e,t,r){e=e|0;t=t|0;if(!r){D(e,t,this.length)}var n=this[e+--t];var i=1;while(t>0&&(i*=256)){n+=this[e+--t]*i}return n};u.prototype.readUInt8=function pe(e,t){if(!t)D(e,1,this.length);return this[e]};u.prototype.readUInt16LE=function ve(e,t){if(!t)D(e,2,this.length);return this[e]|this[e+1]<<8};u.prototype.readUInt16BE=function ge(e,t){if(!t)D(e,2,this.length);return this[e]<<8|this[e+1]};u.prototype.readUInt32LE=function me(e,t){if(!t)D(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};u.prototype.readUInt32BE=function ye(e,t){if(!t)D(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};u.prototype.readIntLE=function be(e,t,r){e=e|0;t=t|0;if(!r)D(e,t,this.length);var n=this[e];var i=1;var a=0;while(++a<t&&(i*=256)){n+=this[e+a]*i}i*=128;if(n>=i)n-=Math.pow(2,8*t);return n};u.prototype.readIntBE=function we(e,t,r){e=e|0;t=t|0;if(!r)D(e,t,this.length);var n=t;var i=1;var a=this[e+--n];while(n>0&&(i*=256)){a+=this[e+--n]*i}i*=128;if(a>=i)a-=Math.pow(2,8*t);return a};u.prototype.readInt8=function xe(e,t){if(!t)D(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};u.prototype.readInt16LE=function _e(e,t){if(!t)D(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};u.prototype.readInt16BE=function je(e,t){if(!t)D(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};u.prototype.readInt32LE=function Ee(e,t){if(!t)D(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};u.prototype.readInt32BE=function Ne(e,t){if(!t)D(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};u.prototype.readFloatLE=function Ie(e,t){if(!t)D(e,4,this.length);return i.read(this,e,true,23,4)};u.prototype.readFloatBE=function Se(e,t){if(!t)D(e,4,this.length);return i.read(this,e,false,23,4)};u.prototype.readDoubleLE=function Oe(e,t){if(!t)D(e,8,this.length);return i.read(this,e,true,52,8)};u.prototype.readDoubleBE=function ke(e,t){if(!t)D(e,8,this.length);return i.read(this,e,false,52,8)};function U(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<a)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}u.prototype.writeUIntLE=function Re(e,t,r,n){e=+e;t=t|0;r=r|0;if(!n)U(this,e,t,r,Math.pow(2,8*r),0);var i=1;var a=0;this[t]=e&255;while(++a<r&&(i*=256)){this[t+a]=e/i&255}return t+r};u.prototype.writeUIntBE=function Te(e,t,r,n){e=+e;t=t|0;r=r|0;if(!n)U(this,e,t,r,Math.pow(2,8*r),0);var i=r-1;var a=1;this[t+i]=e&255;while(--i>=0&&(a*=256)){this[t+i]=e/a&255}return t+r};u.prototype.writeUInt8=function Ae(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function P(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,a=Math.min(e.length-r,2);i<a;i++){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}u.prototype.writeUInt16LE=function Le(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{P(this,e,t,true)}return t+2};u.prototype.writeUInt16BE=function Ce(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{P(this,e,t,false)}return t+2};function M(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,a=Math.min(e.length-r,4);i<a;i++){e[r+i]=t>>>(n?i:3-i)*8&255}}u.prototype.writeUInt32LE=function De(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else{M(this,e,t,true)}return t+4};u.prototype.writeUInt32BE=function Ue(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{M(this,e,t,false)}return t+4};u.prototype.writeIntLE=function Pe(e,t,r,n){e=+e;t=t|0;if(!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i);
}var a=0;var o=1;var s=e<0?1:0;this[t]=e&255;while(++a<r&&(o*=256)){this[t+a]=(e/o>>0)-s&255}return t+r};u.prototype.writeIntBE=function Me(e,t,r,n){e=+e;t=t|0;if(!n){var i=Math.pow(2,8*r-1);U(this,e,t,r,i-1,-i)}var a=r-1;var o=1;var s=e<0?1:0;this[t+a]=e&255;while(--a>=0&&(o*=256)){this[t+a]=(e/o>>0)-s&255}return t+r};u.prototype.writeInt8=function qe(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};u.prototype.writeInt16LE=function Be(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{P(this,e,t,true)}return t+2};u.prototype.writeInt16BE=function Fe(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{P(this,e,t,false)}return t+2};u.prototype.writeInt32LE=function ze(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else{M(this,e,t,true)}return t+4};u.prototype.writeInt32BE=function Ve(e,t,r){e=+e;t=t|0;if(!r)U(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{M(this,e,t,false)}return t+4};function q(e,t,r,n,i,a){if(t>i||t<a)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function B(e,t,r,n,a){if(!a){q(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38)}i.write(e,t,r,n,23,4);return r+4}u.prototype.writeFloatLE=function Ge(e,t,r){return B(this,e,t,true,r)};u.prototype.writeFloatBE=function He(e,t,r){return B(this,e,t,false,r)};function F(e,t,r,n,a){if(!a){q(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308)}i.write(e,t,r,n,52,8);return r+8}u.prototype.writeDoubleLE=function Je(e,t,r){return F(this,e,t,true,r)};u.prototype.writeDoubleBE=function Xe(e,t,r){return F(this,e,t,false,r)};u.prototype.copy=function $e(e,t,r,n){if(!r)r=0;if(!n&&n!==0)n=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(n>0&&n<r)n=r;if(n===r)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length)n=this.length;if(e.length-t<n-r){n=e.length-t+r}var i=n-r;var a;if(this===e&&r<t&&t<n){for(a=i-1;a>=0;a--){e[a+t]=this[a+r]}}else if(i<1e3||!u.TYPED_ARRAY_SUPPORT){for(a=0;a<i;a++){e[a+t]=this[a+r]}}else{e._set(this.subarray(r,r+i),t)}return i};u.prototype.fill=function Ye(e,t,r){if(!e)e=0;if(!t)t=0;if(!r)r=this.length;if(r<t)throw new RangeError("end < start");if(r===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if(typeof e==="number"){for(n=t;n<r;n++){this[n]=e}}else{var i=X(e.toString());var a=i.length;for(n=t;n<r;n++){this[n]=i[n%a]}}return this};u.prototype.toArrayBuffer=function We(){if(typeof Uint8Array!=="undefined"){if(u.TYPED_ARRAY_SUPPORT){return new u(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,r=e.length;t<r;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var z=u.prototype;u._augment=function Ze(e){e.constructor=u;e._isBuffer=true;e._set=e.set;e.get=z.get;e.set=z.set;e.write=z.write;e.toString=z.toString;e.toLocaleString=z.toString;e.toJSON=z.toJSON;e.equals=z.equals;e.compare=z.compare;e.indexOf=z.indexOf;e.copy=z.copy;e.slice=z.slice;e.readUIntLE=z.readUIntLE;e.readUIntBE=z.readUIntBE;e.readUInt8=z.readUInt8;e.readUInt16LE=z.readUInt16LE;e.readUInt16BE=z.readUInt16BE;e.readUInt32LE=z.readUInt32LE;e.readUInt32BE=z.readUInt32BE;e.readIntLE=z.readIntLE;e.readIntBE=z.readIntBE;e.readInt8=z.readInt8;e.readInt16LE=z.readInt16LE;e.readInt16BE=z.readInt16BE;e.readInt32LE=z.readInt32LE;e.readInt32BE=z.readInt32BE;e.readFloatLE=z.readFloatLE;e.readFloatBE=z.readFloatBE;e.readDoubleLE=z.readDoubleLE;e.readDoubleBE=z.readDoubleBE;e.writeUInt8=z.writeUInt8;e.writeUIntLE=z.writeUIntLE;e.writeUIntBE=z.writeUIntBE;e.writeUInt16LE=z.writeUInt16LE;e.writeUInt16BE=z.writeUInt16BE;e.writeUInt32LE=z.writeUInt32LE;e.writeUInt32BE=z.writeUInt32BE;e.writeIntLE=z.writeIntLE;e.writeIntBE=z.writeIntBE;e.writeInt8=z.writeInt8;e.writeInt16LE=z.writeInt16LE;e.writeInt16BE=z.writeInt16BE;e.writeInt32LE=z.writeInt32LE;e.writeInt32BE=z.writeInt32BE;e.writeFloatLE=z.writeFloatLE;e.writeFloatBE=z.writeFloatBE;e.writeDoubleLE=z.writeDoubleLE;e.writeDoubleBE=z.writeDoubleBE;e.fill=z.fill;e.inspect=z.inspect;e.toArrayBuffer=z.toArrayBuffer;return e};var V=/[^+\/0-9A-Za-z-_]/g;function G(e){e=H(e).replace(V,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function H(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function J(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function X(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var a=[];for(var o=0;o<n;o++){r=e.charCodeAt(o);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)a.push(239,191,189);continue}else if(o+1===n){if((t-=3)>-1)a.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)a.push(239,191,189);i=r;continue}r=i-55296<<10|r-56320|65536}else if(i){if((t-=3)>-1)a.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return a}function $(e){var t=[];for(var r=0;r<e.length;r++){t.push(e.charCodeAt(r)&255)}return t}function Y(e,t){var r,n,i;var a=[];for(var o=0;o<e.length;o++){if((t-=2)<0)break;r=e.charCodeAt(o);n=r>>8;i=r%256;a.push(i);a.push(n)}return a}function W(e){return n.toByteArray(G(e))}function Z(e,t,r,n){for(var i=0;i<n;i++){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}},{"base64-js":14,ieee754:15,"is-array":16}],14:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var r="+".charCodeAt(0);var i="/".charCodeAt(0);var a="0".charCodeAt(0);var o="a".charCodeAt(0);var s="A".charCodeAt(0);var u="-".charCodeAt(0);var l="_".charCodeAt(0);function f(e){var t=e.charCodeAt(0);if(t===r||t===u)return 62;if(t===i||t===l)return 63;if(t<a)return-1;if(t<a+10)return t-a+26+26;if(t<s+26)return t-s;if(t<o+26)return t-o+26}function c(e){var r,n,i,a,o,s;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var u=e.length;o="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0;s=new t(e.length*3/4-o);i=o>0?e.length-4:e.length;var l=0;function c(e){s[l++]=e}for(r=0,n=0;r<i;r+=4,n+=3){a=f(e.charAt(r))<<18|f(e.charAt(r+1))<<12|f(e.charAt(r+2))<<6|f(e.charAt(r+3));c((a&16711680)>>16);c((a&65280)>>8);c(a&255)}if(o===2){a=f(e.charAt(r))<<2|f(e.charAt(r+1))>>4;c(a&255)}else if(o===1){a=f(e.charAt(r))<<10|f(e.charAt(r+1))<<4|f(e.charAt(r+2))>>2;c(a>>8&255);c(a&255)}return s}function h(e){var t,r=e.length%3,i="",a,o;function s(e){return n.charAt(e)}function u(e){return s(e>>18&63)+s(e>>12&63)+s(e>>6&63)+s(e&63)}for(t=0,o=e.length-r;t<o;t+=3){a=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=u(a)}switch(r){case 1:a=e[e.length-1];i+=s(a>>2);i+=s(a<<4&63);i+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1];i+=s(a>>10);i+=s(a>>4&63);i+=s(a<<2&63);i+="=";break}return i}e.toByteArray=c;e.fromByteArray=h})(typeof r==="undefined"?this.base64js={}:r)},{}],15:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o;var s=i*8-n-1;var u=(1<<s)-1;var l=u>>1;var f=-7;var c=r?i-1:0;var h=r?-1:1;var d=e[t+c];c+=h;a=d&(1<<-f)-1;d>>=-f;f+=s;for(;f>0;a=a*256+e[t+c],c+=h,f-=8){}o=a&(1<<-f)-1;a>>=-f;f+=n;for(;f>0;o=o*256+e[t+c],c+=h,f-=8){}if(a===0){a=1-l}else if(a===u){return o?NaN:(d?-1:1)*Infinity}else{o=o+Math.pow(2,n);a=a-l}return(d?-1:1)*o*Math.pow(2,a-n)};r.write=function(e,t,r,n,i,a){var o,s,u;var l=a*8-i-1;var f=(1<<l)-1;var c=f>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=n?0:a-1;var p=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){s=isNaN(t)?1:0;o=f}else{o=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-o))<1){o--;u*=2}if(o+c>=1){t+=h/u}else{t+=h*Math.pow(2,1-c)}if(t*u>=2){o++;u/=2}if(o+c>=f){s=0;o=f}else if(o+c>=1){s=(t*u-1)*Math.pow(2,i);o=o+c}else{s=t*Math.pow(2,c-1)*Math.pow(2,i);o=0}}for(;i>=8;e[r+d]=s&255,d+=p,s/=256,i-=8){}o=o<<i|s;l+=i;for(;l>0;e[r+d]=o&255,d+=p,o/=256,l-=8){}e[r+d-p]|=v*128}},{}],16:[function(e,t,r){var n=Array.isArray;var i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],17:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,a,u,l;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(s(r))return false;if(i(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;a=new Array(n-1);for(u=1;u<n;u++)a[u-1]=arguments[u];r.apply(this,a)}}else if(o(r)){n=arguments.length;a=new Array(n-1);for(u=1;u<n;u++)a[u-1]=arguments[u];l=r.slice();n=l.length;for(u=0;u<n;u++)l[u].apply(this,a)}return true};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var r;if(!s(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(r)){for(s=a;s-->0;){if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(i(e._events[t]))r=1;else r=e._events[t].length;return r};function i(e){return typeof e==="function"}function a(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function s(e){return e===void 0}},{}],18:[function(e,t,r){var n=e("http");var i=t.exports;for(var a in n){if(n.hasOwnProperty(a))i[a]=n[a]}i.request=function(e,t){if(!e)e={};e.scheme="https";return n.request.call(this,e,t)}},{http:41}],19:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function n(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],20:[function(e,t,r){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],21:[function(e,t,r){(function(e){function t(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var i=function(e){return n.exec(e).slice(1)};r.resolve=function(){var r="",n=false;for(var i=arguments.length-1;i>=-1&&!n;i--){var o=i>=0?arguments[i]:e.cwd();if(typeof o!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!o){continue}r=o+"/"+r;n=o.charAt(0)==="/"}r=t(a(r.split("/"),function(e){return!!e}),!n).join("/");return(n?"/":"")+r||"."};r.normalize=function(e){var n=r.isAbsolute(e),i=o(e,-1)==="/";e=t(a(e.split("/"),function(e){return!!e}),!n).join("/");if(!e&&!n){e="."}if(e&&i){e+="/"}return(n?"/":"")+e};r.isAbsolute=function(e){return e.charAt(0)==="/"};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(a(e,function(e,t){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e}).join("/"))};r.relative=function(e,t){e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=n(e.split("/"));var a=n(t.split("/"));var o=Math.min(i.length,a.length);var s=o;for(var u=0;u<o;u++){if(i[u]!==a[u]){s=u;break}}var l=[];for(var u=s;u<i.length;u++){l.push("..")}l=l.concat(a.slice(s));return l.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){var t=i(e),r=t[0],n=t[1];if(!r&&!n){return"."}if(n){n=n.substr(0,n.length-1)}return r+n};r.basename=function(e,t){var r=i(e)[2];if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};r.extname=function(e){return i(e)[3]};function a(e,t){if(e.filter)return e.filter(t);var r=[];for(var n=0;n<e.length;n++){if(t(e[n],n,e))r.push(e[n])}return r}var o="ab".substr(-1)==="b"?function(e,t,r){return e.substr(t,r)}:function(e,t,r){if(t<0)t=e.length+t;return e.substr(t,r)}}).call(this,e("_process"))},{_process:22}],22:[function(e,t,r){var n=t.exports={};var i=[];var a=false;var o;var s=-1;function u(){a=false;if(o.length){i=o.concat(i)}else{s=-1}if(i.length){l()}}function l(){if(a){return}var e=setTimeout(u);a=true;var t=i.length;while(t){o=i;i=[];while(++s<t){o[s].run()}s=-1;t=i.length}o=null;a=false;clearTimeout(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new f(e,t));if(i.length===1&&!a){setTimeout(l,0)}};function f(e,t){this.fun=e;this.array=t}f.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function c(){}n.on=c;n.addListener=c;n.once=c;n.off=c;n.removeListener=c;n.removeAllListeners=c;n.emit=c;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],23:[function(e,t,r){(function(e){(function(n){var i=typeof r=="object"&&r&&!r.nodeType&&r;var a=typeof t=="object"&&t&&!t.nodeType&&t;var o=typeof e=="object"&&e;if(o.global===o||o.window===o||o.self===o){n=o}var s,u=2147483647,l=36,f=1,c=26,h=38,d=700,p=72,v=128,g="-",m=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-f,_=Math.floor,j=String.fromCharCode,E;function N(e){throw RangeError(w[e])}function I(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function S(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(b,".");var i=e.split(".");var a=I(i,t).join(".");return n+a}function O(e){var t=[],r=0,n=e.length,i,a;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){a=e.charCodeAt(r++);if((a&64512)==56320){t.push(((i&1023)<<10)+(a&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function k(e){return I(e,function(e){var t="";if(e>65535){e-=65536;t+=j(e>>>10&1023|55296);e=56320|e&1023}t+=j(e);return t}).join("")}function R(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return l}function T(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function A(e,t,r){var n=0;e=r?_(e/d):e>>1;e+=_(e/t);for(;e>x*c>>1;n+=l){e=_(e/x)}return _(n+(x+1)*e/(e+h))}function L(e){var t=[],r=e.length,n,i=0,a=v,o=p,s,h,d,m,y,b,w,x,j;s=e.lastIndexOf(g);if(s<0){s=0}for(h=0;h<s;++h){if(e.charCodeAt(h)>=128){N("not-basic")}t.push(e.charCodeAt(h))}for(d=s>0?s+1:0;d<r;){for(m=i,y=1,b=l;;b+=l){if(d>=r){N("invalid-input")}w=R(e.charCodeAt(d++));if(w>=l||w>_((u-i)/y)){N("overflow")}i+=w*y;x=b<=o?f:b>=o+c?c:b-o;if(w<x){break}j=l-x;if(y>_(u/j)){N("overflow")}y*=j}n=t.length+1;o=A(i-m,n,m==0);if(_(i/n)>u-a){N("overflow")}a+=_(i/n);i%=n;t.splice(i++,0,a)}return k(t)}function C(e){var t,r,n,i,a,o,s,h,d,m,y,b=[],w,x,E,I;e=O(e);w=e.length;t=v;r=0;a=p;for(o=0;o<w;++o){y=e[o];if(y<128){b.push(j(y))}}n=i=b.length;if(i){b.push(g)}while(n<w){for(s=u,o=0;o<w;++o){y=e[o];if(y>=t&&y<s){s=y}}x=n+1;if(s-t>_((u-r)/x)){N("overflow")}r+=(s-t)*x;t=s;for(o=0;o<w;++o){y=e[o];if(y<t&&++r>u){N("overflow")}if(y==t){for(h=r,d=l;;d+=l){m=d<=a?f:d>=a+c?c:d-a;if(h<m){break}I=h-m;E=l-m;b.push(j(T(m+I%E,0)));h=_(I/E)}b.push(j(T(h,0)));a=A(r,x,n==i);r=0;++n}}++r;++t}return b.join("")}function D(e){return S(e,function(e){return m.test(e)?L(e.slice(4).toLowerCase()):e})}function U(e){return S(e,function(e){return y.test(e)?"xn--"+C(e):e})}s={version:"1.3.2",ucs2:{decode:O,encode:k},decode:L,encode:C,toASCII:U,toUnicode:D};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return s})}else if(i&&a){if(t.exports==i){a.exports=s}else{for(E in s){s.hasOwnProperty(E)&&(i[E]=s[E])}}}else{n.punycode=s}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],24:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,a){t=t||"&";r=r||"=";var o={};if(typeof e!=="string"||e.length===0){return o}var s=/\+/g;e=e.split(t);var u=1e3;if(a&&typeof a.maxKeys==="number"){u=a.maxKeys}var l=e.length;if(u>0&&l>u){l=u}for(var f=0;f<l;++f){var c=e[f].replace(s,"%20"),h=c.indexOf(r),d,p,v,g;if(h>=0){d=c.substr(0,h);p=c.substr(h+1)}else{d=c;p=""}v=decodeURIComponent(d);g=decodeURIComponent(p);if(!n(o,v)){o[v]=g}else if(i(o[v])){o[v].push(g)}else{o[v]=[o[v],g]}}return o};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],25:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,s){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return a(o(e),function(o){var s=encodeURIComponent(n(o))+r;if(i(e[o])){return a(e[o],function(e){return s+encodeURIComponent(n(e))}).join(t)}else{return s+encodeURIComponent(n(e[o]))}}).join(t)}if(!s)return"";return encodeURIComponent(n(s))+r+encodeURIComponent(n(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function a(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var o=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},{}],26:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode");r.encode=r.stringify=e("./encode")},{"./decode":24,"./encode":25}],27:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":28}],28:[function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("process-nextick-args");var a=e("core-util-is");a.inherits=e("inherits");var o=e("./_stream_readable");var s=e("./_stream_writable");a.inherits(c,o);var u=n(s.prototype);for(var l=0;l<u.length;l++){var f=u[l];if(!c.prototype[f])c.prototype[f]=s.prototype[f]}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e);s.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}function h(){if(this.allowHalfOpen||this._writableState.ended)return;i(d,this)}function d(e){e.end()}function p(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}},{"./_stream_readable":30,"./_stream_writable":32,"core-util-is":33,inherits:19,"process-nextick-args":34}],29:[function(e,t,r){"use strict";t.exports=a;var n=e("./_stream_transform");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(a,n);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}a.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":31,"core-util-is":33,inherits:19}],30:[function(e,t,r){(function(r){"use strict";t.exports=h;var n=e("process-nextick-args");var i=e("isarray");var a=e("buffer").Buffer;h.ReadableState=c;var o=e("events").EventEmitter;if(!o.listenerCount)o.listenerCount=function(e,t){return e.listeners(t).length};var s;(function(){try{s=e("st"+"ream")}catch(t){}finally{if(!s)s=e("events").EventEmitter}})();var a=e("buffer").Buffer;var u=e("core-util-is");u.inherits=e("inherits");var l=e("util");if(l&&l.debuglog){l=l.debuglog("stream")}else{l=function(){}}var f;u.inherits(h,s);function c(t,r){var n=e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(r instanceof n)this.objectMode=this.objectMode||!!t.readableObjectMode;var i=t.highWaterMark;var a=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:a;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!f)f=e("string_decoder/").StringDecoder;this.decoder=new f(t.encoding);this.encoding=t.encoding}}function h(t){var r=e("./_stream_duplex");if(!(this instanceof h))return new h(t);this._readableState=new c(t,this);this.readable=true;if(t&&typeof t.read==="function")this._read=t.read;s.call(this)}h.prototype.push=function(e,t){var r=this._readableState;if(!r.objectMode&&typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=new a(e,t);t=""}}return d(this,r,e,t,false)};h.prototype.unshift=function(e){var t=this._readableState;return d(this,t,e,"",true)};h.prototype.isPaused=function(){return this._readableState.flowing===false};function d(e,t,r,n,i){var a=y(t,r);if(a){e.emit("error",a)}else if(r===null){t.reading=false;b(e,t)}else if(t.objectMode||r&&r.length>0){if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{if(t.decoder&&!i&&!n)r=t.decoder.write(r);if(!i)t.reading=false;if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(i)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)w(e)}_(e,t)}}else if(!i){t.reading=false}return p(t)}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}h.prototype.setEncoding=function(t){if(!f)f=e("string_decoder/").StringDecoder;this._readableState.decoder=new f(t);this._readableState.encoding=t;return this};var v=8388608;function g(e){if(e>=v){e=v}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function m(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(e===null||isNaN(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=g(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else{return t.length}}return e}h.prototype.read=function(e){l("read",e);var t=this._readableState;var r=e;if(typeof e!=="number"||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){l("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)R(this);else w(this);return null}e=m(e,t);if(e===0&&t.ended){if(t.length===0)R(this);return null}var n=t.needReadable;l("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;l("length less than watermark",n)}if(t.ended||t.reading){n=false;l("reading or ended",n)}if(n){l("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(n&&!t.reading)e=m(r,t);var i;if(e>0)i=k(e,t);else i=null;if(i===null){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(r!==e&&t.ended&&t.length===0)R(this);if(i!==null)this.emit("data",i);return i};function y(e,t){var r=null;if(!a.isBuffer(t)&&typeof t!=="string"&&t!==null&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function b(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;w(e)}function w(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){l("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)n(x,e);else x(e)}}function x(e){l("emit readable");e.emit("readable");O(e)}function _(e,t){if(!t.readingMore){t.readingMore=true;n(j,e,t)}}function j(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){l("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}h.prototype._read=function(e){this.emit("error",new Error("not implemented"))};h.prototype.pipe=function(e,t){var a=this;var s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1;l("pipe count=%d opts=%j",s.pipesCount,t);var u=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var f=u?h:p;if(s.endEmitted)n(f);else a.once("end",f);e.on("unpipe",c);function c(e){l("onunpipe");if(e===a){p()}}function h(){l("onend");e.end()}var d=E(a);e.on("drain",d);function p(){l("cleanup");e.removeListener("close",m);e.removeListener("finish",y);e.removeListener("drain",d);e.removeListener("error",g);e.removeListener("unpipe",c);a.removeListener("end",h);a.removeListener("end",p);a.removeListener("data",v);if(s.awaitDrain&&(!e._writableState||e._writableState.needDrain))d()}a.on("data",v);function v(t){l("ondata");var r=e.write(t);if(false===r){l("false write response, pause",a._readableState.awaitDrain);a._readableState.awaitDrain++;a.pause()}}function g(t){l("onerror",t);b();e.removeListener("error",g);if(o.listenerCount(e,"error")===0)e.emit("error",t)}if(!e._events||!e._events.error)e.on("error",g);else if(i(e._events.error))e._events.error.unshift(g);else e._events.error=[g,e._events.error];function m(){e.removeListener("finish",y);b()}e.once("close",m);function y(){l("onfinish");e.removeListener("close",m);b()}e.once("finish",y);function b(){l("unpipe");a.unpipe(e)}e.emit("pipe",a);if(!s.flowing){l("pipe resume");a.resume()}return e};function E(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&o.listenerCount(e,"data")){t.flowing=true;O(e)}}}h.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var r=t.pipes;var n=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=L(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};h.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);if(e==="data"&&false!==this._readableState.flowing){this.resume()}if(e==="readable"&&this.readable){var i=this._readableState;if(!i.readableListening){i.readableListening=true;i.emittedReadable=false;i.needReadable=true;if(!i.reading){n(N,this)}else if(i.length){w(this,i)}}}return r};h.prototype.addListener=h.prototype.on;function N(e){l("readable nexttick read 0");e.read(0)}h.prototype.resume=function(){var e=this._readableState;if(!e.flowing){l("resume");e.flowing=true;I(this,e)}return this};function I(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;n(S,e,t)}}function S(e,t){if(!t.reading){l("resume read 0");e.read(0)}t.resumeScheduled=false;e.emit("resume");O(e);if(t.flowing&&!t.reading)e.read(0)}h.prototype.pause=function(){l("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){l("pause");this._readableState.flowing=false;this.emit("pause")}return this};function O(e){var t=e._readableState;l("flow",t.flowing);if(t.flowing){do{var r=e.read()}while(null!==r&&t.flowing)}}h.prototype.wrap=function(e){var t=this._readableState;var r=false;var n=this;e.on("end",function(){l("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});e.on("data",function(i){l("wrapped data");if(t.decoder)i=t.decoder.write(i);if(t.objectMode&&(i===null||i===undefined))return;else if(!t.objectMode&&(!i||!i.length))return;var a=n.push(i);if(!a){r=true;e.pause()}});for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}var a=["error","close","destroy","pause","resume"];A(a,function(t){e.on(t,n.emit.bind(n,t))});n._read=function(t){l("wrapped _read",t);if(r){r=false;e.resume()}};return n};h._fromList=k;function k(e,t){var r=t.buffer;var n=t.length;var i=!!t.decoder;var o=!!t.objectMode;var s;if(r.length===0)return null;if(n===0)s=null;else if(o)s=r.shift();else if(!e||e>=n){if(i)s=r.join("");else s=a.concat(r,n);r.length=0}else{if(e<r[0].length){var u=r[0];s=u.slice(0,e);r[0]=u.slice(e)}else if(e===r[0].length){s=r.shift()}else{if(i)s="";else s=new a(e);var l=0;for(var f=0,c=r.length;f<c&&l<e;f++){var u=r[0];var h=Math.min(e-l,u.length);if(i)s+=u.slice(0,h);else u.copy(s,l,0,h);if(h<u.length)r[0]=u.slice(h);else r.shift();l+=h}}}return s}function R(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted){t.ended=true;n(T,t,e);
}}function T(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function A(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}function L(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,e("_process"))},{"./_stream_duplex":28,_process:22,buffer:13,"core-util-is":33,events:17,inherits:19,isarray:20,"process-nextick-args":34,"string_decoder/":50,util:12}],31:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_duplex");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(s,n);function a(e){this.afterTransform=function(t,r){return o(e,t,r)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function o(e,t,r){var n=e._transformState;n.transforming=false;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null;n.writecb=null;if(r!==null&&r!==undefined)e.push(r);if(i)i(t);var a=e._readableState;a.reading=false;if(a.needReadable||a.length<a.highWaterMark){e._read(a.highWaterMark)}}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e);this._transformState=new a(this);var t=this;this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(e){u(t,e)});else u(t)})}s.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};s.prototype._transform=function(e,t,r){throw new Error("not implemented")};s.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};s.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function u(e,t){if(t)return e.emit("error",t);var r=e._writableState;var n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":28,"core-util-is":33,inherits:19}],32:[function(e,t,r){"use strict";t.exports=f;var n=e("process-nextick-args");var i=e("buffer").Buffer;f.WritableState=l;var a=e("core-util-is");a.inherits=e("inherits");var o;(function(){try{o=e("st"+"ream")}catch(t){}finally{if(!o)o=e("events").EventEmitter}})();var i=e("buffer").Buffer;a.inherits(f,o);function s(){}function u(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function l(t,r){var n=e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(r instanceof n)this.objectMode=this.objectMode||!!t.writableObjectMode;var i=t.highWaterMark;var a=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:a;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var o=t.decodeStrings===false;this.decodeStrings=!o;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){y(r,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}l.prototype.getBuffer=function I(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(l.prototype,"buffer",{get:e("util-deprecate")(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use "+"_writableState.getBuffer() instead.")})}catch(t){}})();function f(t){var r=e("./_stream_duplex");if(!(this instanceof f)&&!(this instanceof r))return new f(t);this._writableState=new l(t,this);this.writable=true;if(t){if(typeof t.write==="function")this._write=t.write;if(typeof t.writev==="function")this._writev=t.writev}o.call(this)}f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function c(e,t){var r=new Error("write after end");e.emit("error",r);n(t,r)}function h(e,t,r,a){var o=true;if(!i.isBuffer(r)&&typeof r!=="string"&&r!==null&&r!==undefined&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s);n(a,s);o=false}return o}f.prototype.write=function(e,t,r){var n=this._writableState;var a=false;if(typeof t==="function"){r=t;t=null}if(i.isBuffer(e))t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=s;if(n.ended)c(this,r);else if(h(this,n,e,r)){n.pendingcb++;a=p(this,n,e,t,r)}return a};f.prototype.cork=function(){var e=this._writableState;e.corked++};f.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)x(this,e)}};f.prototype.setDefaultEncoding=function S(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e};function d(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=new i(t,r)}return t}function p(e,t,r,n,a){r=d(t,r,n);if(i.isBuffer(r))n="buffer";var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;if(!s)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new u(r,n,a);if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}}else{v(e,t,false,o,r,n,a)}return s}function v(e,t,r,n,i,a,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function g(e,t,r,i,a){--t.pendingcb;if(r)n(a,i);else a(i);e._writableState.errorEmitted=true;e.emit("error",i)}function m(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function y(e,t){var r=e._writableState;var i=r.sync;var a=r.writecb;m(r);if(t)g(e,r,i,t,a);else{var o=_(r);if(!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){x(e,r)}if(i){n(b,e,r,o,a)}else{b(e,r,o,a)}}}function b(e,t,r,n){if(!r)w(e,t);t.pendingcb--;n();E(e,t)}function w(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function x(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=[];var i=[];while(r){i.push(r.callback);n.push(r);r=r.next}t.pendingcb++;t.lastBufferedRequest=null;v(e,t,true,t.length,n,"",function(e){for(var r=0;r<i.length;r++){t.pendingcb--;i[r](e)}})}else{while(r){var a=r.chunk;var o=r.encoding;var s=r.callback;var u=t.objectMode?1:a.length;v(e,t,false,u,a,o,s);r=r.next;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}f.prototype._write=function(e,t,r){r(new Error("not implemented"))};f.prototype._writev=null;f.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)N(this,n,r)};function _(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function j(e,t){if(!t.prefinished){t.prefinished=true;e.emit("prefinish")}}function E(e,t){var r=_(t);if(r){if(t.pendingcb===0){j(e,t);t.finished=true;e.emit("finish")}else{j(e,t)}}return r}function N(e,t,r){t.ending=true;E(e,t);if(r){if(t.finished)n(r);else e.once("finish",r)}t.ended=true}},{"./_stream_duplex":28,buffer:13,"core-util-is":33,events:17,inherits:19,"process-nextick-args":34,"util-deprecate":35}],33:[function(e,t,r){(function(e){function t(e){return Array.isArray(e)}r.isArray=t;function n(e){return typeof e==="boolean"}r.isBoolean=n;function i(e){return e===null}r.isNull=i;function a(e){return e==null}r.isNullOrUndefined=a;function o(e){return typeof e==="number"}r.isNumber=o;function s(e){return typeof e==="string"}r.isString=s;function u(e){return typeof e==="symbol"}r.isSymbol=u;function l(e){return e===void 0}r.isUndefined=l;function f(e){return c(e)&&m(e)==="[object RegExp]"}r.isRegExp=f;function c(e){return typeof e==="object"&&e!==null}r.isObject=c;function h(e){return c(e)&&m(e)==="[object Date]"}r.isDate=h;function d(e){return c(e)&&(m(e)==="[object Error]"||e instanceof Error)}r.isError=d;function p(e){return typeof e==="function"}r.isFunction=p;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=v;function g(t){return e.isBuffer(t)}r.isBuffer=g;function m(e){return Object.prototype.toString.call(e)}}).call(this,e("buffer").Buffer)},{buffer:13}],34:[function(e,t,r){(function(e){"use strict";t.exports=r;function r(t){var r=new Array(arguments.length-1);var n=0;while(n<arguments.length){r[n++]=arguments[n]}e.nextTick(function i(){t.apply(null,r)})}}).call(this,e("_process"))},{_process:22}],35:[function(e,t,r){(function(e){t.exports=r;function r(e,t){if(n("noDeprecation")){return e}var r=false;function i(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return i}function n(t){if(!e.localStorage)return false;var r=e.localStorage[t];if(null==r)return false;return String(r).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],36:[function(e,t,r){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":29}],37:[function(e,t,r){var n=function(){try{return e("st"+"ream")}catch(t){}}();r=t.exports=e("./lib/_stream_readable.js");r.Stream=n||r;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":28,"./lib/_stream_passthrough.js":29,"./lib/_stream_readable.js":30,"./lib/_stream_transform.js":31,"./lib/_stream_writable.js":32}],38:[function(e,t,r){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":31}],39:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":32}],40:[function(e,t,r){t.exports=a;var n=e("events").EventEmitter;var i=e("inherits");i(a,n);a.Readable=e("readable-stream/readable.js");a.Writable=e("readable-stream/writable.js");a.Duplex=e("readable-stream/duplex.js");a.Transform=e("readable-stream/transform.js");a.PassThrough=e("readable-stream/passthrough.js");a.Stream=a;function a(){n.call(this)}a.prototype.pipe=function(e,t){var r=this;function i(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",i);function a(){if(r.readable&&r.resume){r.resume()}}e.on("drain",a);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",s);r.on("close",u)}var o=false;function s(){if(o)return;o=true;e.end()}function u(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function l(e){f();if(n.listenerCount(this,"error")===0){throw e}}r.on("error",l);e.on("error",l);function f(){r.removeListener("data",i);e.removeListener("drain",a);r.removeListener("end",s);r.removeListener("close",u);r.removeListener("error",l);e.removeListener("error",l);r.removeListener("end",f);r.removeListener("close",f);e.removeListener("close",f)}r.on("end",f);r.on("close",f);e.on("close",f);e.emit("pipe",r);return e}},{events:17,inherits:19,"readable-stream/duplex.js":27,"readable-stream/passthrough.js":36,"readable-stream/readable.js":37,"readable-stream/transform.js":38,"readable-stream/writable.js":39}],41:[function(e,t,r){var n=e("./lib/request");var i=e("xtend");var a=e("builtin-status-codes");var o=e("url");var s=r;s.request=function(e,t){if(typeof e==="string")e=o.parse(e);else e=i(e);var r=e.host?e.host.split(":")[0]:null;var a=e.host?parseInt(e.host.split(":")[1],10):null;e.method=e.method||"GET";e.headers=e.headers||{};e.path=e.path||"/";e.protocol=e.protocol||window.location.protocol;var s=e.hostname||r?e.protocol==="https:"?443:80:window.location.port;e.hostname=e.hostname||r||window.location.hostname;e.port=e.port||a||s;var u=new n(e);if(t)u.on("response",t);return u};s.get=function u(e,t){var r=s.request(e,t);r.end();return r};s.Agent=function(){};s.Agent.defaultMaxSockets=4;s.STATUS_CODES=a;s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},{"./lib/request":43,"builtin-status-codes":45,url:51,xtend:54}],42:[function(e,t,r){r.fetch=u(window.fetch)&&u(window.ReadableByteStream);r.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);r.blobConstructor=true}catch(n){}var i=new window.XMLHttpRequest;i.open("GET","/");function a(e){try{i.responseType=e;return i.responseType===e}catch(t){}return false}var o=u(window.ArrayBuffer);var s=o&&u(window.ArrayBuffer.prototype.slice);r.arraybuffer=o&&a("arraybuffer");r.msstream=s&&a("ms-stream");r.mozchunkedarraybuffer=o&&a("moz-chunked-arraybuffer");r.overrideMimeType=u(i.overrideMimeType);r.vbArray=u(window.VBArray);function u(e){return typeof e==="function"}i=null},{}],43:[function(e,t,r){(function(r,n){var i=e("./capability");var a=e("foreach");var o=e("indexof");var s=e("inherits");var u=e("object-keys");var l=e("./response");var f=e("stream");var c=l.IncomingMessage;var h=l.readyStates;function d(e){if(i.fetch){return"fetch"}else if(i.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(i.msstream){return"ms-stream"}else if(i.arraybuffer&&e){return"arraybuffer"}else if(i.vbArray&&e){return"text:vbarray"}else{return"text"}}var p=t.exports=function(e){var t=this;f.Writable.call(t);t._opts=e;t._url=e.protocol+"//"+e.hostname+":"+e.port+e.path;t._body=[];t._headers={};if(e.auth)t.setHeader("Authorization","Basic "+new n(e.auth).toString("base64"));a(u(e.headers),function(r){t.setHeader(r,e.headers[r])});var r;if(e.mode==="prefer-streaming"){r=false}else if(e.mode==="prefer-fast"){r=true}else if(!e.mode||e.mode==="default"){r=!i.overrideMimeType}else{throw new Error("Invalid value for opts.mode")}t._mode=d(r);t.on("finish",function(){t._onFinish()})};s(p,f.Writable);p.prototype.setHeader=function(e,t){var r=this;var n=e.toLowerCase();if(o(g,n)!==-1)return;r._headers[n]={name:e,value:t}};p.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value};p.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};p.prototype._onFinish=function(){var e=this;if(e._destroyed)return;var t=e._opts;var o=e._headers;var s;if(t.method==="POST"||t.method==="PUT"){if(i.blobConstructor){s=new window.Blob(e._body.map(function(e){return e.toArrayBuffer()}),{type:(o["content-type"]||{}).value||""})}else{s=n.concat(e._body).toString()}}if(e._mode==="fetch"){var l=u(o).map(function(e){return[o[e].name,o[e].value]});window.fetch(e._url,{method:e._opts.method,headers:l,body:s,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t;e._connect()}).then(undefined,function(t){e.emit("error",t)})}else{var f=e._xhr=new window.XMLHttpRequest;try{f.open(e._opts.method,e._url,true)}catch(c){r.nextTick(function(){e.emit("error",c)});return}if("responseType"in f)f.responseType=e._mode.split(":")[0];if("withCredentials"in f)f.withCredentials=!!t.withCredentials;if(e._mode==="text"&&"overrideMimeType"in f)f.overrideMimeType("text/plain; charset=x-user-defined");a(u(o),function(e){f.setRequestHeader(o[e].name,o[e].value)});e._response=null;f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:e._onXHRProgress();break}};if(e._mode==="moz-chunked-arraybuffer"){f.onprogress=function(){e._onXHRProgress()}}f.onerror=function(){if(e._destroyed)return;e.emit("error",new Error("XHR error"))};try{f.send(s)}catch(c){r.nextTick(function(){e.emit("error",c)});return}}};function v(e){try{return e.status!==null}catch(t){return false}}p.prototype._onXHRProgress=function(){var e=this;if(!v(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress()};p.prototype._connect=function(){var e=this;if(e._destroyed)return;e._response=new c(e._xhr,e._fetchResponse,e._mode);e.emit("response",e._response)};p.prototype._write=function(e,t,r){var n=this;n._body.push(e);r()};p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=true;if(e._response)e._response._destroyed=true;if(e._xhr)e._xhr.abort()};p.prototype.end=function(e,t,r){var n=this;if(typeof e==="function"){r=e;e=undefined}f.Writable.prototype.end.call(n,e,t,r)};p.prototype.flushHeaders=function(){};p.prototype.setTimeout=function(){};p.prototype.setNoDelay=function(){};p.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),e("buffer").Buffer)},{"./capability":42,"./response":44,_process:22,buffer:13,foreach:46,indexof:47,inherits:19,"object-keys":48,stream:40}],44:[function(e,t,r){(function(t,n){var i=e("./capability");var a=e("foreach");var o=e("inherits");var s=e("stream");var u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var l=r.IncomingMessage=function(e,r,o){var u=this;s.Readable.call(u);u._mode=o;u.headers={};u.rawHeaders=[];u.trailers={};u.rawTrailers=[];u.on("end",function(){t.nextTick(function(){u.emit("close")})});if(o==="fetch"){u._fetchResponse=r;u.statusCode=r.status;u.statusMessage=r.statusText;for(var l,f,c=r.headers[Symbol.iterator]();l=(f=c.next()).value,!f.done;){u.headers[l[0].toLowerCase()]=l[1];u.rawHeaders.push(l[0],l[1])}var h=r.body.getReader();function d(){h.read().then(function(e){if(u._destroyed)return;if(e.done){u.push(null);return}u.push(new n(e.value));d()})}d()}else{u._xhr=e;u._pos=0;u.statusCode=e.status;u.statusMessage=e.statusText;var p=e.getAllResponseHeaders().split(/\r?\n/);a(p,function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(u.headers[r]!==undefined)u.headers[r]+=", "+t[2];else u.headers[r]=t[2];u.rawHeaders.push(t[1],t[2])}});u._charset="x-user-defined";if(!i.overrideMimeType){var v=u.rawHeaders["mime-type"];if(v){var g=v.match(/;\s*charset=([^;])(;|$)/);if(g){u._charset=g[1].toLowerCase()}}if(!u._charset)u._charset="utf-8"}}};o(l,s.Readable);l.prototype._read=function(){};l.prototype._onXHRProgress=function(){var e=this;var t=e._xhr;var r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new window.VBArray(t.responseBody).toArray()}catch(i){}if(r!==null){e.push(new n(r));break}case"text":try{r=t.responseText}catch(i){e._mode="text:vbarray";break}if(r.length>e._pos){var a=r.substr(e._pos);if(e._charset==="x-user-defined"){var o=new n(a.length);for(var s=0;s<a.length;s++)o[s]=a.charCodeAt(s)&255;e.push(o)}else{e.push(a,e._charset)}e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE)break;r=t.response;e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":r=t.response;if(t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":r=t.response;if(t.readyState!==u.LOADING)break;var l=new window.MSStreamReader;l.onprogress=function(){if(l.result.byteLength>e._pos){e.push(new n(new Uint8Array(l.result.slice(e._pos))));e._pos=l.result.byteLength}};l.onload=function(){e.push(null)};l.readAsArrayBuffer(r);break}if(e._xhr.readyState===u.DONE&&e._mode!=="ms-stream"){e.push(null)}}}).call(this,e("_process"),e("buffer").Buffer)},{"./capability":42,_process:22,buffer:13,foreach:46,inherits:19,stream:40}],45:[function(e,t,r){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],46:[function(e,t,r){var n=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;t.exports=function a(e,t,r){if(i.call(t)!=="[object Function]"){throw new TypeError("iterator must be a function")}var a=e.length;if(a===+a){for(var o=0;o<a;o++){t.call(r,e[o],o,e)}}else{for(var s in e){if(n.call(e,s)){t.call(r,e[s],s,e)}}}}},{}],47:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r){if(e[r]===t)return r}return-1}},{}],48:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;var a=Array.prototype.slice;var o=e("./isArguments");var s=!{toString:null}.propertyIsEnumerable("toString");var u=function(){}.propertyIsEnumerable("prototype");var l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var f=function c(e){var t=e!==null&&typeof e==="object";var r=i.call(e)==="[object Function]";var a=o(e);var f=t&&i.call(e)==="[object String]";var c=[];if(!t&&!r&&!a){throw new TypeError("Object.keys called on a non-object")}var h=u&&r;if(f&&e.length>0&&!n.call(e,0)){for(var d=0;d<e.length;++d){c.push(String(d))}}if(a&&e.length>0){for(var p=0;p<e.length;++p){c.push(String(p))}}else{for(var v in e){if(!(h&&v==="prototype")&&n.call(e,v)){c.push(String(v))}}}if(s){var g=e.constructor;var m=g&&g.prototype===e;for(var y=0;y<l.length;++y){if(!(m&&l[y]==="constructor")&&n.call(e,l[y])){c.push(l[y])}}}return c};f.shim=function h(){if(!Object.keys){Object.keys=f}else{var e=function(){return(Object.keys(arguments)||"").length===2}(1,2);if(!e){var t=Object.keys;Object.keys=function r(e){if(o(e)){return t(a.call(e))}else{return t(e)}}}}return Object.keys||f};t.exports=f},{"./isArguments":49}],49:[function(e,t,r){"use strict";var n=Object.prototype.toString;t.exports=function i(e){var t=n.call(e);var r=t==="[object Arguments]";if(!r){r=t!=="[object Array]"&&e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&n.call(e.callee)==="[object Function]"}return r}},{}],50:[function(e,t,r){var n=e("buffer").Buffer;var i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function a(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var o=r.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");a(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=u;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=s;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var a=this.surrogateSize;this.charLength+=a;this.charReceived+=a;this.charBuffer.copy(this.charBuffer,a,0,a);e.copy(this.charBuffer,0,0,a);return t.substring(0,i)}return t};o.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};o.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var n=this.charBuffer;var i=this.encoding;t+=n.slice(0,r).toString(i)}return t};function s(e){return e.toString(this.encoding)}function u(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function l(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:13}],51:[function(e,t,r){var n=e("punycode");r.parse=b;r.resolve=x;r.resolveObject=_;r.format=w;r.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(s),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),c=["/","?","#"],h=255,d=/^[a-z0-9A-Z_-]{0,63}$/,p=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},g={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},y=e("querystring");function b(e,t,r){if(e&&E(e)&&e instanceof i)return e;var n=new i;n.parse(e,t,r);return n}i.prototype.parse=function(e,t,r){if(!j(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var o=a.exec(i);if(o){o=o[0];var s=o.toLowerCase();this.protocol=s;i=i.substr(o.length)}if(r||o||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=i.substr(0,2)==="//";if(u&&!(o&&g[o])){i=i.substr(2);this.slashes=true}}if(!g[o]&&(u||o&&!m[o])){var b=-1;for(var w=0;w<c.length;w++){var x=i.indexOf(c[w]);if(x!==-1&&(b===-1||x<b))b=x}var _,E;if(b===-1){E=i.lastIndexOf("@")}else{E=i.lastIndexOf("@",b)}if(E!==-1){_=i.slice(0,E);i=i.slice(E+1);this.auth=decodeURIComponent(_)}b=-1;for(var w=0;w<f.length;w++){var x=i.indexOf(f[w]);if(x!==-1&&(b===-1||x<b))b=x}if(b===-1)b=i.length;this.host=i.slice(0,b);i=i.slice(b);this.parseHost();this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N){var I=this.hostname.split(/\./);for(var w=0,S=I.length;w<S;w++){var O=I[w];if(!O)continue;if(!O.match(d)){var k="";for(var R=0,T=O.length;R<T;R++){if(O.charCodeAt(R)>127){k+="x"}else{k+=O[R]}}if(!k.match(d)){var A=I.slice(0,w);var L=I.slice(w+1);var C=O.match(p);if(C){A.push(C[1]);L.unshift(C[2])}if(L.length){i="/"+L.join(".")+i}this.hostname=A.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!N){var D=this.hostname.split(".");var U=[];for(var w=0;w<D.length;++w){var P=D[w];U.push(P.match(/[^A-Za-z0-9_-]/)?"xn--"+n.encode(P):P)}this.hostname=U.join(".")}var M=this.port?":"+this.port:"";var q=this.hostname||"";this.host=q+M;this.href+=this.host;if(N){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[s]){for(var w=0,S=l.length;w<S;w++){var B=l[w];var F=encodeURIComponent(B);if(F===B){F=escape(B)}i=i.split(B).join(F)}}var z=i.indexOf("#");if(z!==-1){this.hash=i.substr(z);i=i.slice(0,z)}var V=i.indexOf("?");if(V!==-1){this.search=i.substr(V);this.query=i.substr(V+1);if(t){this.query=y.parse(this.query)}i=i.slice(0,V)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(m[s]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var M=this.pathname||"";var P=this.search||"";this.path=M+P}this.href=this.format();return this};function w(e){if(j(e))e=b(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,a="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&E(this.query)&&Object.keys(this.query).length){a=y.stringify(this.query)}var o=this.search||a&&"?"+a||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(o&&o.charAt(0)!=="?")o="?"+o;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});o=o.replace("#","%23");return t+i+r+o+n};function x(e,t){return b(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(b(e,false,true)).format()};function _(e,t){if(!e)return t;return b(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(j(e)){var t=new i;t.parse(e,false,true);e=t}var r=new i;Object.keys(this).forEach(function(e){r[e]=this[e]},this);r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")r[t]=e[t]});if(m[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){Object.keys(e).forEach(function(t){r[t]=e[t]});r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!g[e.protocol]){var n=(e.pathname||"").split("/");while(n.length&&!(e.host=n.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(n[0]!=="")n.unshift("");if(n.length<2)n.unshift("");r.pathname=n.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var a=r.pathname||"";var o=r.search||"";r.path=a+o}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var s=r.pathname&&r.pathname.charAt(0)==="/",u=e.host||e.pathname&&e.pathname.charAt(0)==="/",l=u||s||r.host&&e.pathname,f=l,c=r.pathname&&r.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],h=r.protocol&&!m[r.protocol];if(h){r.hostname="";r.port=null;if(r.host){if(c[0]==="")c[0]=r.host;else c.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(n[0]==="")n[0]=e.host;else n.unshift(e.host)}e.host=null}l=l&&(n[0]===""||c[0]==="")}if(u){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;c=n}else if(n.length){if(!c)c=[];c.pop();c=c.concat(n);r.search=e.search;r.query=e.query}else if(!I(e.search)){if(h){r.hostname=r.host=c.shift();var d=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(d){r.auth=d.shift();r.host=r.hostname=d.shift();
}}r.search=e.search;r.query=e.query;if(!N(r.pathname)||!N(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!c.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var p=c.slice(-1)[0];var v=(r.host||e.host)&&(p==="."||p==="..")||p==="";var y=0;for(var b=c.length;b>=0;b--){p=c[b];if(p=="."){c.splice(b,1)}else if(p===".."){c.splice(b,1);y++}else if(y){c.splice(b,1);y--}}if(!l&&!f){for(;y--;y){c.unshift("..")}}if(l&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")){c.unshift("")}if(v&&c.join("/").substr(-1)!=="/"){c.push("")}var w=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(h){r.hostname=r.host=w?"":c.length?c.shift():"";var d=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(d){r.auth=d.shift();r.host=r.hostname=d.shift()}}l=l||r.host&&c.length;if(l&&!w){c.unshift("")}if(!c.length){r.pathname=null;r.path=null}else{r.pathname=c.join("/")}if(!N(r.pathname)||!N(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};i.prototype.parseHost=function(){var e=this.host;var t=o.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function j(e){return typeof e==="string"}function E(e){return typeof e==="object"&&e!==null}function N(e){return e===null}function I(e){return e==null}},{punycode:23,querystring:26}],52:[function(e,t,r){t.exports=function n(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],53:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!_(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(s(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var a=n.length;var o=String(e).replace(i,function(e){if(e==="%%")return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}});for(var u=n[r];r<a;u=n[++r]){if(b(u)||!I(u)){o+=" "+u}else{o+=" "+s(u)}}return o};r.deprecate=function(e,i){if(E(n.process)){return function(){return r.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var a=false;function o(){if(!a){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}a=true}return e.apply(this,arguments)}return o};var a={};var o;r.debuglog=function(e){if(E(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!a[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else{a[e]=function(){}}}return a[e]};function s(e,t){var n={seen:[],stylize:l};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(y(t)){n.showHidden=t}else if(t){r._extend(n,t)}if(E(n.showHidden))n.showHidden=false;if(E(n.depth))n.depth=2;if(E(n.colors))n.colors=false;if(E(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=u;return c(n,e,n.depth)}r.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var r=s.styles[t];if(r){return"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m"}else{return e}}function l(e,t){return e}function f(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function c(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(n,e);if(!_(i)){i=c(e,i,n)}return i}var a=h(e,t);if(a){return a}var o=Object.keys(t);var s=f(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(O(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return d(t)}if(o.length===0){if(k(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(S(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(O(t)){return d(t)}}var l="",y=false,b=["{","}"];if(m(t)){y=true;b=["[","]"]}if(k(t)){var w=t.name?": "+t.name:"";l=" [Function"+w+"]"}if(N(t)){l=" "+RegExp.prototype.toString.call(t)}if(S(t)){l=" "+Date.prototype.toUTCString.call(t)}if(O(t)){l=" "+d(t)}if(o.length===0&&(!y||t.length==0)){return b[0]+l+b[1]}if(n<0){if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var x;if(y){x=p(e,t,n,s,o)}else{x=o.map(function(r){return v(e,t,n,s,r,y)})}e.seen.pop();return g(x,l,b)}function h(e,t){if(E(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(x(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i){var a=[];for(var o=0,s=t.length;o<s;++o){if(D(t,String(o))){a.push(v(e,t,r,n,String(o),true))}else{a.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){a.push(v(e,t,r,n,i,true))}});return a}function v(e,t,r,n,i,a){var o,s,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(u.set){s=e.stylize("[Setter]","special")}}if(!D(n,i)){o="["+i+"]"}if(!s){if(e.seen.indexOf(u.value)<0){if(b(r)){s=c(e,u.value,null)}else{s=c(e,u.value,r-1)}if(s.indexOf("\n")>-1){if(a){s=s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{s="\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(E(o)){if(a&&i.match(/^\d+$/)){return s}o=JSON.stringify(""+i);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+s}function g(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}r.isArray=m;function y(e){return typeof e==="boolean"}r.isBoolean=y;function b(e){return e===null}r.isNull=b;function w(e){return e==null}r.isNullOrUndefined=w;function x(e){return typeof e==="number"}r.isNumber=x;function _(e){return typeof e==="string"}r.isString=_;function j(e){return typeof e==="symbol"}r.isSymbol=j;function E(e){return e===void 0}r.isUndefined=E;function N(e){return I(e)&&T(e)==="[object RegExp]"}r.isRegExp=N;function I(e){return typeof e==="object"&&e!==null}r.isObject=I;function S(e){return I(e)&&T(e)==="[object Date]"}r.isDate=S;function O(e){return I(e)&&(T(e)==="[object Error]"||e instanceof Error)}r.isError=O;function k(e){return typeof e==="function"}r.isFunction=k;function R(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=R;r.isBuffer=e("./support/isBuffer");function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date;var t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",C(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!I(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":52,_process:22,inherits:19}],54:[function(e,t,r){t.exports=n;function n(){var e={};for(var t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(r.hasOwnProperty(n)){e[n]=r[n]}}}return e}},{}],55:[function(e,t,r){},{}],56:[function(e,t,r){(function(r,n,i){(function(){var a=typeof r!=="undefined"&&r.versions&&r.versions.node;var o=!a&&(typeof window!=="undefined"||typeof self!=="undefined");if(o){if(typeof n==="undefined"){if(typeof window!=="undefined"){n=window}else if(typeof self!=="undefined"){n=self}else if(typeof $!=="undefined"){n=$}}}var s=function(t){t.compact=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(r===null){return t.nextTick(function(){i(new T("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))})}if(e===null){return t.nextTick(function(){i(null,null)})}if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("compactArrays"in n)){n.compactArrays=true}if(!("graph"in n)){n.graph=false}if(!("skipExpansion"in n)){n.skipExpansion=false}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("link"in n)){n.link=false}if(n.link){n.skipExpansion=true}var a=function(e,r,n){t.nextTick(function(){if(r.skipExpansion){return n(null,e)}t.expand(e,r,n)})};a(e,n,function(e,a){if(e){return i(new T("Could not expand input before compaction.","jsonld.CompactError",{cause:e}))}var s=fe(n);t.processContext(s,r,n,function(e,t){if(e){return i(new T("Could not process context before compaction.","jsonld.CompactError",{cause:e}))}var r;try{r=(new A).compact(t,null,a,n)}catch(s){return i(s)}o(null,r,t,n)})});function o(e,t,n,a){if(e){return i(e)}if(a.compactArrays&&!a.graph&&pe(t)){if(t.length===1){t=t[0]}else if(t.length===0){t={}}}else if(a.graph&&he(t)){t=[t]}if(he(r)&&"@context"in r){r=r["@context"]}r=Oe(r);if(!pe(r)){r=[r]}var o=r;r=[];for(var s=0;s<o.length;++s){if(!he(o[s])||Object.keys(o[s]).length>0){r.push(o[s])}}var u=r.length>0;if(r.length===1){r=r[0]}if(pe(t)){var l=ie(n,"@graph");var f=t;t={};if(u){t["@context"]=r}t[l]=f}else if(he(t)&&u){var f=t;t={"@context":r};for(var c in f){t[c]=f[c]}}i(null,t,n)}};t.expand=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not expand, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}if(!("keepFreeFloatingNodes"in r)){r.keepFreeFloatingNodes=false}t.nextTick(function(){if(typeof e==="string"){var t=function(e,t){if(e){return n(e)}try{if(!t.document){throw new T("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return n(new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}i(t)};var a=r.documentLoader(e,t);if(a&&"then"in a){a.then(t.bind(null,null),t)}return}i({contextUrl:null,documentUrl:null,document:e})});function i(e){if(!("base"in r)){r.base=e.documentUrl||""}var t={document:Oe(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in r){var i=Oe(r.expandContext);if(typeof i==="object"&&"@context"in i){t.expandContext=i}else{t.expandContext={"@context":i}}}Re(t,r,function(e,t){if(e){return n(e)}var i;try{var a=new A;var o=fe(r);var s=t.document;var u=t.remoteContext["@context"];if(t.expandContext){o=a.processContext(o,t.expandContext["@context"],r)}if(u){o=a.processContext(o,u,r)}i=a.expand(o,null,s,r,false);if(he(i)&&"@graph"in i&&Object.keys(i).length===1){i=i["@graph"]}else if(i===null){i=[]}if(!pe(i)){i=[i]}}catch(l){return n(l)}n(null,i)})}};t.flatten=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new T("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}var o;try{o=(new A).flatten(a)}catch(s){return i(s)}if(r===null){return i(null,o)}n.graph=true;n.skipExpansion=true;t.compact(o,r,n,function(e,t){if(e){return i(new T("Could not compact flattened output.","jsonld.FlattenError",{cause:e}))}i(null,t)})})};t.frame=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("embed"in n)){n.embed="@last"}n.explicit=n.explicit||false;if(!("requireAll"in n)){n.requireAll=true}n.omitDefault=n.omitDefault||false;t.nextTick(function(){if(typeof r==="string"){var e=function(e,t){if(e){return i(e)}try{if(!t.document){throw new T("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return i(new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}a(t)};var t=n.documentLoader(r,e);if(t&&"then"in t){t.then(e.bind(null,null),e)}return}a({contextUrl:null,documentUrl:null,document:r})});function a(r){var a=r.document;var o;if(a){o=a["@context"];if(r.contextUrl){if(!o){o=r.contextUrl}else if(pe(o)){o.push(r.contextUrl)}else{o=[o,r.contextUrl]}a["@context"]=o}else{o=o||{}}}else{o={}}t.expand(e,n,function(e,r){if(e){return i(new T("Could not expand input before framing.","jsonld.FrameError",{cause:e}))}var s=Oe(n);s.isFrame=true;s.keepFreeFloatingNodes=true;t.expand(a,s,function(e,n){if(e){return i(new T("Could not expand frame before framing.","jsonld.FrameError",{cause:e}))}var a;try{a=(new A).frame(r,n,s)}catch(u){return i(u)}s.graph=true;s.skipExpansion=true;s.link={};t.compact(a,o,s,function(e,t,r){if(e){return i(new T("Could not compact framed output.","jsonld.FrameError",{cause:e}))}var n=ie(r,"@graph");s.link={};t[n]=te(r,t[n],s);i(null,t)})})})}};t.link=function(e,r,n,i){var a={};if(r){a["@context"]=r}a["@embed"]="@link";t.frame(e,a,n,i)};t.objectify=function(e,r,n,i){if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new T("Could not expand input before linking.","jsonld.LinkError",{cause:e}))}var o;try{o=(new A).flatten(a)}catch(s){return i(s)}n.graph=true;n.skipExpansion=true;t.compact(o,r,n,function(e,r,n){if(e){return i(new T("Could not compact flattened output before linking.","jsonld.LinkError",{cause:e}))}var a=ie(n,"@graph");var o=r[a][0];var s=function(e){if(!he(e)&&!pe(e)){return}if(he(e)){if(s.visited[e["@id"]]){return}s.visited[e["@id"]]=true}for(var r in e){var i=e[r];var a=t.getContextValue(n,r,"@type")==="@id";if(!pe(i)&&!he(i)&&!a){continue}if(ge(i)&&a){e[r]=i=o[i];s(i)}else if(pe(i)){for(var u=0;u<i.length;++u){if(ge(i[u])&&a){i[u]=o[i[u]]}else if(he(i[u])&&"@id"in i[u]){i[u]=o[i[u]["@id"]]}s(i[u])}}else if(he(i)){var l=i["@id"];e[r]=i=o[l];s(i)}}};s.visited={};s(o);r.of_type={};for(var u in o){if(!("@type"in o[u])){continue}var l=o[u]["@type"];if(!pe(l)){l=[l]}for(var f=0;f<l.length;++f){if(!(l[f]in r.of_type)){r.of_type[l[f]]=[]}r.of_type[l[f]].push(o[u])}}i(null,r)})})};t.normalize=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not normalize, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}var i=Oe(r);delete i.format;i.produceGeneralizedRdf=false;t.toRDF(e,i,function(e,t){if(e){return n(new T("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e}))}(new A).normalize(t,r,n)})};t.fromRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert from RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("useRdfType"in r)){r.useRdfType=false}if(!("useNativeTypes"in r)){r.useNativeTypes=false}if(!("format"in r)&&ge(e)){if(!("format"in r)){r.format="application/nquads"}}t.nextTick(function(){var t;if(r.format){t=r.rdfParser||h[r.format];if(!t){return n(new T("Unknown input format.","jsonld.UnknownFormat",{format:r.format}))}}else{t=function(){return e}}var i=false;try{e=t(e,function(e,t){i=true;if(e){return n(e)}o(t,r,n)})}catch(a){if(!i){return n(a)}throw a}if(e){if("then"in e){return e.then(function(e){o(e,r,n)},n)}o(e,r,n)}function o(e,t,r){(new A).fromRDF(e,t,r)}})};t.toRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert to RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new T("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}))}var i;try{i=A.prototype.toRDF(t,r);if(r.format){if(r.format==="application/nquads"){return n(null,Ae(i))}throw new T("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}}catch(a){return n(a)}n(null,i)})};t.createNodeMap=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not create node map, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new T("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}))}var i;try{i=(new A).createNodeMap(t,r)}catch(a){return n(a)}n(null,i)})};t.merge=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))})}if(!pe(e)){return t.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};var a=[];var o=null;var s=e.length;for(var u=0;u<e.length;++u){var l={};for(var f in n){l[f]=n[f]}t.expand(e[u],l,c)}function c(e,t){if(o){return}if(e){o=e;return i(new T("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}a.push(t);if(--s===0){h(a)}}function h(e){var a=true;if("mergeNodes"in n){a=n.mergeNodes}var o=n.namer||new De("_:b");var s={"@default":{}};var u;try{for(var l=0;l<e.length;++l){var f=e[l];f=t.relabelBlankNodes(f,{namer:new De("_:b"+l+"-")});var c=a||l===0?s:{"@default":{}};G(f,c,"@default",o);if(c!==s){for(var h in c){var d=c[h];if(!(h in s)){s[h]=d;continue}var p=s[h];for(var v in d){if(!(v in p)){p[v]=d[v]}}}}}u=H(s)}catch(g){return i(g)}var m=[];var y=Object.keys(u).sort();for(var b=0;b<y.length;++b){var w=u[y[b]];if(!je(w)){m.push(w)}}if(r===null){return i(null,m)}n.graph=true;n.skipExpansion=true;t.compact(m,r,n,function(e,t){if(e){return i(new T("Could not compact merged output.","jsonld.MergeError",{cause:e}))}i(null,t)})}};t.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||new De("_:b");return C(r,e)};t.documentLoader=function(e,r){var n=new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});if(a){return r(n,{contextUrl:null,documentUrl:e,document:null})}return t.promisify(function(e){e(n)})};t.loadDocument=function(e,r){var n=t.documentLoader(e,r);if(n&&"then"in n){n.then(r.bind(null,null),r)}};t.promises=function(r){r=r||{};var i=Array.prototype.slice;var a=t.promisify;var o=r.api||{};var s=r.version||"jsonld.js";if(typeof r.api==="string"){if(!r.version){s=r.api}o={}}o.expand=function(e){if(arguments.length<1){throw new TypeError("Could not expand, too few arguments.")}return a.apply(null,[t.expand].concat(i.call(arguments)))};o.compact=function(e,r){if(arguments.length<2){throw new TypeError("Could not compact, too few arguments.")}var n=function(e,r,n,i){t.compact(e,r,n,function(e,t){i(e,t)})};return a.apply(null,[n].concat(i.call(arguments)))};o.flatten=function(e){if(arguments.length<1){throw new TypeError("Could not flatten, too few arguments.")}return a.apply(null,[t.flatten].concat(i.call(arguments)))};o.frame=function(e,r){if(arguments.length<2){throw new TypeError("Could not frame, too few arguments.")}return a.apply(null,[t.frame].concat(i.call(arguments)))};o.fromRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert from RDF, too few arguments.")}return a.apply(null,[t.fromRDF].concat(i.call(arguments)))};o.toRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert to RDF, too few arguments.")}return a.apply(null,[t.toRDF].concat(i.call(arguments)))};o.normalize=function(e){if(arguments.length<1){throw new TypeError("Could not normalize, too few arguments.")}return a.apply(null,[t.normalize].concat(i.call(arguments)))};if(s==="jsonld.js"){o.link=function(e,r){if(arguments.length<2){throw new TypeError("Could not link, too few arguments.")}return a.apply(null,[t.link].concat(i.call(arguments)))};o.objectify=function(e){return a.apply(null,[t.objectify].concat(i.call(arguments)))};o.createNodeMap=function(e){return a.apply(null,[t.createNodeMap].concat(i.call(arguments)))};o.merge=function(e){return a.apply(null,[t.merge].concat(i.call(arguments)))}}try{t.Promise=n.Promise||e("es6-promise").Promise}catch(u){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var f in o){o[f]=l}}return o};t.promisify=function(r){if(!t.Promise){try{t.Promise=n.Promise||e("es6-promise").Promise}catch(i){throw new Error("Unable to find a Promise implementation.")}}var a=Array.prototype.slice.call(arguments,1);return new t.Promise(function(e,t){r.apply(null,a.concat(function(r,n){if(!r){e(n)}else{t(r)}}))})};t.promises({api:t.promises});function s(){}s.prototype=t.promises({version:"json-ld-1.0"});s.prototype.toString=function(){if(this instanceof s){return"[object JsonLdProcessor]"}return"[object JsonLdProcessorPrototype]"};t.JsonLdProcessor=s;var u=!!Object.defineProperty;if(u){try{Object.defineProperty({},"x",{})}catch(l){u=false}}if(u){Object.defineProperty(s,"prototype",{writable:false,enumerable:false});Object.defineProperty(s.prototype,"constructor",{writable:true,enumerable:false,configurable:true,value:s})}if(o&&typeof n.JsonLdProcessor==="undefined"){if(u){Object.defineProperty(n,"JsonLdProcessor",{writable:true,enumerable:false,configurable:true,value:s})}else{n.JsonLdProcessor=s}}var f=typeof setImmediate==="function"&&setImmediate;var c=f?function(e){f(e)}:function(e){setTimeout(e,0)};if(typeof r==="object"&&typeof r.nextTick==="function"){t.nextTick=r.nextTick}else{t.nextTick=c}t.setImmediate=f?c:t.nextTick;t.parseLinkHeader=function(e){var t={};var r=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);var n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/;for(var i=0;i<r.length;++i){var a=r[i].match(n);if(!a){continue}var o={target:a[1]};var s=a[2];var u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;while(a=u.exec(s)){o[a[1]]=a[2]===undefined?a[3]:a[2]}var l=o["rel"]||"";if(pe(t[l])){t[l].push(o)}else if(l in t){t[l]=[t[l],o]}else{t[l]=o}}return t};t.DocumentCache=function(e){this.order=[];this.cache={};this.size=e||50;this.expires=30*1e3};t.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date){return t.ctx}delete this.cache[e];this.order.splice(this.order.indexOf(e),1)}return null};t.DocumentCache.prototype.set=function(e,t){if(this.order.length===this.size){delete this.cache[this.order.shift()]}this.order.push(e);this.cache[e]={ctx:t,expires:+new Date+this.expires}};t.ActiveContextCache=function(e){this.order=[];this.cache={};this.size=e||100};t.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e);var n=JSON.stringify(t);var i=this.cache[r];if(i&&n in i){return i[n]}return null};t.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e);var a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a});if(!(i in this.cache)){this.cache[i]={}}this.cache[i][a]=Oe(r)};t.cache={activeCtx:new t.ActiveContextCache};t.documentLoaders={};t.documentLoaders.jquery=function(e,r){r=r||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(r.secure&&n.indexOf("https")!==0){return i(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}e.ajax({url:n,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:true,success:function(e,r,a){var o={contextUrl:null,documentUrl:n,document:e};var s=a.getResponseHeader("Content-Type");var u=a.getResponseHeader("Link");if(u&&s!=="application/ld+json"){u=t.parseLinkHeader(u)[k];if(pe(u)){return i(new T("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o)}if(u){o.contextUrl=u.target}}i(null,o)},error:function(e,t,r){i(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:r}),{contextUrl:null,documentUrl:n,document:null})}})};var i=typeof Promise!=="undefined";if("usePromise"in r){i=r.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.documentLoaders.node=function(r){r=r||{};var n="strictSSL"in r?r.strictSSL:true;var i="maxRedirects"in r?r.maxRedirects:-1;var a=e("request");var o=e("http");var s=new t.DocumentCache;function u(e,l,f){if(e.indexOf("http:")!==0&&e.indexOf("https:")!==0){return f(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}if(r.secure&&e.indexOf("https")!==0){return f(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}var c=s.get(e);if(c!==null){return f(null,c)}a({url:e,headers:{Accept:"application/ld+json, application/json"},strictSSL:n,followRedirect:false},h);function h(r,n,a){c={contextUrl:null,documentUrl:e,document:a||null};if(r){return f(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:r}),c)}var h=o.STATUS_CODES[n.statusCode];if(n.statusCode>=400){return f(new T("URL could not be dereferenced: "+h,"jsonld.InvalidUrl",{code:"loading document failed",url:e,httpStatusCode:n.statusCode}),c)}if(n.headers.link&&n.headers["content-type"]!=="application/ld+json"){var d=t.parseLinkHeader(n.headers.link)[k];if(pe(d)){return f(new T("URL could not be dereferenced, it has more than one associated "+"HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:e}),c)}if(d){c.contextUrl=d.target}}if(n.statusCode>=300&&n.statusCode<400&&n.headers.location){if(l.length===i){return f(new T("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}if(l.indexOf(e)!==-1){return f(new T("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}l.push(e);return u(n.headers.location,l,f)}l.push(e);for(var p=0;p<l.length;++p){s.set(l[p],{contextUrl:null,documentUrl:l[p],document:a})}f(r,c)}}var l=function(e,t){u(e,[],t)};if(r.usePromise){return function(e){return t.promisify(l,e)}}return l};t.documentLoaders.xhr=function(e){var r=/(^|(\r\n))link:/i;e=e||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(e.secure&&n.indexOf("https")!==0){return i(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}var a=e.xhr||XMLHttpRequest;var o=new a;o.onload=function(e){if(o.status>=400){return i(new T("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:o.status}),{contextUrl:null,documentUrl:n,document:null})}var a={contextUrl:null,documentUrl:n,document:o.response};var s=o.getResponseHeader("Content-Type");var u;if(r.test(o.getAllResponseHeaders())){u=o.getResponseHeader("Link")}if(u&&s!=="application/ld+json"){u=t.parseLinkHeader(u)[k];if(pe(u)){return i(new T("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),a)}if(u){a.contextUrl=u.target}}i(null,a)};o.onerror=function(){i(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})};o.open("GET",n,true);o.setRequestHeader("Accept","application/ld+json, application/json");o.send()};var i=typeof Promise!=="undefined";if("usePromise"in e){i=e.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.useDocumentLoader=function(e){if(!(e in t.documentLoaders)){throw new T('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e})}t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))};t.processContext=function(e,r){var n={};var i=2;if(arguments.length>3){n=arguments[2]||{};i+=1}var a=arguments[i];if(!("base"in n)){n.base=""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(r===null){return a(null,fe(n))}r=Oe(r);if(!(he(r)&&"@context"in r)){r={"@context":r}}Re(r,n,function(t,r){if(t){return a(t)}try{r=(new A).processContext(e,r,n)}catch(i){return a(i)}a(null,r)})};t.hasProperty=function(e,t){var r=false;if(t in e){var n=e[t];r=!pe(n)||n.length>0}return r};t.hasValue=function(e,r,n){var i=false;if(t.hasProperty(e,r)){var a=e[r];var o=Ne(a);if(pe(a)||o){if(o){a=a["@list"]}for(var s=0;s<a.length;++s){if(t.compareValues(n,a[s])){i=true;break}}}else if(!pe(n)){i=t.compareValues(n,a)}}return i};t.addValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}if(!("allowDuplicate"in i)){i.allowDuplicate=true}if(pe(n)){if(n.length===0&&i.propertyIsArray&&!(r in e)){e[r]=[]}for(var a=0;a<n.length;++a){t.addValue(e,r,n[a],i)}}else if(r in e){var o=!i.allowDuplicate&&t.hasValue(e,r,n);if(!pe(e[r])&&(!o||i.propertyIsArray)){e[r]=[e[r]]}if(!o){e[r].push(n)}}else{e[r]=i.propertyIsArray?[n]:n}};t.getValues=function(e,t){var r=e[t]||[];if(!pe(r)){r=[r]}return r};t.removeProperty=function(e,t){delete e[t];
};t.removeValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}var a=t.getValues(e,r).filter(function(e){return!t.compareValues(e,n)});if(a.length===0){t.removeProperty(e,r)}else if(a.length===1&&!i.propertyIsArray){e[r]=a[0]}else{e[r]=a}};t.compareValues=function(e,t){if(e===t){return true}if(Ee(e)&&Ee(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]){return true}if(he(e)&&"@id"in e&&he(t)&&"@id"in t){return e["@id"]===t["@id"]}return false};t.getContextValue=function(e,t,r){var n=null;if(t===null){return n}if(r==="@language"&&r in e){n=e[r]}if(e.mappings[t]){var i=e.mappings[t];if(xe(r)){n=i}else if(r in i){n=i[r]}}return n};var h={};t.registerRDFParser=function(e,t){h[e]=t};t.unregisterRDFParser=function(e){delete h[e]};if(a){if(typeof d==="undefined"){var d=null}if(typeof p==="undefined"){var p={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}}var v="http://www.w3.org/2001/XMLSchema#boolean";var g="http://www.w3.org/2001/XMLSchema#double";var m="http://www.w3.org/2001/XMLSchema#integer";var y="http://www.w3.org/2001/XMLSchema#string";var b="http://www.w3.org/1999/02/22-rdf-syntax-ns#";var w=b+"List";var x=b+"first";var _=b+"rest";var j=b+"nil";var E=b+"type";var N=b+"PlainLiteral";var I=b+"XMLLiteral";var S=b+"object";var O=b+"langString";var k="http://www.w3.org/ns/json-ld#context";var R=10;var T=function(e,t,r){if(a){Error.call(this);Error.captureStackTrace(this,this.constructor)}else if(typeof Error!=="undefined"){this.stack=(new Error).stack}this.name=t||"jsonld.Error";this.message=e||"An unspecified JSON-LD error occurred.";this.details=r||{}};if(a){e("util").inherits(T,Error)}else if(typeof Error!=="undefined"){T.prototype=new Error}var A=function(){};A.prototype.compact=function(e,r,n,i){if(pe(n)){var a=[];for(var o=0;o<n.length;++o){var s=this.compact(e,r,n[o],i);if(s!==null){a.push(s)}}if(i.compactArrays&&a.length===1){var u=t.getContextValue(e,r,"@container");if(u===null){a=a[0]}}return a}if(he(n)){if(i.link&&"@id"in n&&n["@id"]in i.link){var l=i.link[n["@id"]];for(var o=0;o<l.length;++o){if(l[o].expanded===n){return l[o].compacted}}}if(Ee(n)||je(n)){var a=ae(e,r,n);if(i.link&&je(n)){if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}return a}var f=r==="@reverse";var a={};if(i.link&&"@id"in n){if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}var c=Object.keys(n).sort();for(var h=0;h<c.length;++h){var d=c[h];var p=n[d];if(d==="@id"||d==="@type"){var v;if(ge(p)){v=ie(e,p,null,{vocab:d==="@type"})}else{v=[];for(var g=0;g<p.length;++g){v.push(ie(e,p[g],null,{vocab:true}))}}var m=ie(e,d);var y=pe(v)&&p.length===0;t.addValue(a,m,v,{propertyIsArray:y});continue}if(d==="@reverse"){var v=this.compact(e,"@reverse",p,i);for(var b in v){if(e.mappings[b]&&e.mappings[b].reverse){var w=v[b];var u=t.getContextValue(e,b,"@container");var x=u==="@set"||!i.compactArrays;t.addValue(a,b,w,{propertyIsArray:x});delete v[b]}}if(Object.keys(v).length>0){var m=ie(e,d);t.addValue(a,m,v)}continue}if(d==="@index"){var u=t.getContextValue(e,r,"@container");if(u==="@index"){continue}var m=ie(e,d);t.addValue(a,m,p);continue}if(d!=="@graph"&&d!=="@list"&&ce(d)){var m=ie(e,d);t.addValue(a,m,p);continue}if(p.length===0){var _=ie(e,d,p,{vocab:true},f);t.addValue(a,_,p,{propertyIsArray:true})}for(var g=0;g<p.length;++g){var j=p[g];var _=ie(e,d,j,{vocab:true},f);var u=t.getContextValue(e,_,"@container");var E=Ne(j);var N=null;if(E){N=j["@list"]}var I=this.compact(e,_,E?N:j,i);if(E){if(!pe(I)){I=[I]}if(u!=="@list"){var S={};S[ie(e,"@list")]=I;I=S;if("@index"in j){I[ie(e,"@index")]=j["@index"]}}else if(_ in a){throw new T('JSON-LD compact error; property has a "@list" @container '+"rule but there is more than a single @list that matches "+"the compacted term in the document. Compaction might mix "+"unwanted items into the list.","jsonld.SyntaxError",{code:"compaction to list of lists"})}}if(u==="@language"||u==="@index"){var O;if(_ in a){O=a[_]}else{a[_]=O={}}if(u==="@language"&&Ee(I)){I=I["@value"]}t.addValue(O,j[u],I)}else{var y=!i.compactArrays||u==="@set"||u==="@list"||pe(I)&&I.length===0||d==="@list"||d==="@graph";t.addValue(a,_,I,{propertyIsArray:y})}}}return a}return n};A.prototype.expand=function(e,r,n,i,a){var o=this;if(n===null||n===undefined){return null}if(!pe(n)&&!he(n)){if(!a&&(r===null||se(e,r,{vocab:true})==="@graph")){return null}return D(e,r,n)}if(pe(n)){var s=[];var u=t.getContextValue(e,r,"@container");a=a||u==="@list";for(var l=0;l<n.length;++l){var f=o.expand(e,r,n[l],i);if(a&&(pe(f)||Ne(f))){throw new T("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}if(f!==null){if(pe(f)){s=s.concat(f)}else{s.push(f)}}}return s}if("@context"in n){e=o.processContext(e,n["@context"],i)}var c=se(e,r,{vocab:true});var s={};var h=Object.keys(n).sort();for(var d=0;d<h.length;++d){var p=h[d];var v=n[p];var g;if(p==="@context"){continue}var m=se(e,p,{vocab:true});if(m===null||!(Se(m)||ce(m))){continue}if(ce(m)){if(c==="@reverse"){throw new T("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse "+"property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:v})}if(m in s){throw new T("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:m})}}if(m==="@id"&&!ge(v)){if(!i.isFrame){throw new T('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:v})}if(!he(v)){throw new T('Invalid JSON-LD syntax; "@id" value must be a string or an '+"object.","jsonld.SyntaxError",{code:"invalid @id value",value:v})}}if(m==="@type"){ve(v)}if(m==="@graph"&&!(he(v)||pe(v))){throw new T('Invalid JSON-LD syntax; "@graph" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid @graph value",value:v})}if(m==="@value"&&(he(v)||pe(v))){throw new T('Invalid JSON-LD syntax; "@value" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid value object value",value:v})}if(m==="@language"){if(v===null){continue}if(!ge(v)){throw new T('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:v})}v=v.toLowerCase()}if(m==="@index"){if(!ge(v)){throw new T('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:v})}}if(m==="@reverse"){if(!he(v)){throw new T('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:v})}g=o.expand(e,"@reverse",v,i);if("@reverse"in g){for(var y in g["@reverse"]){t.addValue(s,y,g["@reverse"][y],{propertyIsArray:true})}}var b=s["@reverse"]||null;for(var y in g){if(y==="@reverse"){continue}if(b===null){b=s["@reverse"]={}}t.addValue(b,y,[],{propertyIsArray:true});var w=g[y];for(var x=0;x<w.length;++x){var _=w[x];if(Ee(_)||Ne(_)){throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(b,y,_,{propertyIsArray:true})}}continue}var u=t.getContextValue(e,p,"@container");if(u==="@language"&&he(v)){g=L(v)}else if(u==="@index"&&he(v)){g=function O(t){var r=[];var n=Object.keys(v).sort();for(var a=0;a<n.length;++a){var s=n[a];var u=v[s];if(!pe(u)){u=[u]}u=o.expand(e,t,u,i,false);for(var l=0;l<u.length;++l){var f=u[l];if(!("@index"in f)){f["@index"]=s}r.push(f)}}return r}(p)}else{var j=m==="@list";if(j||m==="@set"){var E=r;if(j&&c==="@graph"){E=null}g=o.expand(e,E,v,i,j);if(j&&Ne(g)){throw new T("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}}else{g=o.expand(e,p,v,i,false)}}if(g===null&&m!=="@value"){continue}if(m!=="@list"&&!Ne(g)&&u==="@list"){g=pe(g)?g:[g];g={"@list":g}}if(e.mappings[p]&&e.mappings[p].reverse){var b=s["@reverse"]=s["@reverse"]||{};if(!pe(g)){g=[g]}for(var x=0;x<g.length;++x){var _=g[x];if(Ee(_)||Ne(_)){throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(b,m,_,{propertyIsArray:true})}continue}var N=["@index","@id","@type","@value","@language"].indexOf(m)===-1;t.addValue(s,m,g,{propertyIsArray:N})}h=Object.keys(s);var I=h.length;if("@value"in s){if("@type"in s&&"@language"in s){throw new T('Invalid JSON-LD syntax; an element containing "@value" may not '+'contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s})}var S=I-1;if("@type"in s){S-=1}if("@index"in s){S-=1}if("@language"in s){S-=1}if(S!==0){throw new T('Invalid JSON-LD syntax; an element containing "@value" may only '+'have an "@index" property and at most one other property '+'which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s})}if(s["@value"]===null){s=null}else if("@language"in s&&!ge(s["@value"])){throw new T("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:s})}else if("@type"in s&&(!Se(s["@type"])||s["@type"].indexOf("_:")===0)){throw new T('Invalid JSON-LD syntax; an element containing "@value" and "@type" '+'must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:s})}}else if("@type"in s&&!pe(s["@type"])){s["@type"]=[s["@type"]]}else if("@set"in s||"@list"in s){if(I>1&&!(I===2&&"@index"in s)){throw new T('Invalid JSON-LD syntax; if an element has the property "@set" '+'or "@list", then it can have at most one other property that is '+'"@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:s})}if("@set"in s){s=s["@set"];h=Object.keys(s);I=h.length}}else if(I===1&&"@language"in s){s=null}if(he(s)&&!i.keepFreeFloatingNodes&&!a&&(r===null||c==="@graph")){if(I===0||"@value"in s||"@list"in s||I===1&&"@id"in s){s=null}}return s};A.prototype.createNodeMap=function(e,t){t=t||{};var r=t.namer||new De("_:b");var n={"@default":{}};G(e,n,"@default",r);return H(n)};A.prototype.flatten=function(e){var t=this.createNodeMap(e);var r=[];var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=t[n[i]];if(!je(a)){r.push(a)}}return r};A.prototype.frame=function(e,t,r){var n={options:r,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var i=new De("_:b");G(e,n.graphs,"@merged",i);n.subjects=n.graphs["@merged"];var a=[];J(n,Object.keys(n.subjects).sort(),t,a,null);return a};A.prototype.normalize=function(e,r,n){var i=[];var a={};for(var o in e){var s=e[o];if(o==="@default"){o=null}for(var u=0;u<s.length;++u){var l=s[u];if(o!==null){if(o.indexOf("_:")===0){l.name={type:"blank node",value:o}}else{l.name={type:"IRI",value:o}}}i.push(l);var f=["subject","object","name"];for(var c=0;c<f.length;++c){var h=f[c];if(l[h]&&l[h].type==="blank node"){var d=l[h].value;if(d in a){a[d].quads.push(l)}else{a[d]={quads:[l]}}}}}}var p=new De("_:c14n");return v(Object.keys(a));function v(e){var r=[];var n={};var i={};t.setImmediate(function(){o(0)});function o(s){if(s===e.length){return g(i,n,r)}var u=e[s];var l=F(u,a);if(l in n){n[l].push(u);r.push(u)}else if(l in i){n[l]=[i[l],u];r.push(i[l]);r.push(u);delete i[l]}else{i[l]=u}t.setImmediate(function(){o(s+1)})}}function g(e,t,r){var n=false;var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var o=e[i[a]];p.getName(o);n=true}if(n){v(r)}else{m(t)}}function m(e){var t=Object.keys(e).sort();r(0);function r(i){if(i===t.length){return y()}var o=e[t[i]];var s=[];u(o,0);function u(e,t){if(t===e.length){s.sort(function(e,t){e=e.hash;t=t.hash;return e<t?-1:e>t?1:0});for(var o=0;o<s.length;++o){for(var l in s[o].pathNamer.existing){p.getName(l)}}return r(i+1)}var f=e[t];if(p.isNamed(f)){return u(e,t+1)}var c=new De("_:b");c.getName(f);z(f,a,p,c,function(r,i){if(r){return n(r)}s.push(i);u(e,t+1)})}}}function y(){var e=[];for(var t=0;t<i.length;++t){var a=i[t];var o=["subject","object","name"];for(var s=0;s<o.length;++s){var u=o[s];if(a[u]&&a[u].type==="blank node"&&a[u].value.indexOf("_:c14n")!==0){a[u].value=p.getName(a[u].value)}}e.push(Le(a,a.name?a.name.value:null))}e.sort();if(r.format){if(r.format==="application/nquads"){return n(null,e.join(""))}return n(new T("Unknown output format.","jsonld.UnknownFormat",{format:r.format}))}n(null,Te(e.join("")))}};A.prototype.fromRDF=function(e,r,n){var i={};var a={"@default":i};var o={};for(var s in e){var u=e[s];if(!(s in a)){a[s]={}}if(s!=="@default"&&!(s in i)){i[s]={"@id":s}}var l=a[s];for(var f=0;f<u.length;++f){var c=u[f];var h=c.subject.value;var d=c.predicate.value;var p=c.object;if(!(h in l)){l[h]={"@id":h}}var v=l[h];var g=p.type==="IRI"||p.type==="blank node";if(g&&!(p.value in l)){l[p.value]={"@id":p.value}}if(d===E&&!r.useRdfType&&g){t.addValue(v,"@type",p.value,{propertyIsArray:true});continue}var m=q(p,r.useNativeTypes);t.addValue(v,d,m,{propertyIsArray:true});if(g){if(p.value===j){var y=l[p.value];if(!("usages"in y)){y.usages=[]}y.usages.push({node:v,property:d,value:m})}else if(p.value in o){o[p.value]=false}else{o[p.value]={node:v,property:d,value:m}}}}}for(var s in a){var b=a[s];if(!(j in b)){continue}var N=b[j];for(var I=0;I<N.usages.length;++I){var S=N.usages[I];var v=S.node;var O=S.property;var k=S.value;var R=[];var T=[];var A=Object.keys(v).length;while(O===_&&he(o[v["@id"]])&&pe(v[x])&&v[x].length===1&&pe(v[_])&&v[_].length===1&&(A===3||A===4&&pe(v["@type"])&&v["@type"].length===1&&v["@type"][0]===w)){R.push(v[x][0]);T.push(v["@id"]);S=o[v["@id"]];v=S.node;O=S.property;k=S.value;A=Object.keys(v).length;if(v["@id"].indexOf("_:")!==0){break}}if(O===x){if(v["@id"]===j){continue}k=b[k["@id"]][_][0];R.pop();T.pop()}delete k["@id"];k["@list"]=R.reverse();for(var L=0;L<T.length;++L){delete b[T[L]]}}delete N.usages}var C=[];var D=Object.keys(i).sort();for(var I=0;I<D.length;++I){var U=D[I];var v=i[U];if(U in a){var u=v["@graph"]=[];var b=a[U];var P=Object.keys(b).sort();for(var M=0;M<P.length;++M){var B=b[P[M]];if(!je(B)){u.push(B)}}}if(!je(v)){C.push(v)}}n(null,C)};A.prototype.toRDF=function(e,t){var r=new De("_:b");var n={"@default":{}};G(e,n,"@default",r);var i={};var a=Object.keys(n).sort();for(var o=0;o<a.length;++o){var s=a[o];if(s==="@default"||Se(s)){i[s]=U(n[s],r,t)}}return i};A.prototype.processContext=function(e,r,n){if(he(r)&&"@context"in r&&pe(r["@context"])){r=r["@context"]}var i=pe(r)?r:[r];if(i.length===0){return e.clone()}var a=e;for(var o=0;o<i.length;++o){var s=i[o];if(s===null){a=e=fe(n);continue}if(he(s)&&"@context"in s){s=s["@context"]}if(!he(s)){throw new T("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s})}if(t.cache.activeCtx){var u=t.cache.activeCtx.get(e,s);if(u){a=e=u;continue}}e=a;a=a.clone();var l={};if("@base"in s){var f=s["@base"];if(f===null){f=null}else if(!ge(f)){throw new T('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid base IRI",context:s})}else if(f!==""&&!Se(f)){throw new T('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be an absolute IRI or the empty string.","jsonld.SyntaxError",{code:"invalid base IRI",context:s})}if(f!==null){f=t.url.parse(f||"")}a["@base"]=f;l["@base"]=true}if("@vocab"in s){var c=s["@vocab"];if(c===null){delete a["@vocab"]}else if(!ge(c)){throw new T('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:s})}else if(!Se(c)){throw new T('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:s})}else{a["@vocab"]=c}l["@vocab"]=true}if("@language"in s){var c=s["@language"];if(c===null){delete a["@language"]}else if(!ge(c)){throw new T('Invalid JSON-LD syntax; the value of "@language" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid default language",context:s})}else{a["@language"]=c.toLowerCase()}l["@language"]=true}for(var h in s){oe(a,s,h,l)}if(t.cache.activeCtx){t.cache.activeCtx.set(e,s,a)}}return a};function L(e){var t=[];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];var a=e[i];if(!pe(a)){a=[a]}for(var o=0;o<a.length;++o){var s=a[o];if(!ge(s)){throw new T("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e})}t.push({"@value":s,"@language":i.toLowerCase()})}}return t}function C(e,t){if(pe(t)){for(var r=0;r<t.length;++r){t[r]=C(e,t[r])}}else if(Ne(t)){t["@list"]=C(e,t["@list"])}else if(he(t)){if(Ie(t)){t["@id"]=e.getName(t["@id"])}var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=n[i];if(a!=="@id"){t[a]=C(e,t[a])}}}return t}function D(e,r,n){if(n===null||n===undefined){return null}var i=se(e,r,{vocab:true});if(i==="@id"){return se(e,n,{base:true})}else if(i==="@type"){return se(e,n,{vocab:true,base:true})}var a=t.getContextValue(e,r,"@type");if(a==="@id"||i==="@graph"&&ge(n)){return{"@id":se(e,n,{base:true})}}if(a==="@vocab"){return{"@id":se(e,n,{vocab:true,base:true})}}if(ce(i)){return n}var o={};if(a!==null){o["@type"]=a}else if(ge(n)){var s=t.getContextValue(e,r,"@language");if(s!==null){o["@language"]=s}}if(["boolean","number","string"].indexOf(typeof n)===-1){n=n.toString()}o["@value"]=n;return o}function U(e,t,r){var n=[];var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var o=i[a];var s=e[o];var u=Object.keys(s).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=s[f];if(f==="@type"){f=E}else if(ce(f)){continue}for(var h=0;h<c.length;++h){var d=c[h];var p={};p.type=o.indexOf("_:")===0?"blank node":"IRI";p.value=o;if(!Se(o)){continue}var v={};v.type=f.indexOf("_:")===0?"blank node":"IRI";v.value=f;if(!Se(f)){continue}if(v.type==="blank node"&&!r.produceGeneralizedRdf){continue}if(Ne(d)){P(d["@list"],t,p,v,n)}else{var g=M(d);if(g){n.push({subject:p,predicate:v,object:g})}}}}}return n}function P(e,t,r,n,i){var a={type:"IRI",value:x};var o={type:"IRI",value:_};var s={type:"IRI",value:j};for(var u=0;u<e.length;++u){var l=e[u];var f={type:"blank node",value:t.getName()};i.push({subject:r,predicate:n,object:f});r=f;n=a;var c=M(l);if(c){i.push({subject:r,predicate:n,object:c})}n=o}i.push({subject:r,predicate:n,object:s})}function M(e){var t={};if(Ee(e)){t.type="literal";var r=e["@value"];var n=e["@type"]||null;if(we(r)){t.value=r.toString();t.datatype=n||v}else if(ye(r)||n===g){if(!ye(r)){r=parseFloat(r)}t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E");t.datatype=n||g}else if(me(r)){t.value=r.toFixed(0);t.datatype=n||m}else if("@language"in e){t.value=r;t.datatype=n||O;t.language=e["@language"]}else{t.value=r;t.datatype=n||y}}else{var i=he(e)?e["@id"]:e;t.type=i.indexOf("_:")===0?"blank node":"IRI";t.value=i}if(t.type==="IRI"&&!Se(t.value)){return null}return t}function q(e,t){if(e.type==="IRI"||e.type==="blank node"){return{"@id":e.value}}var r={"@value":e.value};if(e.language){r["@language"]=e.language}else{var n=e.datatype;if(!n){n=y}if(t){if(n===v){if(r["@value"]==="true"){r["@value"]=true}else if(r["@value"]==="false"){r["@value"]=false}}else if(be(r["@value"])){if(n===m){var i=parseInt(r["@value"],10);if(i.toFixed(0)===r["@value"]){r["@value"]=i}}else if(n===g){r["@value"]=parseFloat(r["@value"])}}if([v,m,g,y].indexOf(n)===-1){r["@type"]=n}}else if(n!==y){r["@type"]=n}}return r}function B(e,t){var r=["subject","predicate","object"];for(var n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value){return false}}if(e.object.language!==t.object.language){return false}if(e.object.datatype!==t.object.datatype){return false}return true}function F(e,t){if("hash"in t[e]){return t[e].hash}var r=t[e].quads;var n=[];for(var i=0;i<r.length;++i){n.push(Le(r[i],r[i].name?r[i].name.value:null,e))}n.sort();var a=t[e].hash=Pe.hash(n);return a}function z(e,r,n,i,a){var o=Pe.create();var s={};var u;var l=r[e].quads;t.setImmediate(function(){f(0)});function f(a){if(a===l.length){u=Object.keys(s).sort();return c(0)}var o=l[a];var h=V(o.subject,e);var d=null;if(h!==null){d="p"}else{h=V(o.object,e);if(h!==null){d="r"}}if(h!==null){var p;if(n.isNamed(h)){p=n.getName(h)}else if(i.isNamed(h)){p=i.getName(h)}else{p=F(h,r)}var v=Pe.create();v.update(d);v.update(o.predicate.value);v.update(p);var g=v.digest();if(g in s){s[g].push(h)}else{s[g]=[h]}}t.setImmediate(function(){f(a+1)})}function c(e){if(e===u.length){return a(null,{hash:o.digest(),pathNamer:i})}var l=u[e];o.update(l);var f=null;var h=null;var d=new Ue(s[l]);t.setImmediate(function(){p()});function p(){var s=d.next();var u=i.clone();var l="";var v=[];for(var g in s){var m=s[g];if(n.isNamed(m)){l+=n.getName(m)}else{if(!u.isNamed(m)){v.push(m)}l+=u.getName(m)}if(f!==null&&l.length>=f.length&&l>f){return b(true)}}y(0);function y(e){if(e===v.length){return b(false)}var t=v[e];z(t,r,n,u,function(r,n){if(r){return a(r)}l+=u.getName(t)+"<"+n.hash+">";u=n.pathNamer;if(f!==null&&l.length>=f.length&&l>f){return b(true)}y(e+1)})}function b(r){if(!r&&(f===null||l<f)){f=l;h=u}if(d.hasNext()){t.setImmediate(function(){p()})}else{o.update(f);i=h;c(e+1)}}}}}function V(e,t){return e.type==="blank node"&&e.value!==t?e.value:null}function G(e,r,n,i,a,o){if(pe(e)){for(var s=0;s<e.length;++s){G(e[s],r,n,i,undefined,o)}return}if(!he(e)){if(o){o.push(e)}return}if(Ee(e)){if("@type"in e){var u=e["@type"];if(u.indexOf("_:")===0){e["@type"]=u=i.getName(u)}}if(o){o.push(e)}return}if("@type"in e){var l=e["@type"];for(var s=0;s<l.length;++s){var u=l[s];if(u.indexOf("_:")===0){i.getName(u)}}}if(xe(a)){a=Ie(e)?i.getName(e["@id"]):e["@id"]}if(o){o.push({"@id":a})}var f=r[n];var c=f[a]=f[a]||{};c["@id"]=a;var h=Object.keys(e).sort();for(var d=0;d<h.length;++d){var p=h[d];if(p==="@id"){continue}if(p==="@reverse"){var v={"@id":a};var g=e["@reverse"];for(var m in g){var y=g[m];for(var b=0;b<y.length;++b){var w=y[b];var x=w["@id"];if(Ie(w)){x=i.getName(x)}G(w,r,n,i,x);t.addValue(f[x],m,v,{propertyIsArray:true,allowDuplicate:false})}}continue}if(p==="@graph"){if(!(a in r)){r[a]={}}var _=n==="@merged"?n:a;G(e[p],r,_,i);continue}if(p!=="@type"&&ce(p)){if(p==="@index"&&p in c&&(e[p]!==c[p]||e[p]["@id"]!==c[p]["@id"])){throw new T("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:c})}c[p]=e[p];continue}var j=e[p];if(p.indexOf("_:")===0){p=i.getName(p)}if(j.length===0){t.addValue(c,p,[],{propertyIsArray:true});continue}for(var E=0;E<j.length;++E){var N=j[E];if(p==="@type"){N=N.indexOf("_:")===0?i.getName(N):N}if(_e(N)||je(N)){var I=Ie(N)?i.getName(N["@id"]):N["@id"];t.addValue(c,p,{"@id":I},{propertyIsArray:true,allowDuplicate:false});G(N,r,n,i,I)}else if(Ne(N)){var S=[];G(N["@list"],r,n,i,a,S);N={"@list":S};t.addValue(c,p,N,{propertyIsArray:true,allowDuplicate:false})}else{G(N,r,n,i,a);t.addValue(c,p,N,{propertyIsArray:true,allowDuplicate:false})}}}}function H(e){var t=e["@default"];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];if(i==="@default"){continue}var a=e[i];var o=t[i];if(!o){t[i]=o={"@id":i,"@graph":[]}}else if(!("@graph"in o)){o["@graph"]=[]}var s=o["@graph"];var u=Object.keys(a).sort();for(var l=0;l<u.length;++l){var f=a[u[l]];if(!je(f)){s.push(f)}}}return t}function J(e,t,r,n,i){W(r);r=r[0];var a=e.options;var o={embed:Y(r,a,"embed"),explicit:Y(r,a,"explicit"),requireAll:Y(r,a,"requireAll")};var s=Z(e,t,r,o);var u=Object.keys(s).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=s[f];if(o.embed==="@link"&&f in e.link){ee(n,i,e.link[f]);continue}if(i===null){e.uniqueEmbeds={}}var h={};h["@id"]=f;e.link[f]=h;if(o.embed==="@never"||$(c,e.subjectStack)){ee(n,i,h);continue}if(o.embed==="@last"){if(f in e.uniqueEmbeds){Q(e,f)}e.uniqueEmbeds[f]={parent:n,property:i}}e.subjectStack.push(c);var d=Object.keys(c).sort();for(var p=0;p<d.length;p++){var v=d[p];if(ce(v)){h[v]=Oe(c[v]);continue}if(o.explicit&&!(v in r)){continue}var g=c[v];for(var m=0;m<g.length;++m){var y=g[m];if(Ne(y)){var b={"@list":[]};ee(h,v,b);var w=y["@list"];for(var x in w){y=w[x];if(je(y)){var _=v in r?r[v][0]["@list"]:X(o);J(e,[y["@id"]],_,b,"@list")}else{ee(b,"@list",Oe(y))}}continue}if(je(y)){var _=v in r?r[v]:X(o);J(e,[y["@id"]],_,h,v)}else{ee(h,v,Oe(y))}}}var d=Object.keys(r).sort();for(var p=0;p<d.length;++p){var v=d[p];if(ce(v)){continue}var j=r[v][0];var E=Y(j,a,"omitDefault");if(!E&&!(v in h)){var N="@null";if("@default"in j){N=Oe(j["@default"])}if(!pe(N)){N=[N]}h[v]=[{"@preserve":N}]}}ee(n,i,h);e.subjectStack.pop()}}function X(e){var t={};for(var r in e){if(e[r]!==undefined){t["@"+r]=[e[r]]}}return[t]}function $(e,t){for(var r=t.length-1;r>=0;--r){if(t[r]["@id"]===e["@id"]){return true}}return false}function Y(e,t,r){var n="@"+r;var i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===true){i="@last"}else if(i===false){i="@never"}else if(i!=="@always"&&i!=="@never"&&i!=="@link"){i="@last"}}return i}function W(e){if(!pe(e)||e.length!==1||!he(e[0])){throw new T("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}}function Z(e,t,r,n){var i={};for(var a=0;a<t.length;++a){var o=t[a];var s=e.subjects[o];if(K(s,r,n)){i[o]=s}}return i}function K(e,r,n){if("@type"in r&&!(r["@type"].length===1&&he(r["@type"][0]))){var i=r["@type"];for(var a=0;a<i.length;++a){if(t.hasValue(e,"@type",i[a])){return true}}return false}var o=true;var s=false;for(var u in r){if(ce(u)){if(u!=="@id"&&u!=="@type"){continue}o=false;if(u==="@id"&&ge(r[u])){if(e[u]!==r[u]){return false}s=true;continue}}o=false;if(u in e){if(pe(r[u])&&r[u].length===0&&e[u]!==undefined){return false}s=true;continue}var l=pe(r[u])&&he(r[u][0])&&"@default"in r[u][0];if(n.requireAll&&!l){return false}}return o||s}function Q(e,r){var n=e.uniqueEmbeds;var i=n[r];var a=i.parent;var o=i.property;var s={"@id":r};if(pe(a)){for(var u=0;u<a.length;++u){if(t.compareValues(a[u],s)){a[u]=s;break}}}else{var l=pe(a[o]);t.removeValue(a,o,s,{propertyIsArray:l});t.addValue(a,o,s,{propertyIsArray:l})}var f=function(e){var t=Object.keys(n);for(var r=0;r<t.length;++r){var i=t[r];if(i in n&&he(n[i].parent)&&n[i].parent["@id"]===e){delete n[i];f(i)}}};f(r)}function ee(e,r,n){if(he(e)){t.addValue(e,r,n,{propertyIsArray:true})}else{e.push(n)}}function te(e,r,n){if(pe(r)){var i=[];for(var a=0;a<r.length;++a){var o=te(e,r[a],n);if(o!==null){i.push(o)}}r=i}else if(he(r)){if("@preserve"in r){if(r["@preserve"]==="@null"){return null}return r["@preserve"]}if(Ee(r)){return r}if(Ne(r)){r["@list"]=te(e,r["@list"],n);return r}var s=ie(e,"@id");if(s in r){var u=r[s];if(u in n.link){var l=n.link[u].indexOf(r);if(l===-1){n.link[u].push(r)}else{return n.link[u][l]}}else{n.link[u]=[r]}}for(var f in r){var o=te(e,r[f],n);var c=t.getContextValue(e,f,"@container");if(n.compactArrays&&pe(o)&&o.length===1&&c===null){o=o[0]}r[f]=o}}return r}function re(e,t){if(e.length<t.length){return-1}if(t.length<e.length){return 1}if(e===t){return 0}return e<t?-1:1}function ne(e,t,r,n,i,a){if(a===null){a="@null"}var o=[];if((a==="@id"||a==="@reverse")&&je(r)){if(a==="@reverse"){o.push("@reverse")}var s=ie(e,r["@id"],null,{vocab:true});if(s in e.mappings&&e.mappings[s]&&e.mappings[s]["@id"]===r["@id"]){o.push.apply(o,["@vocab","@id"])}else{o.push.apply(o,["@id","@vocab"])}}else{o.push(a)}o.push("@none");var u=e.inverse[t];for(var l=0;l<n.length;++l){var f=n[l];if(!(f in u)){continue}var c=u[f][i];for(var h=0;h<o.length;++h){var d=o[h];if(!(d in c)){continue}return c[d]}}return null}function ie(e,t,r,n,i){if(t===null){return t}if(xe(r)){r=null}if(xe(i)){i=false}n=n||{};if(ce(t)){n.vocab=true}if(n.vocab&&t in e.getInverse()){var a=e["@language"]||"@none";var o=[];if(he(r)&&"@index"in r){o.push("@index")}var s="@language";var u="@null";if(i){s="@type";u="@reverse";o.push("@set")}else if(Ne(r)){if(!("@index"in r)){o.push("@list")}var l=r["@list"];var f=l.length===0?a:null;var c=null;for(var h=0;h<l.length;++h){var d=l[h];var p="@none";var v="@none";if(Ee(d)){if("@language"in d){p=d["@language"]}else if("@type"in d){v=d["@type"]}else{p="@null"}}else{v="@id"}if(f===null){f=p}else if(p!==f&&Ee(d)){f="@none"}if(c===null){c=v}else if(v!==c){c="@none"}if(f==="@none"&&c==="@none"){break}}f=f||"@none";c=c||"@none";if(c!=="@none"){s="@type";u=c}else{u=f}}else{if(Ee(r)){if("@language"in r&&!("@index"in r)){o.push("@language");u=r["@language"]}else if("@type"in r){s="@type";u=r["@type"]}}else{s="@type";u="@id"}o.push("@set")}o.push("@none");var g=ne(e,t,r,o,s,u);if(g!==null){return g}}if(n.vocab){if("@vocab"in e){var m=e["@vocab"];if(t.indexOf(m)===0&&t!==m){var y=t.substr(m.length);if(!(y in e.mappings)){return y}}}}var b=null;for(var g in e.mappings){if(g.indexOf(":")!==-1){continue}var w=e.mappings[g];if(!w||w["@id"]===t||t.indexOf(w["@id"])!==0){continue}var x=g+":"+t.substr(w["@id"].length);var _=!(x in e.mappings)||r===null&&e.mappings[x]&&e.mappings[x]["@id"]===t;if(_&&(b===null||re(x,b)<0)){b=x}}if(b!==null){return b}if(!n.vocab){return le(e["@base"],t)}return t}function ae(e,r,n){if(Ee(n)){var i=t.getContextValue(e,r,"@type");var a=t.getContextValue(e,r,"@language");var o=t.getContextValue(e,r,"@container");var s="@index"in n&&o!=="@index";if(!s){if(n["@type"]===i||n["@language"]===a){return n["@value"]}}var u=Object.keys(n).length;var l=u===1||u===2&&"@index"in n&&!s;var f="@language"in e;var c=ge(n["@value"]);var h=e.mappings[r]&&e.mappings[r]["@language"]===null;if(l&&(!f||!c||h)){return n["@value"]}var d={};if(s){d[ie(e,"@index")]=n["@index"]}if("@type"in n){d[ie(e,"@type")]=ie(e,n["@type"],null,{vocab:true})}else if("@language"in n){d[ie(e,"@language")]=n["@language"]}d[ie(e,"@value")]=n["@value"];return d}var p=se(e,r,{vocab:true});var i=t.getContextValue(e,r,"@type");var v=ie(e,n["@id"],null,{vocab:i==="@vocab"});if(i==="@id"||i==="@vocab"||p==="@graph"){return v}var d={};d[ie(e,"@id")]=v;return d}function oe(e,t,r,n){if(r in n){if(n[r]){return}throw new T("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n[r]=false;if(ce(r)){throw new T("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}if(r===""){throw new T("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}if(e.mappings[r]){delete e.mappings[r]}var i=t[r];if(i===null||he(i)&&i["@id"]===null){e.mappings[r]=null;n[r]=true;return}if(ge(i)){i={"@id":i}}if(!he(i)){throw new T("Invalid JSON-LD syntax; @context property values must be "+"strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}var a=e.mappings[r]={};a.reverse=false;if("@reverse"in i){if("@id"in i){throw new T("Invalid JSON-LD syntax; a @reverse term definition must not "+"contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}var o=i["@reverse"];if(!ge(o)){throw new T("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}var s=se(e,o,{vocab:true,base:false},t,n);if(!Se(s)){throw new T("Invalid JSON-LD syntax; a @context @reverse value must be an "+"absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}a["@id"]=s;a.reverse=true}else if("@id"in i){var s=i["@id"];if(!ge(s)){throw new T("Invalid JSON-LD syntax; a @context @id value must be an array "+"of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}if(s!==r){s=se(e,s,{vocab:true,base:false},t,n);if(!Se(s)&&!ce(s)){throw new T("Invalid JSON-LD syntax; a @context @id value must be an "+"absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{
code:"invalid IRI mapping",context:t})}a["@id"]=s}}if(!("@id"in a)){var u=r.indexOf(":");if(u!==-1){var l=r.substr(0,u);if(l in t){oe(e,t,l,n)}if(e.mappings[l]){var f=r.substr(u+1);a["@id"]=e.mappings[l]["@id"]+f}else{a["@id"]=r}}else{if(!("@vocab"in e)){throw new T("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r})}a["@id"]=e["@vocab"]+r}}n[r]=true;if("@type"in i){var c=i["@type"];if(!ge(c)){throw new T("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c!=="@id"&&c!=="@vocab"){c=se(e,c,{vocab:true,base:false},t,n);if(!Se(c)){throw new T("Invalid JSON-LD syntax; an @context @type value must be an "+"absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c.indexOf("_:")===0){throw new T("Invalid JSON-LD syntax; an @context @type values must be an IRI, "+"not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}}a["@type"]=c}if("@container"in i){var h=i["@container"];if(h!=="@list"&&h!=="@set"&&h!=="@index"&&h!=="@language"){throw new T("Invalid JSON-LD syntax; @context @container value must be "+"one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}if(a.reverse&&h!=="@index"&&h!=="@set"&&h!==null){throw new T("Invalid JSON-LD syntax; @context @container value for a @reverse "+"type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}a["@container"]=h}if("@language"in i&&!("@type"in i)){var d=i["@language"];if(d!==null&&!ge(d)){throw new T("Invalid JSON-LD syntax; @context @language value must be "+"a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t})}if(d!==null){d=d.toLowerCase()}a["@language"]=d}var s=a["@id"];if(s==="@context"||s==="@preserve"){throw new T("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}}function se(e,t,r,n,i){if(t===null||ce(t)){return t}t=String(t);if(n&&t in n&&i[t]!==true){oe(e,n,t,i)}r=r||{};if(r.vocab){var a=e.mappings[t];if(a===null){return null}if(a){return a["@id"]}}var o=t.indexOf(":");if(o!==-1){var s=t.substr(0,o);var u=t.substr(o+1);if(s==="_"||u.indexOf("//")===0){return t}if(n&&s in n){oe(e,n,s,i)}var a=e.mappings[s];if(a){return a["@id"]+u}return t}if(r.vocab&&"@vocab"in e){return e["@vocab"]+t}var l=t;if(r.base){l=ue(e["@base"],l)}return l}function ue(e,r){if(e===null){return r}if(r.indexOf(":")!==-1){return r}if(ge(e)){e=t.url.parse(e||"")}var n=t.url.parse(r);var i={protocol:e.protocol||""};if(n.authority!==null){i.authority=n.authority;i.path=n.path;i.query=n.query}else{i.authority=e.authority;if(n.path===""){i.path=e.path;if(n.query!==null){i.query=n.query}else{i.query=e.query}}else{if(n.path.indexOf("/")===0){i.path=n.path}else{var a=e.path;if(n.path!==""){a=a.substr(0,a.lastIndexOf("/")+1);if(a.length>0&&a.substr(-1)!=="/"){a+="/"}a+=n.path}i.path=a}i.query=n.query}}i.path=Fe(i.path,!!i.authority);var o=i.protocol;if(i.authority!==null){o+="//"+i.authority}o+=i.path;if(i.query!==null){o+="?"+i.query}if(n.fragment!==null){o+="#"+n.fragment}if(o===""){o="./"}return o}function le(e,r){if(e===null){return r}if(ge(e)){e=t.url.parse(e||"")}var n="";if(e.href!==""){n+=(e.protocol||"")+"//"+(e.authority||"")}else if(r.indexOf("//")){n+="//"}if(r.indexOf(n)!==0){return r}var i=t.url.parse(r.substr(n.length));var a=e.normalizedPath.split("/");var o=i.normalizedPath.split("/");var s=i.fragment||i.query?0:1;while(a.length>0&&o.length>s){if(a[0]!==o[0]){break}a.shift();o.shift()}var u="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l){u+="../"}}u+=o.join("/");if(i.query!==null){u+="?"+i.query}if(i.fragment!==null){u+="#"+i.fragment}if(u===""){u="./"}return u}function fe(e){var r=t.url.parse(e.base||"");return{"@base":r,mappings:{},inverse:null,getInverse:n,clone:a};function n(){var e=this;if(e.inverse){return e.inverse}var t=e.inverse={};var r=e["@language"]||"@none";var n=e.mappings;var a=Object.keys(n).sort(re);for(var o=0;o<a.length;++o){var s=a[o];var u=n[s];if(u===null){continue}var l=u["@container"]||"@none";var f=u["@id"];if(!pe(f)){f=[f]}for(var c=0;c<f.length;++c){var h=f[c];var d=t[h];if(!d){t[h]=d={}}if(!d[l]){d[l]={"@language":{},"@type":{}}}d=d[l];if(u.reverse){i(u,s,d["@type"],"@reverse")}else if("@type"in u){i(u,s,d["@type"],u["@type"])}else if("@language"in u){var p=u["@language"]||"@null";i(u,s,d["@language"],p)}else{i(u,s,d["@language"],r);i(u,s,d["@type"],"@none");i(u,s,d["@language"],"@none")}}}return t}function i(e,t,r,n){if(!(n in r)){r[n]=t}}function a(){var e={};e["@base"]=this["@base"];e.mappings=Oe(this.mappings);e.clone=this.clone;e.inverse=null;e.getInverse=this.getInverse;if("@language"in this){e["@language"]=this["@language"]}if("@vocab"in this){e["@vocab"]=this["@vocab"]}return e}}function ce(e){if(!ge(e)){return false}switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return true}return false}function he(e){return Object.prototype.toString.call(e)==="[object Object]"}function de(e){return he(e)&&Object.keys(e).length===0}function pe(e){return Array.isArray(e)}function ve(e){if(ge(e)||de(e)){return}var t=false;if(pe(e)){t=true;for(var r=0;r<e.length;++r){if(!ge(e[r])){t=false;break}}}if(!t){throw new T('Invalid JSON-LD syntax; "@type" value must a string, an array of '+"strings, or an empty object.","jsonld.SyntaxError",{code:"invalid type value",value:e})}}function ge(e){return typeof e==="string"||Object.prototype.toString.call(e)==="[object String]"}function me(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function ye(e){return me(e)&&String(e).indexOf(".")!==-1}function be(e){return!isNaN(parseFloat(e))&&isFinite(e)}function we(e){return typeof e==="boolean"||Object.prototype.toString.call(e)==="[object Boolean]"}function xe(e){return typeof e==="undefined"}function _e(e){var t=false;if(he(e)&&!("@value"in e||"@set"in e||"@list"in e)){var r=Object.keys(e).length;t=r>1||!("@id"in e)}return t}function je(e){return he(e)&&Object.keys(e).length===1&&"@id"in e}function Ee(e){return he(e)&&"@value"in e}function Ne(e){return he(e)&&"@list"in e}function Ie(e){var t=false;if(he(e)){if("@id"in e){t=e["@id"].indexOf("_:")===0}else{t=Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}}return t}function Se(e){return ge(e)&&e.indexOf(":")!==-1}function Oe(e){if(e&&typeof e==="object"){var t;if(pe(e)){t=[];for(var r=0;r<e.length;++r){t[r]=Oe(e[r])}}else if(he(e)){t={};for(var n in e){t[n]=Oe(e[n])}}else{t=e.toString()}return t}return e}function ke(e,t,r,n){var i=Object.keys(t).length;if(pe(e)){for(var a=0;a<e.length;++a){ke(e[a],t,r,n)}return i<Object.keys(t).length}else if(he(e)){for(var o in e){if(o!=="@context"){ke(e[o],t,r,n);continue}var s=e[o];if(pe(s)){var u=s.length;for(var a=0;a<u;++a){var l=s[a];if(ge(l)){l=ue(n,l);if(r){l=t[l];if(pe(l)){Array.prototype.splice.apply(s,[a,1].concat(l));a+=l.length-1;u=s.length}else{s[a]=l}}else if(!(l in t)){t[l]=false}}}}else if(ge(s)){s=ue(n,s);if(r){e[o]=t[s]}else if(!(s in t)){t[s]=false}}}return i<Object.keys(t).length}return false}function Re(e,t,r){var n=null;var i=t.documentLoader;var a=function(e,t,r,i,o){if(Object.keys(t).length>R){n=new T("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:R});return o(n)}var s={};var u=function(){ke(e,s,true,i);o(null,e)};if(!ke(e,s,false,i)){u()}var l=[];for(var f in s){if(s[f]===false){l.push(f)}}var c=l.length;for(var h=0;h<l.length;++h){(function(e){if(e in t){n=new T("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e});return o(n)}var i=Oe(t);i[e]=true;var l=function(t,l){if(n){return}var f=l?l.document:null;if(!t&&ge(f)){try{f=JSON.parse(f)}catch(h){t=h}}if(t){t=new T("Dereferencing a URL did not result in a valid JSON-LD object. "+"Possible causes are an inaccessible URL perhaps due to "+"a same-origin policy (ensure the server uses CORS if you are "+"using client-side JavaScript), too many redirects, a "+"non-JSON response, or more than one HTTP Link Header was "+"provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}else if(!he(f)){t=new T("Dereferencing a URL did not result in a JSON object. The "+"response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})}if(t){n=t;return o(n)}if(!("@context"in f)){f={"@context":{}}}else{f={"@context":f["@context"]}}if(l.contextUrl){if(!pe(f["@context"])){f["@context"]=[f["@context"]]}f["@context"].push(l.contextUrl)}a(f,i,r,e,function(t,r){if(t){return o(t)}s[e]=r["@context"];c-=1;if(c===0){u()}})};var f=r(e,l);if(f&&"then"in f){f.then(l.bind(null,null),l)}})(l[h])}};a(e,{},i,t.base,r)}if(!Object.keys){Object.keys=function(e){if(e!==Object(e)){throw new TypeError("Object.keys called on non-object")}var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r)}}return t}}function Te(e){var t="(?:<([^:]+:[^>]*)>)";var r="(_:(?:[A-Za-z0-9]+))";var n='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"';var i="(?:\\^\\^"+t+")";var a="(?:@([a-z]+(?:-[a-z0-9]+)*))";var o="(?:"+n+"(?:"+i+"|"+a+")?)";var s="[ \\t]+";var u="[ \\t]*";var l=/(?:\r\n)|(?:\n)|(?:\r)/g;var f=new RegExp("^"+u+"$");var c="(?:"+t+"|"+r+")"+s;var h=t+s;var d="(?:"+t+"|"+r+"|"+o+")"+u;var p="(?:\\.|(?:(?:"+t+"|"+r+")"+u+"\\.))";var v=new RegExp("^"+u+c+h+d+p+u+"$");var g={};var m=e.split(l);var b=0;for(var w=0;w<m.length;++w){var x=m[w];b++;if(f.test(x)){continue}var _=x.match(v);if(_===null){throw new T("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:b})}var j={};if(!xe(_[1])){j.subject={type:"IRI",value:_[1]}}else{j.subject={type:"blank node",value:_[2]}}j.predicate={type:"IRI",value:_[3]};if(!xe(_[4])){j.object={type:"IRI",value:_[4]}}else if(!xe(_[5])){j.object={type:"blank node",value:_[5]}}else{j.object={type:"literal"};if(!xe(_[7])){j.object.datatype=_[7]}else if(!xe(_[8])){j.object.datatype=O;j.object.language=_[8]}else{j.object.datatype=y}var E=_[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");j.object.value=E}var N="@default";if(!xe(_[9])){N=_[9]}else if(!xe(_[10])){N=_[10]}if(!(N in g)){g[N]=[j]}else{var I=true;var S=g[N];for(var k=0;I&&k<S.length;++k){if(B(S[k],j)){I=false}}if(I){S.push(j)}}}return g}t.registerRDFParser("application/nquads",Te);function Ae(e){var t=[];for(var r in e){var n=e[r];for(var i=0;i<n.length;++i){var a=n[i];if(r==="@default"){r=null}t.push(Le(a,r))}}t.sort();return t.join("")}function Le(e,t,r){var n=e.subject;var i=e.predicate;var a=e.object;var o=t;var s="";if(n.type==="IRI"){s+="<"+n.value+">"}else if(r){s+=n.value===r?"_:a":"_:z"}else{s+=n.value}s+=" ";if(i.type==="IRI"){s+="<"+i.value+">"}else if(r){s+="_:p"}else{s+=i.value}s+=" ";if(a.type==="IRI"){s+="<"+a.value+">"}else if(a.type==="blank node"){if(r){s+=a.value===r?"_:a":"_:z"}else{s+=a.value}}else{var u=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');s+='"'+u+'"';if(a.datatype===O){if(a.language){s+="@"+a.language}}else if(a.datatype!==y){s+="^^<"+a.datatype+">"}}if(o!==null){if(o.indexOf("_:")!==0){s+=" <"+o+">"}else if(r){s+=" _:g"}else{s+=" "+o}}s+=" .\n";return s}function Ce(e){var t={};t["@default"]=[];var r=e.getSubjects();for(var n=0;n<r.length;++n){var i=r[n];if(i===null){continue}var a=e.getSubjectTriples(i);if(a===null){continue}var o=a.predicates;for(var s in o){var u=o[s].objects;for(var l=0;l<u.length;++l){var f=u[l];var c={};if(i.indexOf("_:")===0){c.subject={type:"blank node",value:i}}else{c.subject={type:"IRI",value:i}}if(s.indexOf("_:")===0){c.predicate={type:"blank node",value:s}}else{c.predicate={type:"IRI",value:s}}var h=f.value;if(f.type===I){if(!d){Be()}var v=new d;h="";for(var g=0;g<f.value.length;g++){if(f.value[g].nodeType===p.ELEMENT_NODE){h+=v.serializeToString(f.value[g])}else if(f.value[g].nodeType===p.TEXT_NODE){h+=f.value[g].nodeValue}}}c.object={};if(f.type===S){if(f.value.indexOf("_:")===0){c.object.type="blank node"}else{c.object.type="IRI"}}else{c.object.type="literal";if(f.type===N){if(f.language){c.object.datatype=O;c.object.language=f.language}else{c.object.datatype=y}}else{c.object.datatype=f.type}}c.object.value=h;t["@default"].push(c)}}}return t}t.registerRDFParser("rdfa-api",Ce);function De(e){this.prefix=e;this.counter=0;this.existing={}}t.UniqueNamer=De;De.prototype.clone=function(){var e=new De(this.prefix);e.counter=this.counter;e.existing=Oe(this.existing);return e};De.prototype.getName=function(e){if(e&&e in this.existing){return this.existing[e]}var t=this.prefix+this.counter;this.counter+=1;if(e){this.existing[e]=t}return t};De.prototype.isNamed=function(e){return e in this.existing};var Ue=function(e){this.list=e.sort();this.done=false;this.left={};for(var t=0;t<e.length;++t){this.left[e[t]]=true}};Ue.prototype.hasNext=function(){return!this.done};Ue.prototype.next=function(){var e=this.list.slice();var t=null;var r=0;var n=this.list.length;for(var i=0;i<n;++i){var a=this.list[i];var o=this.left[a];if((t===null||a>t)&&(o&&i>0&&a>this.list[i-1]||!o&&i<n-1&&a>this.list[i+1])){t=a;r=i}}if(t===null){this.done=true}else{var s=this.left[t]?r-1:r+1;this.list[r]=this.list[s];this.list[s]=t;for(var i=0;i<n;++i){if(this.list[i]>t){this.left[this.list[i]]=!this.left[this.list[i]]}}}return e};var Pe=t.sha1={};if(a){var Me=e("crypto");Pe.create=function(){var e=Me.createHash("sha1");return{update:function(t){e.update(t,"utf8")},digest:function(){return e.digest("hex")}}}}else{Pe.create=function(){return new Pe.MessageDigest}}Pe.hash=function(e){var t=Pe.create();for(var r=0;r<e.length;++r){t.update(e[r])}return t.digest()};if(!a){Pe.Buffer=function(){this.data="";this.read=0};Pe.Buffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};Pe.Buffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};Pe.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};Pe.Buffer.prototype.length=function(){return this.data.length-this.read};Pe.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};Pe.Buffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);if(r<16){e+="0"}e+=r.toString(16)}return e};Pe.MessageDigest=function(){if(!qe.initialized){qe.init()}this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new Pe.Buffer;this.words=new Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};Pe.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e));this.messageLength+=e.length;this.input.data+=e;qe.update(this.state,this.words,this.input);if(this.input.read>2048||this.input.length()===0){this.input.compact()}};Pe.MessageDigest.prototype.digest=function(){var e=this.messageLength;var t=new Pe.Buffer;t.data+=this.input.bytes();t.data+=qe.padding.substr(0,64-(e+8)%64);t.putInt32(e>>>29&255);t.putInt32(e<<3&4294967295);qe.update(this.state,this.words,t);var r=new Pe.Buffer;r.putInt32(this.state.h0);r.putInt32(this.state.h1);r.putInt32(this.state.h2);r.putInt32(this.state.h3);r.putInt32(this.state.h4);return r.toHex()};var qe={padding:null,initialized:false};qe.init=function(){qe.padding=String.fromCharCode(128);var e=String.fromCharCode(0);var t=64;while(t>0){if(t&1){qe.padding+=e}t>>>=1;if(t>0){e+=e}}qe.initialized=true};qe.update=function(e,t,r){var n,i,a,o,s,u,l,f;var c=r.length();while(c>=64){i=e.h0;a=e.h1;o=e.h2;s=e.h3;u=e.h4;for(f=0;f<16;++f){n=r.getInt32();t[f]=n;l=s^a&(o^s);n=(i<<5|i>>>27)+l+u+1518500249+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<20;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=s^a&(o^s);n=(i<<5|i>>>27)+l+u+1518500249+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<32;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+1859775393+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<40;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+1859775393+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<60;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a&o|s&(a^o);n=(i<<5|i>>>27)+l+u+2400959708+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<80;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+3395469782+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}e.h0+=i;e.h1+=a;e.h2+=o;e.h3+=s;e.h4+=u;c-=64}}}if(!d){var Be=function(){d=e("xmldom").XMLSerializer}}t.url={};t.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.url.parse=function(e,r){var n={};var i=t.url.parsers[r||"full"];var a=i.regex.exec(e);var o=i.keys.length;while(o--){n[i.keys[o]]=a[o]===undefined?null:a[o]}n.normalizedPath=Fe(n.path,!!n.authority);return n};function Fe(e,t){var r="";if(e.indexOf("/")===0){r="/"}var n=e.split("/");var i=[];while(n.length>0){if(n[0]==="."||n[0]===""&&n.length>1){n.shift();continue}if(n[0]===".."){n.shift();if(t||i.length>0&&i[i.length-1]!==".."){i.pop()}else{i.push("..")}continue}i.push(n.shift())}return r+i.join("/")}if(a){t.useDocumentLoader("node")}else if(typeof XMLHttpRequest!=="undefined"){t.useDocumentLoader("xhr")}if(a){t.use=function(r){switch(r){case"request":t.request=e("./request");break;default:throw new T("Unknown extension.","jsonld.UnknownExtension",{extension:r})}};var ze={exports:{},filename:i};e("pkginfo")(ze,"version");t.version=ze.exports.version}return t};var u=function(){return s(function(){return u()})};if(!a&&(typeof define==="function"&&define.amd)){define([],function(){s(u);return u})}else{s(u);if(typeof e==="function"&&typeof t!=="undefined"&&t.exports){t.exports=u}if(o){if(typeof jsonld==="undefined"){jsonld=jsonldjs=u}else{jsonldjs=u}}}return u})()}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},"/node_modules/jsonld/js")},{"./request":55,_process:22,crypto:55,"es6-promise":58,http:55,pkginfo:59,request:55,util:55,xmldom:55}],57:[function(e,t,r){var n=typeof t!=="undefined";function i(){}i.attach=function(e,t){if(n){var r=e.location.href}function i(){}i.SCHEME=new RegExp("^[A-Za-z][A-Za-z0-9+-.]*:");i.prototype.parseURI=function(e){if(n){e=e||r}var t=i.SCHEME.exec(e);if(!t){if(n){throw new Error("Bad URI value, no scheme: "+e)}throw"Bad URI value, no scheme: "+e}var a={spec:e};a.scheme=t[0].substring(0,t[0].length-1);a.schemeSpecificPart=a.spec.substring(t[0].length);if(a.schemeSpecificPart.charAt(0)=="/"&&a.schemeSpecificPart.charAt(1)=="/"){this.parseGeneric(a)}else{a.isGeneric=false}a.normalize=function(){if(!this.isGeneric){return}if(this.segments.length==0){return}if(this.path.length>1&&this.path.substring(this.path.length-2)=="/."){this.path=this.path.substring(0,this.path.length-1);this.segments.splice(this.segments.length-1,1);this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart;return}var e=this.path.charAt(this.path.length-1);if(e!="/"){e=""}for(var t=0;t<this.segments.length;t++){if(t>0&&this.segments[t]==".."){this.segments.splice(t-1,2);t-=2}if(this.segments[t]=="."){this.segments.splice(t,1);t--}}this.path=this.segments.length==0?"/":"/"+this.segments.join("/")+e;this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart};a.resolve=function(e){if(!e){return this.spec}if(e.charAt(0)=="#"){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric){throw"Cannot resolve uri against non-generic URI: "+this.spec}var r=e.indexOf(":");if(e.charAt(0)=="/"){return this.scheme+"://"+this.authority+e}else if(e.charAt(0)=="."&&e.charAt(1)=="/"){if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e.substring(2)}else{var n=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,n)+e.substring(1)}}else if(i.SCHEME.test(e)){return e}else if(e.charAt(0)=="?"){return this.scheme+"://"+this.authority+this.path+e}else{if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e}else{var n=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,n+1)+e}}};a.relativeTo=function(e){if(e.scheme!=this.scheme){return this.spec}if(!this.isGeneric){throw"A non generic URI cannot be made relative: "+this.spec}if(!e.isGeneric){throw"Cannot make a relative URI against a non-generic URI: "+e.spec}if(e.authority!=this.authority){return this.spec}var t=0;for(;t<this.segments.length&&t<e.segments.length;t++){if(this.segments[t]!=e.segments[t]){var r="";for(var n=t;n<e.segments.length;n++){r+="../"}for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}}if(this.segments.length==e.segments.length){return this.hash?this.hash:this.query?this.query:""}else if(t<this.segments.length){var r="";for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}else{throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec}};return a};i.prototype.parseGeneric=function(e){if(e.schemeSpecificPart.charAt(0)!="/"||e.schemeSpecificPart.charAt(1)!="/"){throw"Generic URI values should start with '//':"+e.spec}var t=e.schemeSpecificPart.substring(2);var r=t.indexOf("/");e.authority=r<0?t:t.substring(0,r);e.path=r<0?"":t.substring(r);var n=e.path.indexOf("#");if(n>=0){e.fragment=e.path.substring(n+1);e.path=e.path.substring(0,n)}var i=e.path.indexOf("?");if(i>=0){e.query=e.path.substring(i+1);e.path=e.path.substring(0,i)}if(e.path=="/"||e.path==""){e.segments=[]}else{e.segments=e.path.split(/\//);if(e.segments.length>0&&e.segments[0]==""&&e.path.length>1&&e.path.charAt(1)!="/"){e.segments.shift()}if(e.segments.length>0&&e.path.length>0&&e.path.charAt(e.path.length-1)=="/"&&e.segments[e.segments.length-1]==""){if(e.path.length>1&&e.path.charAt(e.path.length-2)!="/"){e.segments.pop()}}}e.isGeneric=true};Object.size=function(e){var t=0;for(var r in e){if(e.hasOwnProperty(r)){t++}}return t};o.prototype=new i;o.prototype.constructor=o;function o(e){this.target=e;this.target.tripleCount=0;this.target.triplesGraph={};this.target.prefixes={};this.target.terms={};this.language=null;this.vocabulary=null;this.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";this.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";this.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";this.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";this.blankCounter=0;this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.inXHTMLMode=false;this.absURIRE=/[\w\_\-]+:\S+/}o.prototype.newBlankNode=function(){this.blankCounter++;return"_:"+this.blankCounter};o.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";o.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";o.NCNAME=new RegExp("^"+o.nameStartChar+o.nameChar+"*$");o.prototype.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};o.prototype.tokenize=function(e){return this.trim(e).split(/\s+/)};o.prototype.parseSafeCURIEOrCURIEOrURI=function(e,t,r){e=this.trim(e);if(e.charAt(0)=="["&&e.charAt(e.length-1)=="]"){e=e.substring(1,e.length-1);e=e.trim(e);if(e.length==0){return null}return this.parseCURIE(e,t,r)}else{return this.parseCURIEOrURI(e,t,r)}};o.prototype.parseCURIE=function(e,t,r){var n=e.indexOf(":");if(n>=0){var i=e.substring(0,n);if(i==""){var a=t[""];return a?a+e.substring(n+1):null}else if(i=="_"){return"_:"+e.substring(n+1)}else if(o.NCNAME.test(i)){var a=t[i];if(a){return a+e.substring(n+1)}}}return null};o.prototype.parseCURIEOrURI=function(e,t,r){var n=this.parseCURIE(e,t,r);if(n){return n}return this.resolveAndNormalize(r,e)};o.prototype.parsePredicate=function(e,t,r,n,i){var a=this.parseTermOrCURIEOrAbsURI(e,t,r,n,i);if(a&&a.indexOf("_:")==0){return null}return a};o.prototype.parseTermOrCURIEOrURI=function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a){return a}else{var o=r[e];if(o){return o}var s=e.toLowerCase();o=r[s];if(o){return o}if(t&&!this.absURIRE.exec(e)){return t+e}}return this.resolveAndNormalize(i,e)};o.prototype.parseTermOrCURIEOrAbsURI=function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a){return a}else{if(t&&!this.absURIRE.exec(e)){return t+e}var o=r[e];if(o){return o}var s=e.toLowerCase();o=r[s];if(o){return o}}if(this.absURIRE.exec(e)){return this.resolveAndNormalize(i,e)}return null};o.prototype.resolveAndNormalize=function(e,t){var r=e.resolve(t);var n=this.parseURI(r);n.normalize();return n.spec};o.prototype.parsePrefixMappings=function(e,t){var r=this.tokenize(e);var n=null;var i=null;for(var a=0;a<r.length;a++){if(r[a][r[a].length-1]==":"){n=r[a].substring(0,r[a].length-1)}else if(n){t[n]=r[a];n=null}}};o.prototype.copyMappings=function(e){var t={};for(var r in e){t[r]=e[r]}return t};o.prototype.ancestorPath=function(e){var t="";while(e&&e.nodeType!=a.DOCUMENT_NODE){t="/"+e.localName+t;e=e.parentNode}return t};o.prototype.setContext=function(e){if(e.localName=="html"&&e.getAttribute("version")=="XHTML+RDFa 1.1"){this.setXHTMLContext()}else if(e.localName=="html"||e.namespaceURI=="http://www.w3.org/1999/xhtml"){this.setHTMLContext()}else{this.setXMLContext()}};o.prototype.setInitialContext=function(){this.vocabulary=null;this.target.prefixes={};this.target.terms={};this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.target.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#";this.target.prefixes["grddl"]="http://www.w3.org/2003/g/data-view#";this.target.prefixes["ma"]="http://www.w3.org/ns/ma-ont#";this.target.prefixes["owl"]="http://www.w3.org/2002/07/owl#";this.target.prefixes["rdf"]="http://www.w3.org/1999/02/22-rdf-syntax-ns#";this.target.prefixes["rdfa"]="http://www.w3.org/ns/rdfa#";this.target.prefixes["rdfs"]="http://www.w3.org/2000/01/rdf-schema#";this.target.prefixes["rif"]="http://www.w3.org/2007/rif#";this.target.prefixes["skos"]="http://www.w3.org/2004/02/skos/core#";this.target.prefixes["skosxl"]="http://www.w3.org/2008/05/skos-xl#";this.target.prefixes["wdr"]="http://www.w3.org/2007/05/powder#";this.target.prefixes["void"]="http://rdfs.org/ns/void#";this.target.prefixes["wdrs"]="http://www.w3.org/2007/05/powder-s#";this.target.prefixes["xhv"]="http://www.w3.org/1999/xhtml/vocab#";this.target.prefixes["xml"]="http://www.w3.org/XML/1998/namespace";this.target.prefixes["xsd"]="http://www.w3.org/2001/XMLSchema#";this.target.prefixes["sd"]="http://www.w3.org/ns/sparql-service-description#";this.target.prefixes["org"]="http://www.w3.org/ns/org#";this.target.prefixes["gldp"]="http://www.w3.org/ns/people#";this.target.prefixes["cnt"]="http://www.w3.org/2008/content#";this.target.prefixes["dcat"]="http://www.w3.org/ns/dcat#";this.target.prefixes["earl"]="http://www.w3.org/ns/earl#";this.target.prefixes["ht"]="http://www.w3.org/2006/http#";this.target.prefixes["ptr"]="http://www.w3.org/2009/pointers#";this.target.prefixes["cc"]="http://creativecommons.org/ns#";this.target.prefixes["ctag"]="http://commontag.org/ns#";this.target.prefixes["dc"]="http://purl.org/dc/terms/";this.target.prefixes["dcterms"]="http://purl.org/dc/terms/";this.target.prefixes["foaf"]="http://xmlns.com/foaf/0.1/";this.target.prefixes["gr"]="http://purl.org/goodrelations/v1#";this.target.prefixes["ical"]="http://www.w3.org/2002/12/cal/icaltzd#";this.target.prefixes["og"]="http://ogp.me/ns#";this.target.prefixes["rev"]="http://purl.org/stuff/rev#";this.target.prefixes["sioc"]="http://rdfs.org/sioc/ns#";this.target.prefixes["v"]="http://rdf.data-vocabulary.org/#";this.target.prefixes["vcard"]="http://www.w3.org/2006/vcard/ns#";this.target.prefixes["schema"]="http://schema.org/";this.target.terms["describedby"]="http://www.w3.org/2007/05/powder-s#describedby";this.target.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license";this.target.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role"};o.prototype.setXMLContext=function(){this.setInitialContext();this.inXHTMLMode=false};o.prototype.setHTMLContext=function(){this.setInitialContext();this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}];this.contentAttributes=["value","datetime","content"];this.inXHTMLMode=false};o.prototype.setXHTMLContext=function(){this.setInitialContext();this.inXHTMLMode=true;this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.target.terms["alternate"]="http://www.w3.org/1999/xhtml/vocab#alternate";this.target.terms["appendix"]="http://www.w3.org/1999/xhtml/vocab#appendix";this.target.terms["bookmark"]="http://www.w3.org/1999/xhtml/vocab#bookmark";this.target.terms["cite"]="http://www.w3.org/1999/xhtml/vocab#cite";this.target.terms["chapter"]="http://www.w3.org/1999/xhtml/vocab#chapter";this.target.terms["contents"]="http://www.w3.org/1999/xhtml/vocab#contents";this.target.terms["copyright"]="http://www.w3.org/1999/xhtml/vocab#copyright";this.target.terms["first"]="http://www.w3.org/1999/xhtml/vocab#first";this.target.terms["glossary"]="http://www.w3.org/1999/xhtml/vocab#glossary";this.target.terms["help"]="http://www.w3.org/1999/xhtml/vocab#help";this.target.terms["icon"]="http://www.w3.org/1999/xhtml/vocab#icon";this.target.terms["index"]="http://www.w3.org/1999/xhtml/vocab#index";this.target.terms["last"]="http://www.w3.org/1999/xhtml/vocab#last";this.target.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license";this.target.terms["meta"]="http://www.w3.org/1999/xhtml/vocab#meta";this.target.terms["next"]="http://www.w3.org/1999/xhtml/vocab#next";this.target.terms["prev"]="http://www.w3.org/1999/xhtml/vocab#prev";this.target.terms["previous"]="http://www.w3.org/1999/xhtml/vocab#previous";this.target.terms["section"]="http://www.w3.org/1999/xhtml/vocab#section";
this.target.terms["stylesheet"]="http://www.w3.org/1999/xhtml/vocab#stylesheet";this.target.terms["subsection"]="http://www.w3.org/1999/xhtml/vocab#subsection";this.target.terms["start"]="http://www.w3.org/1999/xhtml/vocab#start";this.target.terms["top"]="http://www.w3.org/1999/xhtml/vocab#top";this.target.terms["up"]="http://www.w3.org/1999/xhtml/vocab#up";this.target.terms["p3pv1"]="http://www.w3.org/1999/xhtml/vocab#p3pv1";this.target.terms["related"]="http://www.w3.org/1999/xhtml/vocab#related";this.target.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role";this.target.terms["transformation"]="http://www.w3.org/1999/xhtml/vocab#transformation"};o.prototype.getTransferGraph=function(){var e={};for(var t in this.target.triplesGraph){var r=this.target.triplesGraph[t];var n={subject:t,predicates:{}};e[t]=n;for(var i in r.predicates){var o=r.predicates[i];var s={predicate:i,objects:[]};n.predicates[i]=s;for(var u=0;u<o.objects.length;u++){var l=o.objects[u];if(l.type==this.XMLLiteralURI){var f=new XMLSerializer;var c="";for(var h=0;h<l.value.length;h++){if(l.value[h].nodeType==a.ELEMENT_NODE){c+=f.serializeToString(l.value[h])}else if(l.value[h].nodeType==a.TEXT_NODE){c+=l.value[h].nodeValue}}s.objects.push({type:l.type,value:c})}else{s.objects.push({type:l.type,value:l.value})}}}}return e};o.prototype.newSubject=function(e,t,r){var n=e.triplesGraph[r];if(!n){n={subject:r,predicates:{},origins:[]};e.triplesGraph[r]=n}for(var i=0;i<n.origins.length;i++){if(n.origins[i]==t){return n}}n.origins.push(t);return n};o.prototype.addTriple=function(e,t,r,n,i){var a=e.triplesGraph;var o=this.newSubject(e,t,r);var s=o.predicates[n];if(!s){s={predicate:n,objects:[]};o.predicates[n]=s}for(var u=0;u<s.objects.length;u++){if(s.objects[u].type==i.type&&s.objects[u].value==i.value){return}}e.tripleCount++;s.objects.push(i);i.origin=t};o.prototype.process=function(e){if(e.parentNode.nodeType==a.DOCUMENT_NODE){this.setContext(e)}var t=[];t.push({current:e,context:this.push(null,e.baseURI)});while(t.length>0){var r=t.shift();if(r.parent){if(r.context.parent&&r.context.parent.listMapping==r.listMapping){continue}for(var n in r.listMapping){var i=r.listMapping[n];if(i.length==0){this.addTriple(this.target,r.parent,r.subject,n,{type:this.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}var o=[];for(var s=0;s<i.length;s++){o.push(this.newBlankNode());this.newSubject(this.target,r.parent,o[s])}for(var s=0;s<o.length;s++){this.addTriple(this.target,r.parent,o[s],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",i[s]);this.addTriple(this.target,r.parent,o[s],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:this.objectURI,value:s+1<o.length?o[s+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}this.addTriple(this.target,r.parent,r.subject,n,{type:this.objectURI,value:o[0]})}continue}var u=r.current;var l=r.context;var f=false;var c=null;var h=null;var d=null;var p=l.prefixes;var v=false;var g=[];var m=l.listMapping;var y=l.parent?false:true;var b=l.language;var w=l.vocabulary;var x=this.parseURI(u.baseURI);u.subject=null;var _=u.getAttributeNode("vocab");if(_){var j=this.trim(_.value);if(j.length>0){w=j;var E=x.spec;this.newSubject(this.target,u,E);this.addTriple(this.target,u,E,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:this.objectURI,value:w})}else{w=this.vocabulary}}for(var s=0;s<u.attributes.length;s++){var N=u.attributes[s];if(N.nodeName.charAt(0)=="x"&&N.nodeName.indexOf("xmlns:")==0){if(!v){p=this.copyMappings(p);v=true}var I=N.nodeName.substring(6);p[I]=this.trim(N.value)}}var S=u.getAttributeNode("prefix");if(S){if(!v){p=this.copyMappings(p);v=true}this.parsePrefixMappings(S.value,p)}var O=null;for(var s=0;!O&&s<this.langAttributes.length;s++){O=u.getAttributeNodeNS(this.langAttributes[s].namespaceURI,this.langAttributes[s].localName)}if(O){var j=this.trim(O.value);if(j.length>0){b=j}}var k=u.getAttributeNode("rel");var R=u.getAttributeNode("rev");var T=u.getAttributeNode("typeof");var A=u.getAttributeNode("property");var L=u.getAttributeNode("datatype");var C=null;for(var s=0;!C&&s<this.contentAttributes.length;s++){C=u.getAttributeNode(this.contentAttributes[s])}var D=u.getAttributeNode("about");var U=u.getAttributeNode("src");var P=u.getAttributeNode("resource");var M=u.getAttributeNode("href");var q=u.getAttributeNode("inlist");if(k||R){if(D){c=this.parseSafeCURIEOrCURIEOrURI(D.value,p,x)}if(T){d=c}if(!c){if(u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI}else if(l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}}if(P){h=this.parseSafeCURIEOrCURIEOrURI(P.value,p,x)}if(!h){if(M){h=this.resolveAndNormalize(x,M.value)}else if(U){h=this.resolveAndNormalize(x,U.value)}else if(T&&!D&&!(this.inXHTMLMode&&(u.localName=="head"||u.localName=="body"))){h=this.newBlankNode()}}if(T&&!D&&this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){d=c}else if(T&&!D){d=h}}else if(A&&!C&&!L){if(D){c=this.parseSafeCURIEOrCURIEOrURI(D.value,p,x);if(T){d=c}}if(!c&&u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI;if(T){d=c}}else if(!c&&l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}if(T&&!d){if(P){d=this.parseSafeCURIEOrCURIEOrURI(P.value,p,x)}if(!d&&M){d=this.resolveAndNormalize(x,M.value)}if(!d&&U){d=this.resolveAndNormalize(x,U.value)}if(!d&&this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){d=c}if(!d){d=this.newBlankNode()}h=d}}else{if(D){c=this.parseSafeCURIEOrCURIEOrURI(D.value,p,x)}if(!c&&P){c=this.parseSafeCURIEOrCURIEOrURI(P.value,p,x)}if(!c&&M){c=this.resolveAndNormalize(x,M.value)}if(!d&&U){c=this.resolveAndNormalize(x,U.value)}if(!c){if(u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI}else if(this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}else if(T){c=this.newBlankNode()}else if(l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject;if(!A){f=true}}}if(T){d=c}}if(c){this.newSubject(this.target,u,c);u.subject=c}if(d){var B=this.tokenize(T.value);for(var s=0;s<B.length;s++){var F=this.parseTermOrCURIEOrAbsURI(B[s],w,l.terms,p,x);if(F){this.addTriple(this.target,u,d,this.typeURI,{type:this.objectURI,value:F})}}}if(c&&c!=l.parentObject){m={};y=true}if(h){if(k&&q){var B=this.tokenize(k.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){var i=m[n];if(!i){i=[];m[n]=i}i.push({type:this.objectURI,value:h})}}}else if(k){var B=this.tokenize(k.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){this.addTriple(this.target,u,c,n,{type:this.objectURI,value:h})}}}if(R){var B=this.tokenize(R.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){this.addTriple(this.target,u,h,n,{type:this.objectURI,value:c})}}}}else{if(c&&!h&&(k||R)){h=this.newBlankNode()}if(k&&q){var B=this.tokenize(k.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){var i=m[n];if(!i){i=[];m[n]=i}g.push({predicate:n,list:i})}}}else if(k){var B=this.tokenize(k.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){g.push({predicate:n,forward:true})}}}if(R){var B=this.tokenize(R.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){g.push({predicate:n,forward:false})}}}}if(A){var z=null;var V=null;if(L){z=L.value==""?this.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(L.value,w,l.terms,p,x);V=z==this.XMLLiteralURI?null:C?C.value:u.textContent}else if(C){z=this.PlainLiteralURI;V=C.value}else if(!k&&!R&&!C){if(P){V=this.parseSafeCURIEOrCURIEOrURI(P.value,p,x)}if(!V&&M){V=this.resolveAndNormalize(x,M.value)}else if(!V&&U){V=this.resolveAndNormalize(x,U.value)}if(V){z=this.objectURI}}if(!z){if(T&&!D){z=this.objectURI;V=d}else{z=this.PlainLiteralURI;V=u.textContent}}var B=this.tokenize(A.value);for(var s=0;s<B.length;s++){var n=this.parsePredicate(B[s],w,l.terms,p,x);if(n){if(q){var i=m[n];if(!i){i=[];m[n]=i}i.push(z==this.XMLLiteralURI?{type:this.XMLLiteralURI,value:u.childNodes}:{type:z?z:this.PlainLiteralURI,value:V,language:b})}else{if(z==this.XMLLiteralURI){this.addTriple(this.target,u,c,n,{type:this.XMLLiteralURI,value:u.childNodes})}else{this.addTriple(this.target,u,c,n,{type:z?z:this.PlainLiteralURI,value:V,language:b})}}}}}if(c&&!f){for(var s=0;s<l.incomplete.length;s++){if(l.incomplete[s].list){l.incomplete[s].list.push({type:this.objectURI,value:c})}else if(l.incomplete[s].forward){this.addTriple(this.target,u,l.subject,l.incomplete[s].predicate,{type:this.objectURI,value:c})}else{this.addTriple(this.target,u,c,l.incomplete[s].predicate,{type:this.objectURI,value:l.subject})}}}var G=null;var H=c;if(f){G=this.push(l,l.subject);G.parentObject=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject;G.incomplete=l.incomplete;G.language=b;G.prefixes=p;G.vocabulary=w}else{G=this.push(l,c);G.parentObject=h?h:c?c:l.subject;G.prefixes=p;G.incomplete=g;if(h){H=h;m={};y=true}G.listMapping=m;G.language=b;G.vocabulary=w}if(y){t.unshift({parent:u,context:l,subject:H,listMapping:m})}for(var J=u.lastChild;J;J=J.previousSibling){if(J.nodeType==a.ELEMENT_NODE){t.unshift({current:J,context:G})}}}for(var X in this.target.triplesGraph){var $=this.target.triplesGraph[X];if(Object.size($.predicates)==0){delete this.target.triplesGraph[X]}}};o.prototype.push=function(e,t){return{parent:e,subject:t?t:e?e.subject:null,parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.prefixes,terms:e?e.terms:this.target.terms,vocabulary:e?e.voabulary:this.vocabulary}};function s(e){this.query=function(t,r){if(!t){return e.getProjections(r)}var n=[];for(var i in e._data_.triplesGraph){var a=e._data_.triplesGraph[i];for(var o in t){var s=e._data_.curieParser.parse(o,true);var u=a.predicates[s];if(!u){a=null;break}var f=e._data_.curieParser.parse(t[o],false);var c=null;for(var h=0;!c&&h<u.objects.length;h++){if(u.objects[h].value==f){c=u.objects[h]}}if(!c){a=null;break}}if(a){n.push(l.toProjection(e,a,r))}}return n}}function u(e,t){this._data_={owner:e,subject:t,properties:{}}}u.prototype.getProperties=function(){var e=[];for(var t in this._data_.properties){e.push(t)}return e};u.prototype.getSubject=function(){return this._data_.subject};u.prototype.get=function(e){var t=this._data_.owner._data_.curieParser.parse(e,true);var r=this._data_.properties[t];return r?r[0]:null};u.prototype.getAll=function(e){var t=this._data_.owner._data_.curieParser.parse(e,true);return this._data_.properties[t]};l.prototype=new i;l.prototype.constructor=l;function l(e){this._data_={tripleCount:0,triplesGraph:{},prefixes:{},terms:{},baseURI:this.parseURI(e)};var t=this._data_;this._data_.curieParser={trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(e,r){e=this.trim(e);if(e.charAt(0)=="["&&e.charAt(e.length-1)=="]"){e=e.substring(1,e.length-1)}var n=e.indexOf(":");if(n>=0){var i=e.substring(0,n);if(i==""){var a=t.prefixes[""];return a?a+e.substring(n+1):null}else if(i=="_"){return"_:"+e.substring(n+1)}else if(l.NCNAME.test(i)){var a=t.prefixes[i];if(a){return a+e.substring(n+1)}}}return r?t.baseURI.resolve(e):e}};Object.defineProperty(this,"rdfa",{value:new s(this),writable:false,configurable:false,enumerable:true})}l.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";l.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";l.NCNAME=new RegExp("^"+o.nameStartChar+o.nameChar+"*$");l.toProjection=function(e,t,r){var n=new u(e,t.subject);for(var i in t.predicates){var a=t.predicates[i];var o=[];n._data_.properties[i]=o;for(var s=0;s<a.objects.length;s++){o.push(a.objects[s].value)}}if(r){for(var l in r){var i=r[l];i=e._data_.curieParser.parse(i,true);var o=n._data_.properties[i];if(o){n[l]=o.length==1?o[0]:o}}}return n};l.prototype.getProperties=function(e){var t=[];if(e){e=this._data_.curieParser.parse(e,true);i=this._data_.triplesGraph[e];if(i){for(var r in i.predicates){t.push(r)}}}else{var n={};for(var e in this._data_.triplesGraph){var i=this._data_.triplesGraph[e];if(i){for(var r in i.predicates){if(!n[r]){n[r]=true;t.push(r)}}}}}return t};l.prototype.getSubjects=function(e,t){var r=[];if(e){e=this._data_.curieParser.parse(e,true)}if(e&&t){var n=this._data_.curieParser.parse(t,true);for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];var o=a.predicates[e];if(o){for(var s=0;s<o.objects.length;s++){if(o.objects[s].value==t||o.objects[s].value==n){r.push(i);break}}}}}else if(e){for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];var o=a.predicates[e];if(o){r.push(i)}}}else if(t){var n=this._data_.curieParser.parse(t,true);for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];for(var u in a.predicates){var o=i.predicates[u];if(o){var l=null;for(var s=0;!l&&s<o.objects.length;s++){if(o.objects[s].value==t||node.objects[s].value==n){l=o.objects[s]}}if(l){r.push(i);break}}}}}else{for(var i in this._data_.triplesGraph){r.push(i)}}return r};l.prototype.getValues=function(e,t){var r=[];if(t){t=this._data_.curieParser.parse(t,true)}if(e){e=this._data_.curieParser.parse(e,true);var n=this._data_.triplesGraph[e];if(n){if(t){var i=n.predicates[t];if(i){for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}else{for(var o in n.predicates){var i=n.predicates[o];for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}}else if(t){for(var e in this._data_.triplesGraph){var n=this._data_.triplesGraph[e];var i=n.predicates[t];if(i){for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}else{for(var e in this._data_.triplesGraph){var n=this._data_.triplesGraph[e];for(var o in n.predicates){var i=n.predicates[o];for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}return r};l.prototype.setMapping=function(e,t){this._data_.prefixes[e]=t};l.prototype.getSubjectTriples=function(e){if(!e){return null}e=this._data_.curieParser.parse(e,true);var t={subject:e,predicates:{}};var r=this._data_.triplesGraph[e];if(!r){return null}for(var n in r.predicates){var i=r.predicates[n];var o=[];t.predicates[n]={predicate:n,objects:o};for(var s=0;s<i.objects.length;s++){var u=i.objects[s];if(u.type==this.XMLLiteralURI){var l=new XMLSerializer;var f="";for(var c=0;c<u.value.length;c++){if(u.value[c].nodeType==a.ELEMENT_NODE){f+=l.serializeToString(u.value[c])}else if(u.value[c].nodeType==a.TEXT_NODE){f+=u.value[c].nodeValue}}o.push({type:u.type,value:f})}else{o.push({type:u.type,value:u.value})}}}return t};l.prototype.getProjection=function(e,t){if(!e){return null}e=this._data_.curieParser.parse(e,true);var r=this._data_.triplesGraph[e];if(!r){return null}return l.toProjection(this,r,t)};l.prototype.getProjections=function(e,t,r){if(e){e=this._data_.curieParser.parse(e,true)}var n=[];if(typeof t=="undefined"&&typeof r=="undefined"){r=e}if(e&&t){var i=this._data_.curieParser.parse(t,true);for(var a in this._data_.triplesGraph){var o=this._data_.triplesGraph[a];var s=o.predicates[e];if(s){for(var u=0;u<s.objects.length;u++){if(s.objects[u].value==t||s.objects[u].value==i){n.push(l.toProjection(this,o,r));break}}}}}else if(e){for(var a in this._data_.triplesGraph){var o=this._data_.triplesGraph[a];if(o.predicates[e]){n.push(l.toProjection(this,o,r))}}}else{for(var a in this._data_.triplesGraph){var o=this._data_.triplesGraph[a];n.push(l.toProjection(this,o,r))}}return n};l.attach=function(e){Object.defineProperty(e,"data",{value:new l(e.baseURI||e.location.href),writable:false,configurable:false,enumerable:true});e.getElementsByType=function(e){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",e)};e.getElementsBySubject=function(e){var t=[];t.item=function(e){return this[e]};e=this.data._data_.curieParser.parse(e,true);var r=this.data._data_.triplesGraph[e];if(r){for(var n=0;n<r.origins.length;n++){t.push(r.origins[n])}}return t};e.getElementsByProperty=function(e,t){var r=[];r.item=function(e){return this[e]};if(t){t=this.data._data_.curieParser.parse(t,false)}var n=typeof t=="undefined";e=this.data._data_.curieParser.parse(e,true);for(var i in this.data._data_.triplesGraph){var a=this.data._data_.triplesGraph[i];var o=a.predicates[e];if(o){for(var s=0;s<o.objects.length;s++){if(n||o.objects[s].value==t){r.push(o.objects[s].origin)}}}}return r};e.getElementSubject=function(e){for(var t in this.data._data_.triplesGraph){var r=this.data._data_.triplesGraph[t];for(predicate in r.predicates){var n=r.predicates[predicate];for(var i=0;i<n.objects.length;i++){if(n.objects[i].origin==e){return t}}}}return null}};var f=e.implementation.hasFeature;e.implementation.hasFeature=function(e,t){if(e=="RDFaAPI"&&t=="1.1"){return true}return f(e,t)};var c=e.data?true:false;if(e.head&&!n){var h=e.createElement("meta");h.setAttribute("name","green-turtle-rdfa-message");e.head.appendChild(h);var d=function(){var t=e.createEvent("Event");t.initEvent("green-turtle-rdfa-extension",true,true);return t};h.addEventListener("green-turtle-rdfa-document",function(t){var r=JSON.parse(h.getAttribute("content"));if(r.type=="status"){var n=d();h.setAttribute("content",'{ "type": "status", "loaded": '+c+', "count": '+e.data._data_.tripleCount+" }");setTimeout(function(){h.dispatchEvent(n)},1)}else if(r.type=="get-subjects"){var i=e.data.getSubjects();h.setAttribute("content",'{ "type": "subjects", "subjects": '+JSON.stringify(i)+" }");var t=d();setTimeout(function(){h.dispatchEvent(t)},1)}else if(r.type=="get-subject"){var a=null;if(e.data.getSubjectTriples){a=e.data.getSubjectTriples(r.subject)}else{var i={};var o=e.data.getSubjects();for(var s=0;s<o.length;s++){i[o[s]]=true}a={subject:r.subject,predicates:{}};var u=e.data.getProjection(r.subject);var l=u.getProperties();for(var s=0;s<l.length;s++){var f=[];a.predicates[l[s]]={predicate:predicate,objects:f};var p=u.getAll(l[s]);for(var v=0;v<p.length;v++){if(i[p[v]]){f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:p[v]})}else{f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:p[v]})}}}}var g={type:"subject",subject:r.subject,triples:a};h.setAttribute("content",JSON.stringify(g));var t=d();setTimeout(function(){h.dispatchEvent(t)},1)}},false)}if(t||!e.data){if(!t){l.attach(e)}var p=new o(e.data._data_);p.process(e.documentElement);c=true}};if(n){t.exports=i;if(typeof a==="undefined"){var a={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9}}}else{if(document.readyState=="loading"){window.addEventListener("load",function(){i.attach(document)},false)}else{i.attach(document)}}},{}],58:[function(e,t,r){(function(e,r){(function(){"use strict";function n(e){return typeof e==="function"||typeof e==="object"&&e!==null}function i(e){return typeof e==="function"}function a(e){return typeof e==="object"&&e!==null}var o;if(!Array.isArray){o=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{o=Array.isArray}var s=o;var u=Date.now||function(){return(new Date).getTime()};function l(){}var f=Object.create||function(e){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof e!=="object"){throw new TypeError("Argument must be an object")}l.prototype=e;return new l};var c=0;var h=function oe(e,t){w[c]=e;w[c+1]=t;c+=2;if(c===2){_()}};var d=typeof window!=="undefined"?window:{};var p=d.MutationObserver||d.WebKitMutationObserver;var v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function g(){return function(){e.nextTick(x)}}function m(){var e=0;var t=new p(x);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function y(){var e=new MessageChannel;e.port1.onmessage=x;return function(){e.port2.postMessage(0)}}function b(){return function(){setTimeout(x,1)}}var w=new Array(1e3);function x(){for(var e=0;e<c;e+=2){var t=w[e];var r=w[e+1];t(r);w[e]=undefined;w[e+1]=undefined}c=0}var _;if(typeof e!=="undefined"&&{}.toString.call(e)==="[object process]"){_=g()}else if(p){_=m()}else if(v){_=y()}else{_=b()}function j(){}var E=void 0;var N=1;var I=2;var S=new F;function O(){return new TypeError("You cannot resolve a promise with itself")}function k(){return new TypeError("A promises callback cannot return that same promise.")}function R(e){try{return e.then}catch(t){S.error=t;return S}}function T(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function A(e,t,r){h(function(e){var n=false;var i=T(r,t,function(r){if(n){return}n=true;if(t!==r){D(e,r)}else{P(e,r)}},function(t){if(n){return}n=true;M(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;M(e,i)}},e)}function L(e,t){if(t._state===N){P(e,t._result)}else if(e._state===I){M(e,t._result)}else{q(t,undefined,function(t){D(e,t)},function(t){M(e,t)})}}function C(e,t){if(t.constructor===e.constructor){L(e,t)}else{var r=R(t);if(r===S){M(e,S.error)}else if(r===undefined){P(e,t)}else if(i(r)){A(e,t,r)}else{P(e,t)}}}function D(e,t){if(e===t){M(e,O())}else if(n(t)){C(e,t)}else{P(e,t)}}function U(e){if(e._onerror){e._onerror(e._result)}B(e)}function P(e,t){if(e._state!==E){return}e._result=t;e._state=N;if(e._subscribers.length===0){}else{h(B,e)}}function M(e,t){if(e._state!==E){return}e._state=I;e._result=t;h(U,e)}function q(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+N]=r;i[a+I]=n;if(a===0&&e._state){h(B,e)}}function B(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,i,a=e._result;for(var o=0;o<t.length;o+=3){n=t[o];i=t[o+r];if(n){G(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function F(){this.error=null}var z=new F;function V(e,t){try{return e(t)}catch(r){z.error=r;return z}}function G(e,t,r,n){var a=i(r),o,s,u,l;if(a){o=V(r,n);if(o===z){l=true;s=o.error;o=null}else{u=true}if(t===o){M(t,k());return}}else{o=n;u=true}if(t._state!==E){}else if(a&&u){D(t,o)}else if(l){M(t,s)}else if(e===N){P(t,o)}else if(e===I){M(t,o)}}function H(e,t){try{t(function n(t){D(e,t)},function i(t){M(e,t)})}catch(r){M(e,r)}}function J(e,t,r){if(e===N){return{state:"fulfilled",value:r}}else{return{state:"rejected",reason:r}}}function X(e,t,r,n){this._instanceConstructor=e;this.promise=new e(j,n);this._abortOnReject=r;if(this._validateInput(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._init();if(this.length===0){P(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){P(this.promise,this._result)}}}else{M(this.promise,this._validationError())}}X.prototype._validateInput=function(e){return s(e)};X.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};X.prototype._init=function(){this._result=new Array(this.length)};var $=X;X.prototype._enumerate=function(){var e=this.length;var t=this.promise;var r=this._input;for(var n=0;t._state===E&&n<e;n++){this._eachEntry(r[n],n)}};X.prototype._eachEntry=function(e,t){var r=this._instanceConstructor;if(a(e)){if(e.constructor===r&&e._state!==E){e._onerror=null;this._settledAt(e._state,t,e._result)}else{this._willSettleAt(r.resolve(e),t)}}else{this._remaining--;this._result[t]=this._makeResult(N,t,e)}};X.prototype._settledAt=function(e,t,r){var n=this.promise;if(n._state===E){this._remaining--;if(this._abortOnReject&&e===I){M(n,r)}else{this._result[t]=this._makeResult(e,t,r)}}if(this._remaining===0){P(n,this._result)}};X.prototype._makeResult=function(e,t,r){return r};X.prototype._willSettleAt=function(e,t){var r=this;q(e,undefined,function(e){r._settledAt(N,t,e)},function(e){r._settledAt(I,t,e)})};var Y=function se(e,t){return new $(this,e,true,t).promise};var W=function ue(e,t){var r=this;var n=new r(j,t);if(!s(e)){M(n,new TypeError("You must pass an array to race."));return n}var i=e.length;function a(e){D(n,e)}function o(e){M(n,e)}for(var u=0;n._state===E&&u<i;u++){q(r.resolve(e[u]),undefined,a,o)}return n};var Z=function le(e,t){var r=this;if(e&&typeof e==="object"&&e.constructor===r){return e}var n=new r(j,t);D(n,e);return n};var K=function fe(e,t){var r=this;var n=new r(j,t);M(n,e);return n};var Q=0;function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var re=ne;function ne(e){this._id=Q++;this._state=undefined;this._result=undefined;this._subscribers=[];if(j!==e){if(!i(e)){ee()}if(!(this instanceof ne)){te()}H(this,e)}}ne.all=Y;ne.race=W;ne.resolve=Z;ne.reject=K;ne.prototype={constructor:ne,then:function(e,t){var r=this;var n=r._state;if(n===N&&!e||n===I&&!t){return this}var i=new this.constructor(j);var a=r._result;if(n){var o=arguments[n-1];h(function(){G(n,i,o,a)})}else{q(r,i,e,t)}return i},"catch":function(e){return this.then(null,e)}};var ie=function ce(){var e;if(typeof r!=="undefined"){e=r}else if(typeof window!=="undefined"&&window.document){e=window}else{e=self}var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;new e.Promise(function(e){t=e});return i(t)}();if(!t){e.Promise=re}};var ae={Promise:re,polyfill:ie};if(typeof define==="function"&&define["amd"]){define(function(){return ae})}else if(typeof t!=="undefined"&&t["exports"]){t["exports"]=ae}else if(typeof this!=="undefined"){this["ES6Promise"]=ae}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:22}],59:[function(e,t,r){(function(r){var n=e("fs"),i=e("path");var a=t.exports=function(e,t){var r=[].slice.call(arguments,2).filter(function(e){return typeof e==="string"});if(Array.isArray(t)){t={include:t}}else if(typeof t==="string"){t={include:[t]}}t=t||{};t.include=t.include||[];if(r.length>0){t.include=t.include.concat(r)}var n=a.read(e,t.dir).package;Object.keys(n).forEach(function(r){if(t.include.length>0&&!~t.include.indexOf(r)){return}if(!e.exports[r]){e.exports[r]=n[r]}});return a};a.find=function(e,t){if(!t){t=i.dirname(e.filename)}var r=n.readdirSync(t);if(~r.indexOf("package.json")){return i.join(t,"package.json")}if(t==="/"){throw new Error("Could not find package.json up from: "+t)}else if(!t||t==="."){throw new Error("Cannot find package.json from unspecified directory")}return a.find(e,i.dirname(t))};a.read=function(e,t){t=a.find(e,t);var r=n.readFileSync(t).toString();return{dir:t,"package":JSON.parse(r)}};a(t,{dir:r,include:["version"],target:a})}).call(this,"/node_modules/jsonld/node_modules/pkginfo/lib")},{fs:11,path:21}],60:[function(e,t,r){(function(r){"use strict";var n=e("path-to-regexp");t.exports=h;var i="undefined"!==typeof document&&document.ontouchstart?"touchstart":"click";var a="undefined"!==typeof window&&(window.history.location||window.location);var o=true;var s=true;var u="";var l;var f=false;var c;function h(e,t){if("function"===typeof e){return h("*",e)}if("function"===typeof t){var r=new g(e);for(var n=1;n<arguments.length;++n){h.callbacks.push(r.middleware(arguments[n]))}}else if("string"===typeof e){h["string"===typeof t?"redirect":"show"](e,t)}else{h.start(e)}}h.callbacks=[];h.exits=[];h.current="";h.len=0;h.base=function(e){if(0===arguments.length)return u;u=e};h.start=function(e){e=e||{};if(l)return;l=true;if(false===e.dispatch)o=false;if(false===e.decodeURLComponents)s=false;if(false!==e.popstate)window.addEventListener("popstate",m,false);if(false!==e.click){document.addEventListener(i,y,false)}if(true===e.hashbang)f=true;if(!o)return;var t=f&&~a.hash.indexOf("#!")?a.hash.substr(2)+a.search:a.pathname+a.search+a.hash;h.replace(t,null,true,o)};h.stop=function(){if(!l)return;h.current="";h.len=0;l=false;document.removeEventListener(i,y,false);window.removeEventListener("popstate",m,false)};h.show=function(e,t,r,n){var i=new v(e,t);h.current=i.path;if(false!==r)h.dispatch(i);if(false!==i.handled&&false!==n)i.pushState();return i};h.back=function(e,t){if(h.len>0){history.back();h.len--}else if(e){setTimeout(function(){h.show(e,t)})}else{setTimeout(function(){h.show(u,t)})}};h.redirect=function(e,t){if("string"===typeof e&&"string"===typeof t){h(e,function(e){setTimeout(function(){h.replace(t)},0)})}if("string"===typeof e&&"undefined"===typeof t){setTimeout(function(){h.replace(e)},0)}};h.replace=function(e,t,r,n){var i=new v(e,t);h.current=i.path;i.init=r;i.save();if(false!==n)h.dispatch(i);return i};h.dispatch=function(e){var t=c,r=0,n=0;c=e;function i(){var e=h.exits[n++];if(!e)return a();e(t,i)}function a(){var t=h.callbacks[r++];if(e.path!==h.current){e.handled=false;return}if(!t)return d(e);t(e,a)}if(t){i()}else{a()}};function d(e){if(e.handled)return;var t;if(f){t=u+a.hash.replace("#!","")}else{t=a.pathname+a.search}if(t===e.canonicalPath)return;h.stop();e.handled=false;a.href=e.canonicalPath}h.exit=function(e,t){if(typeof e==="function"){return h.exit("*",e)}var r=new g(e);for(var n=1;n<arguments.length;++n){h.exits.push(r.middleware(arguments[n]))}};function p(e){if(typeof e!=="string"){return e}return s?decodeURIComponent(e.replace(/\+/g," ")):e}function v(e,t){if("/"===e[0]&&0!==e.indexOf(u))e=u+(f?"#!":"")+e;var r=e.indexOf("?");this.canonicalPath=e;this.path=e.replace(u,"")||"/";if(f)this.path=this.path.replace("#!","")||"/";this.title=document.title;this.state=t||{};this.state.path=e;this.querystring=~r?p(e.slice(r+1)):"";this.pathname=p(~r?e.slice(0,r):e);this.params={};this.hash="";if(!f){if(!~this.path.indexOf("#"))return;var n=this.path.split("#");this.path=n[0];this.hash=p(n[1])||"";this.querystring=this.querystring.split("#")[0]}}h.Context=v;v.prototype.pushState=function(){h.len++;history.pushState(this.state,this.title,f&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};v.prototype.save=function(){history.replaceState(this.state,this.title,f&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function g(e,t){t=t||{};this.path=e==="*"?"(.*)":e;this.method="GET";this.regexp=n(this.path,this.keys=[],t.sensitive,t.strict)}h.Route=g;g.prototype.middleware=function(e){var t=this;return function(r,n){if(t.match(r.path,r.params))return e(r,n);n()}};g.prototype.match=function(e,t){var r=this.keys,n=e.indexOf("?"),i=~n?e.slice(0,n):e,a=this.regexp.exec(decodeURIComponent(i));if(!a)return false;for(var o=1,s=a.length;o<s;++o){var u=r[o-1];var l=p(a[o]);if(l!==undefined||!hasOwnProperty.call(t,u.name)){t[u.name]=l}}return true};var m=function(){var e=false;if("undefined"===typeof window){return}if(document.readyState==="complete"){e=true}else{window.addEventListener("load",function(){setTimeout(function(){e=true},0)})}return function t(r){if(!e)return;if(r.state){var n=r.state.path;h.replace(n,r.state)}else{h.show(a.pathname+a.hash,undefined,undefined,false)}}}();function y(e){if(1!==b(e))return;if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;var t=e.target;while(t&&"A"!==t.nodeName)t=t.parentNode;if(!t||"A"!==t.nodeName)return;if(t.hasAttribute("download")||t.getAttribute("rel")==="external")return;var n=t.getAttribute("href");if(!f&&t.pathname===a.pathname&&(t.hash||"#"===n))return;if(n&&n.indexOf("mailto:")>-1)return;if(t.target)return;if(!w(t.href))return;var i=t.pathname+t.search+(t.hash||"");if(typeof r!=="undefined"&&i.match(/^\/[a-zA-Z]:\//)){i=i.replace(/^\/[a-zA-Z]:\//,"/")}var o=i;if(i.indexOf(u)===0){i=i.substr(u.length)}if(f)i=i.replace("#!","");if(u&&o===i)return;e.preventDefault();h.show(o)}function b(e){e=e||window.event;
return null===e.which?e.button:e.which}function w(e){var t=a.protocol+"//"+a.hostname;if(a.port)t+=":"+a.port;return e&&0===e.indexOf(t)}h.sameOrigin=w}).call(this,e("_process"))},{_process:22,"path-to-regexp":61}],61:[function(e,t,r){var n=e("isarray");t.exports=c;var i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");function a(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e,t){e.keys=t;return e}function s(e){return e.sensitive?"":"i"}function u(e,t){var r=e.source.match(/\((?!\?)/g);if(r){for(var n=0;n<r.length;n++){t.push({name:n,delimiter:null,optional:false,repeat:false})}}return o(e,t)}function l(e,t,r){var n=[];for(var i=0;i<e.length;i++){n.push(c(e[i],t,r).source)}var a=new RegExp("(?:"+n.join("|")+")",s(r));return o(a,t)}function f(e,t){var r=0;function n(e,n,i,o,s,u,l,f){if(n){return n}if(f){return"\\"+f}var c=l==="+"||l==="*";var h=l==="?"||l==="*";t.push({name:o||r++,delimiter:i||"/",optional:h,repeat:c});i=i?"\\"+i:"";s=a(s||u||"[^"+(i||"\\/")+"]+?");if(c){s=s+"(?:"+i+s+")*"}if(h){return"(?:"+i+"("+s+"))?"}return i+"("+s+")"}return e.replace(i,n)}function c(e,t,r){t=t||[];if(!n(t)){r=t;t=[]}else if(!r){r={}}if(e instanceof RegExp){return u(e,t,r)}if(n(e)){return l(e,t,r)}var i=r.strict;var a=r.end!==false;var c=f(e,t);var h=e.charAt(e.length-1)==="/";if(!i){c=(h?c.slice(0,-2):c)+"(?:\\/(?=$))?"}if(a){c+="$"}else{c+=i&&h?"":"(?=\\/|$)"}return o(new RegExp("^"+c,s(r)),t)}},{isarray:62}],62:[function(e,t,r){arguments[4][20][0].apply(r,arguments)},{dup:20}],63:[function(e,t,r){"use strict";var n=function(e){var t={};t.options={convertStringUrls:true};t.urlRegEx=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;var r=function(n){if(!n){return undefined}if(Array.isArray(n)){return n.map(function(e){return r(e)})}if(typeof n==="object"&&n.interfaceName){return n}if(typeof n==="string"){if(t.options.convertStringUrls&&t.urlRegEx.test(n)){return e.createNamedNode(n)}else{return e.createLiteral(n)}}else if(typeof n==="number"){return e.createLiteral(n+"")}else{throw"unknown type"}};var n=function(e,t,i){if(Array.isArray(e)){return e.map(function(e){return n(e,t,i)})}e=r(e);e.graph=t;e.graphIri=i;return e};var i=function(e,t){return t.some(function(t){return t.equals(e)})};var a=function(e){if(!e){return undefined}if(!Array.isArray(e)){return[e]}return e};t.Graph=function(e,n){if(!(this instanceof t.Graph)){return new t.Graph(e,n)}var o=this;this.context=r(a(n));var s=function(t,n,o,s){var u=[];n=r(a(n));e.forEach(function(e){if(t!==null&&!i(e.subject,t)){return}if(n!==null&&!i(e.predicate,n)){return}if(o!==null&&!i(e.object,o)){return}u.push(e[s])});return u};this.graph=function(){return e};this.node=function(r){return t.Graph(e,r)};this.in=function(r){return t.Graph(e,s(null,r,this.context,"subject"))};this.out=function(r){return t.Graph(e,s(this.context,r,null,"object"))};this.nodes=function(){if(!this.context){return[]}return this.context};this.literal=function(){if(!this.context){return undefined}return this.context.map(function(e){return e.toString()})};this.removeIn=function(t){if(t){t=r(a(t))}this.nodes().forEach(function(r){if(t){t.forEach(function(t){e.removeMatches(null,t,r)})}else{e.removeMatches(null,null,r)}});return this};this.removeOut=function(t){if(t){t=r(a(t))}this.nodes().forEach(function(r){if(t){t.forEach(function(t){e.removeMatches(r,t,null)})}else{e.removeMatches(r,null,null)}});return this};this.toArray=function(){return this.nodes().map(this.node)};this.forEach=function(e){return this.toArray().forEach(e)};this.map=function(e){return this.toArray().map(e)};this.toString=function(){return this.literal().join()}};t.Store=function(e,r){if(!(this instanceof t.Store)){return new t.Store(e,r)}var i=this;this.context=a(r);this.store=function(){return e};this.graphs=function(){var e=[];this.nodes().forEach(function(t){if(e.indexOf(t.graph)===-1){e.push(t.graph)}});return e};this.node=function(r,i,a){i=i||r.graphIri||r;return e.graph(i).then(function(o){if(a){return Promise.resolve(a(t.Store(e,n(r,o,i))))}else{return t.Store(e,n(r,o,i))}})};this.in=function(r){var i=[];this.nodes().forEach(function(e){i=i.concat(t.Graph(e.graph,e).in(r).nodes().map(function(t){return n(t,e.graph,e.graphIri)}))});return t.Store(e,i)};this.out=function(r){var i=[];this.nodes().forEach(function(e){i=i.concat(t.Graph(e.graph,e).out(r).nodes().map(function(t){return n(t,e.graph,e.graphIri)}))});return t.Store(e,i)};this.jump=function(r){return Promise.all(this.nodes().map(function(t){return e.graph(t.nominalValue).then(function(e){return n(t,e,t.nominalValue)})})).then(function(n){if(r){return Promise.resolve(r(t.Store(e,n)))}else{return t.Store(e,n)}})};this.nodes=function(){if(!this.context){return[]}return this.context};this.literal=function(){if(!this.context){return undefined}return this.context.map(function(e){return e.toString()})};this.toArray=function(){return this.nodes().map(function(r){return t.Store(e,r)})};this.forEach=function(e){return this.toArray().forEach(e)};this.map=function(e){return this.toArray().map(e)};this.toString=function(){return this.literal().join()}};e.cf=t};t.exports=n},{}],64:[function(e,t,r){"use strict";var n=function(e){var t={};this.graph=function(r,n){var i=null;if(r===undefined){i=e.createGraph();this.forEach(function(e){i.addAll(e)})}else if(r in t){i=t[r]}n(i)};this.match=function(e,t,r,n,i,a){this.graph(e,function(e){if(!e){i(null)}else{i(e.match(t,r,n,a))}})};this.add=function(r,n,i){t[r]=e.createGraph();t[r].addAll(n);i(n)};this.merge=function(e,r,n){if(e in t){t[e].addAll(r)}else{t[e]=r}n(r)};this.remove=function(r,n,i){if(r in t){t[r]=e.Graph.difference(t[r],n)}i(true)};this.removeMatches=function(e,r,n,i,a){if(e in t){t[e].removeMatches(r,n,i)}a(true)};this.delete=function(e,r){if(e in t){delete t[e]}r(true)};this.forEach=function(e){Object.keys(t).forEach(function(r){e(t[r],r)})}};t.exports=function(e){e.InMemoryStore=n.bind(null,e);e.createStore=function(){return new e.InMemoryStore}}},{}],65:[function(e,t,r){"use strict";var n=e("jsonld"),i=e("jsonld/js/rdfa");var a=function(e,t){t=t||{};if(!("importPrefixMap"in t)){t.importPrefixMap=true}var r=function(e,t,r){n.expand(e,{base:t},function(e,t){if(e){return r(null,e.message)}n.flatten(t,{},function(e,t){if(e){return r(null,e.message)}if(!("@graph"in t)){return r(null)}r(t["@graph"])})})};var i=function(e){e=e||[];if(Array.isArray(e)){return e}return[e]};this.process=function(n,a,o,s,u){if(typeof n==="string"){n=JSON.parse(n)}o=o||"";s=s||function(){return true};u=u||function(){};var l=function(t){var r=null,n=null;if("@type"in t){r=c(t["@type"])}if("@language"in t){n=t["@language"]}return e.createLiteral(t["@value"],n,r)};var f={};var c=function(t){if(t in f){return f[t]}if(!t){return e.createBlankNode()}if(t.indexOf("_:")===0){return f[t]=e.createBlankNode()}return f[t]=e.createNamedNode(t)};var h=function(t,r,n){var i=e.createTriple(t,r,n);if(s(i)){a(i)}};var d=function(t){var r=t["@id"],n=i(t["@type"]);n.forEach(function(t){h(c(r),c(e.ns.type),c(t))});for(var a in t){if(a.indexOf("@")===0){continue}p(r,a,i(t[a]))}};var p=function(e,t,r){r.forEach(function(r){h(c(e),c(t),v(r))})};var v=function(t){if(typeof t==="string"){return e.createLiteral(t)}if("@id"in t){return c(t["@id"])}if("@list"in t){return g(t["@list"])}return l(t)};var g=function(e){var t=c(),r=t,n;e.forEach(function(t,i){if(i!==e.length-1){n=c()}else{n=c("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}h(r,c("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),c(t["@id"]));h(r,c("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),n);r=n});return t};if(t.importPrefixMap&&"@context"in n&&typeof n["@context"]==="object"){var m=n["@context"];Object.keys(m).forEach(function(t){if(t.slice(1)!=="@"&&typeof m[t]==="string"){e.prefixes[t]=m[t]}})}r(n,o,function(e,t){if(t){return u(false,t)}if(!e){return u(true)}e.forEach(function(e){d(e)});u(true)});return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e,t){r(e?a:null,t)})}};var o=function(e){var t=new a(e);this.parse=function(r,a,o,s,u){if(typeof r==="string"){try{r=e.parseHtml(r)}catch(l){a(null,l);return false}}u=u||e.createGraph();r.location={href:o};i.attach(r);n.fromRDF(r.data,{format:"rdfa-api"},function(e,r){if(e){a(null,e)}else{t.process(r,function(e){u.add(e)},o,s,function(e,t){a(e?u:null,t)})}});return true}};t.exports=function(e){e.JsonLdParser=a.bind(null,e);var t=new a(e);e.parseJsonLd=t.parse.bind(t);e.utils.mimeTypeParserMap["application/ld+json"]=e.parseJsonLd;e.RdfaParser=o.bind(null,e);var r=new o(e);e.parseRdfa=r.parse.bind(r)}},{jsonld:56,"jsonld/js/rdfa":57}],66:[function(e,t,r){"use strict";var n=e("jsonld");var i=function(e){var t=e.createNamedNode("http://www.w3.org/2001/XMLSchema#string");this.serialize=function(e,r){r=r||function(){};var n=[];var i={};var a=function(e){var t=e.valueOf();if(typeof i[t]==="undefined"){if(e.interfaceName=="BlankNode"){n.push({"@id":"_:"+t})}else{n.push({"@id":t})}i[t]=n.length-1}return i[t]};var o=function(e){if(e.interfaceName=="NamedNode"){return{"@id":e.valueOf()}}else if(e.interfaceName=="BlankNode"){return{"@id":"_:"+e.valueOf()}}else{if(e.language){return{"@language":e.language,"@value":e.valueOf()}}else if("datatype"in e&&e.datatype&&!t.equals(e.datatype)){return{"@type":e.datatype.valueOf(),"@value":e.valueOf()}}else{return e.valueOf()}}};e.forEach(function(e){var t=a(e.subject);var r=e.predicate.valueOf();if(r=="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"){if(typeof n[t]["@type"]==="undefined"){n[t]["@type"]=[]}n[t]["@type"].push(e.object.valueOf())}else{if(typeof n[t][r]==="undefined"){n[t][r]=o(e.object)}else{if(!Array.isArray(n[t][r])){n[t][r]=[n[t][r]]}n[t][r].push(o(e.object))}}});r(n);return n}};t.exports=function(e){e.JsonLdSerializer=i.bind(null,e);var t=new i(e);e.serializeJsonLd=t.serialize.bind(t)}},{jsonld:56}],67:[function(e,t,r){"use strict";var n=function(e,t){var r=this;t=t||{};r.parsers=t.parsers||n.defaultParsers(e);r.serializers=t.serializers||n.defaultSerializers(e);r.defaultParser=t.defaultParser||"text/turtle";r.defaultSerializer=t.defaultSerializer||"text/turtle";r.defaultPatchSerializer=t.defaultPatchSerializer||t.defaultSerializer||"text/turtle";r.request=t.request||e.defaultRequest;var i=function(){var e=null;for(var t in r.parsers){if(!e){e=t}else{e+=", "+t}}return e};var a=function(e){return e>=200&&e<300};r.graph=function(e,t,n){n=n||{};r.request("GET",e,{Accept:i()},null,function(i,o,s,u){if(u){return t(null,"request error: "+u)}if(!a(i)){if(i!==0){return t(null,"status code error: "+i)}}var l=r.defaultParser;if("content-type"in o&&o["content-type"]in r.parsers){l=o["content-type"]}if("forceContentType"in n&&n.forceContentType in r.parsers){l=n.forceContentType}r.parsers[l](s,function(e,r){if(r){return t(null,"parser error: "+r)}if("useEtag"in n&&n.useEtag&&"etag"in o){e.etag=o.etag}t(e)},e)})};r.match=function(e,t,n,i,a,o){r.graph(e,function(e,r){if(r){return a(null,r)}a(e.match(t,n,i,o))})};r.add=function(e,t,n,i){var o="PUT",s=r.defaultSerializer,u={};i=i||{};u["Content-Type"]=s;if("method"in i){o=i.method}if("etag"in i){u["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){u["If-Match"]=t.etag}r.serializers[s](t,function(i,s){if(s){return n(null,s)}r.request(o,e,u,i,function(e,r,i,o){if(o){return n(null,o)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.merge=function(e,t,n,i){var o=r.defaultPatchSerializer,s={};i=i||{};s["Content-Type"]=o;if("etag"in i){s["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){s["If-Match"]=t.etag}r.serializers[o](t,function(i,o){if(o){return n(null,o)}r.request("PATCH",e,s,i,function(e,r,i,o){if(o){return n(null,o)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.remove=function(e,t,r){};r.removeMatches=function(e,t,r,n,i){};r.delete=function(e,t){r.request("DELETE",e,{},null,function(e,r,n,i){if(i){return t(false,"request error: "+i)}if(!a(e)){return t(false,"status code error: "+e)}t(true)})}};n.serializeSparqlUpdate=function(e,t,r){e.serializeNTriples(t,function(e,t){if(t){return r(null,t)}r("INSERT DATA { "+e+" }")})};n.defaultParsers=function(e){return{"application/ld+json":e.parseJsonLd,"application/n-triples":e.parseTurtle,"text/turtle":e.parseTurtle}};n.defaultSerializers=function(e){return{"application/ld+json":e.serializeJsonLd,"application/n-triples":e.serializeNTriples,"application/sparql-update":n.serializeSparqlUpdate.bind(null,e),"text/turtle":e.serializeNTriples}};t.exports=function(e){e.LdpStore=n.bind(null,e)}},{}],68:[function(e,t,r){"use strict";var n=e("./uri-resolver");var i=function(){this.blankCounter=0;this.vocabularies=[{namespaceURI:"http://schema.org/",isMember:function(e){return e.indexOf(this.namespaceURI)===0},getProperty:function(e){return this.namespaceURI+e}}]};i.prototype=new n;i.prototype.constructor=i;i.typeNode=rdf.createNamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");i.integerNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#integer");i.doubleNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#double");i.timeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#time");i.dateTimeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#dateTime");i.durationNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#duration");i.absoluteURIRE=/[\w\_\-]+:\S+/;i.prototype.resolve=function(e){return e};i.trim=function(e){e=e||"";return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};i.tokenize=function(e){return i.trim(e).split(/\s+/).reduce(function(e,t){if(t){e.push(t)}return e},[])};i.prototype.getVocabulary=function(e){for(var t=0;t<this.vocabularies.length;t++){if(this.vocabularies[t].isMember(e)){return this.vocabularies[t]}}var r=function(e){return{namespaceURI:e,getProperty:function(e){return this.namespaceURI+e}}};var n=e.indexOf("#");if(n>=0){return r(e.substring(0,n+1))}var i=e.lastIndexOf("/");if(i>=0){return r(e.substring(0,i+1))}return r(e)};i.prototype.getProperty=function(e,t){if(i.absoluteURIRE.exec(e)){return e}return t?t.getProperty(e):base.resolve("#"+e)};i.valueMappings={link:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("href")))},media:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("src")))},meta:function(e){var t=e.getAttribute("content"),r=e.getAttribute("lang");return rdf.createLiteral(t,r?r:null)},number:function(e){var t=e.getAttribute("value");if(t===parseInt(t).toString()){return rdf.createLiteral(t,null,i.integerNode)}else if(t===parseFloat(t).toString()){return rdf.createLiteral(t,null,i.doubleNode)}else{return rdf.createLiteral(t)}},object:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("data")))},time:function(e){var t=e.getAttribute("datetime"),r=e.getAttribute("lang");if(t.length===9){return rdf.createLiteral(t,null,i.timeNode)}else if(t.length===20){return rdf.createLiteral(t,null,i.dateTimeNode)}else if(t.substr(0,1)==="P"){return rdf.createLiteral(t,null,i.durationNode)}else{return rdf.createLiteral(t,r?r:null)}}};i.valueMappings.a=i.valueMappings.link;i.valueMappings.area=i.valueMappings.a;i.valueMappings.audio=i.valueMappings.media;i.valueMappings.data=i.valueMappings.number;i.valueMappings.embed=i.valueMappings.media;i.valueMappings.iframe=i.valueMappings.media;i.valueMappings.img=i.valueMappings.media;i.valueMappings.meter=i.valueMappings.number;i.valueMappings.source=i.valueMappings.media;i.valueMappings.track=i.valueMappings.media;i.valueMappings.video=i.valueMappings.media;i.prototype.getValue=function(e,t){var r=i.valueMappings[e.localName];if(r){return r(e,t)}return rdf.createLiteral(e.textContent)};i.prototype.process=function(e,t,r){var n=this;if(e.nodeType===e.DOCUMENT_NODE){e=e.documentElement}r=n.parseURI(r);var a=function(e,t,r,n){return{memory:e?e:{},subject:t,type:r,vocabulary:n}};var o=function(e,o){var s,l,f,c,h,d;for(var p=e.item.firstChild;p;p=p.nextSibling){if(p.nodeType!==p.ELEMENT_NODE){continue}l=p.getAttribute("itemprop");f=p.hasAttribute("itemscope");s=a(e.context.memory,e.context.subject,o,e.context.vocabulary);h=u({item:p,context:s});if(l){i.tokenize(l).forEach(function(a){if(i.absoluteURIRE.test(a)){c=rdf.createNamedNode(a)}else if(s.vocabulary){c=rdf.createNamedNode(s.vocabulary+a)}else{c=rdf.createNamedNode(r.resolve("#"+a))}d=n.getValue(p,r);if(f){d=h}t(rdf.createTriple(e.context.subject,c,d))})}}};var s=function(e){var a=e.item.getAttribute("itemtype"),s,u;i.tokenize(a).forEach(function(n){if(!i.absoluteURIRE.test(n)){return}if(!s){s=n}t(rdf.createTriple(e.context.subject,i.typeNode,rdf.createNamedNode(r.resolve(n))))});if(!s){s=e.context.type}if(s){u=n.getVocabulary(s);u=u?u.namespaceURI:null}if(u){e.context.vocabulary=u}o(e,s)};var u=function(e){var t=e.item.getAttribute("id"),n=e.item.getAttribute("itemid"),a=e.item.getAttribute("itemref"),o=e.item.hasAttribute("itemscope");if(t in e.context.memory){e.context.memory[t].forEach(function(t){s({item:e.item,context:t})})}else{if(o){if(n){e.context.subject=rdf.createNamedNode(r.resolve(n))}else{e.context.subject=rdf.createBlankNode()}i.tokenize(a).forEach(function(t){if(!(t in e.context.memory)){e.context.memory[t]=[]}e.context.memory[t].push(e.context)})}s(e)}return e.context.subject};u({item:e,context:a(null,null,null,null)})};var a=function(e){var t=new i;this.process=function(r,n,i,a,o){i=i||"";a=a||function(){return true};o=o||function(){};t.process(e.parseHtml(r,i),n,i);o(true);return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e){r(e?a:null)})}};t.exports=function(e){e.MicrodataParser=a.bind(null,e);var t=new a(e);e.parseMicrodata=t.parse.bind(t)}},{"./uri-resolver":77}],69:[function(e,t,r){"use strict";var n=function(e){this.serialize=function(t,r){r=r||function(){};var n=e.Graph.toString(t);r(n);return n}};t.exports=function(e){e.NTriplesSerializer=n.bind(null,e);var t=new n(e);e.serializeNTriples=t.serialize.bind(t)}},{}],70:[function(e,t,r){"use strict";var n=function(e,t){return function(){var r=arguments;return new t(function(t,n){var i=function(e,r){if(r){n(r)}else{t(e)}};e(r,i)})}};var i=function(e,t){this.process=n(function(e,r){t.process(e[0],e[1],e[2],e[3],r)},e);this.parse=n(function(e,r){t.parse(e[0],r,e[1],e[2],e[3])},e);this.parser=function(){return t}};var a=function(e,t){this.serialize=n(function(e,r){t.serialize(e[0],r)},e);this.serializer=function(){return t}};var o=function(e,t){this.graph=n(function(e,r){t.graph(e[0],r)},e);this.match=n(function(e,r){t.match(e[0],e[1],e[2],e[3],r,e[5])},e);this.add=n(function(e,r){t.add(e[0],e[1],r)},e);this.merge=n(function(e,r){t.merge(e[0],e[1],r)},e);this.remove=n(function(e,r){t.remove(e[0],e[1],r)},e);this.removeMatches=n(function(e,r){t.removeMatches(e[0],e[1],e[2],e[3],r)},e);this.delete=n(function(e,r){t.delete(e[0],r)},e);this.store=function(){return t}};var s=function(e,t){return n(function(e,r){t(e[0],r,e[1],e[2],e[3])},e)};t.exports=function(e){e.promise={};e.promise.Parser=i.bind(null,e.Promise);e.promise.Serializer=a.bind(null,e.Promise);e.promise.Store=o.bind(null,e.Promise);e.promise.parse=s.bind(null,e.Promise)}},{}],71:[function(e,t,r){"use strict";var n=function(e){var t=this,r=e.rdf;t.graph=function(t,r){e.graph(t,function(e,t){if(e){r(t)}else{r(null)}})};t.match=function(e,r,n,i,a,o){t.graph(e,function(e){if(!e){a(null)}else{a(e.match(r,n,i,o))}})};t.add=function(t,r,n){e.clear(t,function(){e.insert(r,t,function(e){if(e){n(r)}else{n(null,"couldn'n insert graph")}})})};t.merge=function(t,r,n){e.insert(r,t,function(e){if(e){n(r)}else{n(null,"couldn'n insert graph")}})};t.remove=function(e,n,i){t.graph(e,function(a){var o=r.Graph.difference(a,n);t.add(e,o,function(e){i(!!e)})})};t.removeMatches=function(e,r,n,i,a){t.graph(e,function(o){var s=o.removeMatches(r,n,i);t.add(e,s,function(e){a(!!e)})})};t.delete=function(t,r){e.clear(t,function(e){if(e){r(true)}else{r(null,"couldn'n delete graph")}})}};t.exports=function(e){e.RdfstoreStore=n}},{}],72:[function(e,t,r){var n=function(e){var t={};t.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"};t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};this.frameFactory=function(e,r,n){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:false,terminateFrame:function(){if(this.collection){this.node.close()}},addSymbol:function(e,t){t=i(t,this.base);this.node=this.store.sym(t);this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection){this.parent.parent.node.append(this.node)}else{this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why)}if(this.parent.rdfid!=null){var e=this.store.sym(i("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e);if(this.isTripleToLoad()){this.loadTriple()}},addCollection:function(){this.nodeType=this.NODE;this.node=this.store.collection();this.collection=true;if(this.isTripleToLoad()){this.loadTriple()}},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){if(e!=null){if(this.parser.bnodes[e]!=null){this.node=this.parser.bnodes[e]}else{this.node=this.parser.bnodes[e]=this.store.bnode()}}else{this.node=this.store.bnode()}this.nodeType=this.NODE;if(this.isTripleToLoad()){this.loadTriple()}},addArc:function(e){if(e===t.ns.RDF+"li"){e=t.ns.RDF+"_"+this.parent.listIndex;this.parent.listIndex++}this.addSymbol(this.ARC,e)},addLiteral:function(e){if(this.parent.datatype){this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype))}else{this.node=this.store.literal(e,this.lang)}this.nodeType=this.NODE;if(this.isTripleToLoad()){this.loadTriple()}}}};this.getAttributeNodeNS=function(e,t,r){var n=null;if(e.getAttributeNodeNS){n=e.getAttributeNodeNS(t,r)}else{var i=e.attributes;var a,o;for(var s=0;s<i.length;++s){a=i[s];if(a.namespaceURI===t){o=a.prefix?a.prefix+":"+r:r;if(o===a.nodeName){n=a;break}}}}return n};this.store=e;this.bnodes={};this.why=null;this.reify=false;this.parse=function(e,r,n){var i=e.childNodes;this.cleanParser();var a;if(e.nodeType===t.nodeType.DOCUMENT){for(var o=0;o<i.length;o++){if(i[o].nodeType===t.nodeType.ELEMENT){a=i[o];break}}}else if(e.nodeType===t.nodeType.ELEMENT){a=e}else{throw new Error("RDFParser: can't find root in "+r+". Halting. ")}this.why=n;var s=this.frameFactory(this);this.base=r;s.base=r;s.lang="";this.parseDOM(this.buildFrame(s,a));return true};this.parseDOM=function(e){var r;var n=function(e){var t="";if(e.namespaceURI==null){throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base)}if(e.namespaceURI){t=t+e.namespaceURI}if(e.localName){t=t+e.localName}else if(e.nodeName){if(e.nodeName.indexOf(":")>=0)t=t+e.nodeName.split(":")[1];else t=t+e.nodeName}return t}.bind(this);var a=true;while(e.parent){var o=e.element;var s=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION){if(e.parent.nodeType==e.NODE){e.addArc(t.ns.RDF+"value");e=this.buildFrame(e)}e.addLiteral(o.nodeValue)}else if(n(o)!==t.ns.RDF+"RDF"){if(e.parent&&e.parent.collection){e.addCollectionArc();e=this.buildFrame(e,e.element);e.parent.element=null}if(!e.parent||!e.parent.nodeType||e.parent.nodeType===e.ARC){var u=this.getAttributeNodeNS(o,t.ns.RDF,"about");r=this.getAttributeNodeNS(o,t.ns.RDF,"ID");if(u&&r){throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about."+" Halting. Only one of these"+" properties may be specified on a"+" node.")}if(!u&&r){e.addNode("#"+r.nodeValue);o.removeAttributeNode(r)}else if(u==null&&r==null){var l=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");if(l){e.addBNode(l.nodeValue);o.removeAttributeNode(l)}else{e.addBNode()}}else{e.addNode(u.nodeValue);o.removeAttributeNode(u)}var f=this.getAttributeNodeNS(o,t.ns.RDF,"type");if(t.ns.RDF+"Description"!==n(o)){f={nodeValue:n(o)}}if(f!=null){this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(i(f.nodeValue,e.base)),this.why);if(f.nodeName){o.removeAttributeNode(f)}}for(var c=s.length-1;c>=0;c--){this.store.add(e.node,this.store.sym(n(s[c])),this.store.literal(s[c].nodeValue,e.lang),this.why)}}else{e.addArc(n(o));if(this.reify){r=this.getAttributeNodeNS(o,t.ns.RDF,"ID");if(r){e.rdfid=r.nodeValue;o.removeAttributeNode(r)}}var h=this.getAttributeNodeNS(o,t.ns.RDF,"parseType");var d=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(d){e.datatype=d.nodeValue;o.removeAttributeNode(d)}if(h){var p=h.nodeValue;if(p==="Literal"){e.datatype=t.ns.RDF+"XMLLiteral";e=this.buildFrame(e);e.addLiteral(o);a=false}else if(p==="Resource"){e=this.buildFrame(e,e.element);e.parent.element=null;e.addBNode()}else if(p==="Collection"){e=this.buildFrame(e,e.element);e.parent.element=null;e.addCollection()}o.removeAttributeNode(h)}if(s.length!==0){var v=this.getAttributeNodeNS(o,t.ns.RDF,"resource");var g=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e);if(v){e.addNode(v.nodeValue);o.removeAttributeNode(v)}else{if(g){e.addBNode(g.nodeValue);o.removeAttributeNode(g)}else{e.addBNode()}}for(var m=s.length-1;m>=0;m--){var y=this.buildFrame(e);y.addArc(n(s[m]));if(n(s[m])===t.ns.RDF+"type"){this.buildFrame(y).addNode(s[m].nodeValue)}else{this.buildFrame(y).addLiteral(s[m].nodeValue)}}}else if(o.childNodes.length===0){this.buildFrame(e).addLiteral("")}}}o=e.element;while(e.parent){var b=e;while(o==null){e=e.parent;o=e.element}var w=o.childNodes&&o.childNodes[e.lastChild];if(!w||!a){e.terminateFrame();if(!(e=e.parent)){break}o=e.element;a=true}else if(w.nodeType!==t.nodeType.ELEMENT&&w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||(w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&o.childNodes.length!==1){e.lastChild++}else{e.lastChild++;e=this.buildFrame(b,o.childNodes[e.lastChild-1]);break}}}};this.cleanParser=function(){this.bnodes={};this.why=null};this.buildFrame=function(e,r){var n=this.frameFactory(this,e,r);if(e){n.base=e.base;n.lang=e.lang}if(!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION){return n}var a=r.attributes;var o=r.getAttributeNode("xml:base");if(o!=null){n.base=o.nodeValue;r.removeAttribute("xml:base")}var s=r.getAttributeNode("xml:lang");if(s!=null){n.lang=s.nodeValue;r.removeAttribute("xml:lang")}for(var u=a.length-1;u>=0;u--){if(a[u].nodeName.substr(0,3)==="xml"){if(a[u].name.slice(0,6)==="xmlns:"){var l=a[u].nodeValue;if(this.base)l=i(l,this.base);this.store.setPrefixForURI(a[u].name.slice(6),l)}r.removeAttributeNode(a[u])}}return n}};var i=function(e,t){var r,n,i,a,o,s,u;n=t.indexOf("#");if(n>0){t=t.slice(0,n)}if(e.length===0){return t}if(e.indexOf("#")===0){return t+e}o=e.indexOf(":");if(o>=0){return e}r=t.indexOf(":");if(t.length===0){return e}if(r<0){alert("Invalid base: "+t+" in join with given: "+e);return e}i=t.slice(0,+r+1||9e9);if(e.indexOf("//")===0){return i+e}if(t.indexOf("//",r)===r+1){a=t.indexOf("/",r+3);if(a<0){if(t.length-r-3>0){return t+"/"+e}else{return i+e}}}else{a=t.indexOf("/",r+1);if(a<0){if(t.length-r-1>0){return t+"/"+e}else{return i+e}}}if(e.indexOf("/")===0){return t.slice(0,a)+e}u=t.slice(a);s=u.lastIndexOf("/");if(s<0){return i+e}if(s>=0&&s<u.length-1){u=u.slice(0,+s+1||9e9)}u+=e;while(u.match(/[^\/]*\/\.\.\//)){u=u.replace(/[^\/]*\/\.\.\//,"")}u=u.replace(/\.\//g,"");u=u.replace(/\/\.$/,"/");return t.slice(0,a)+u};var a=function(e){this.process=function(t,r,i,a,o){if(typeof t==="string"){t=e.parseXml(t)}i=i||"";a=a||function(){return true};var s=function(e){var t="";for(var r=0;r<e.length;r++){t+=e[r].toString()}return t};var u={};u.add=function(t,n,i){var o=e.createTriple(t,n,i);if(a(o)){r(o)}};u.bnode=function(){return e.createBlankNode()};u.literal=function(t,r,n){if(n&&n.toString()==="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"){t=s(t.childNodes)}return e.createLiteral(t,r,n)};u.setPrefixForURI=function(){};u.sym=function(t){return e.createNamedNode(t)};new n(u).parse(t,i);o(true);return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e){r(e?a:null)})}};t.exports=function(e){e.RdfXmlParser=a.bind(null,e);var t=new a(e);e.parseRdfXml=t.parse.bind(t);e.utils.mimeTypeParserMap["application/rdf+xml"]=e.parseRdfXml}},{}],73:[function(e,t,r){"use strict";var n=function(e,t){this.graph=function(e,r){r(t)};this.match=function(e,r,n,i,a,o){a(t.match(r,n,i,o))};this.add=function(e,r,n){n(t=r)};this.merge=function(e,r,n){t.addAll(r);n(r)};this.remove=function(r,n,i){t=e.difference(t,n);i(true)};this.removeMatches=function(e,r,n,i,a){t.removeMatches(r,n,i);a(true)};this.delete=function(e,r){t.removeMatches();r(true)}};t.exports=function(e){e.SingleGraphStore=n.bind(null,e)}},{}],74:[function(e,t,r){"use strict";var n=function(e,t){var r=this;t=t||{};r.endpointUrl=t.endpointUrl;r.updateUrl=t.updateUrl||r.endpointUrl;r.mimeType=t.mimeType||"text/turtle";r.serialize=t.serialize||e.serializeNTriples;r.parse=t.parse||e.parseTurtle;r.request=t.request||e.defaultRequest;var n=function(e){return e>=200&&e<300};var i=function(e,t,r){var n="";var i=function(e){if(typeof e==="string"){if(e.substr(0,2)==="_:"){return e}else{return"<"+e+">"}}return e.toNT()};n+=e?i(e):"?s";n+=t?" "+i(t):" ?p";n+=r?" "+i(r):" ?o";return n};r.graph=function(e,t){r.match(e,null,null,null,t)};r.match=function(e,t,a,o,s,u){var l=i(t,a,o),f="CONSTRUCT { "+l+" } { GRAPH <"+e+"> {"+l+" }}",c=r.endpointUrl+"?query="+encodeURIComponent(f);r.request("GET",c,{Accept:r.mimeType},null,function(e,t,i,a){if(a){return s(null,"request error: "+a)}if(!n(e)){return s(null,"status code error: "+e)}r.parse(i,s)})};var a=function(e,t,i){r.request("POST",r.updateUrl,{"Content-Type":"application/sparql-update"},e,function(e,r,a,o){if(o){return i(null,"request error: "+o)}if(!n(e)){return i(null,"status code error: "+e)}i(t)})};r.add=function(e,t,n){var i="DROP SILENT GRAPH <"+e+">;"+"INSERT DATA { GRAPH <"+e+"> { "+r.serialize(t)+" } }";a(i,t,n)};r.merge=function(e,t,n){var i="INSERT DATA { GRAPH <"+e+"> { "+r.serialize(t)+" } }";a(i,t,n)};r.remove=function(e,t,n){var i="DELETE DATA FROM <"+e+"> { "+r.serialize(t)+" }";a(i,true,n)};r.removeMatches=function(e,t,r,n,o){var s="DELETE FROM GRAPH <"+e+"> WHERE { "+i(t,r,n)+" }";a(s,true,o)};r.delete=function(e,t){var r="CLEAR  GRAPH <"+e+">";a(r,true,t)}};t.exports=function(e){e.SparqlStore=n.bind(null,e)}},{}],75:[function(e,t,r){"use strict";var n=e("n3");var i=function(e,t){t=t||{};if(!("importPrefixMap"in t)){t.importPrefixMap=true}this.process=function(r,i,a,o,s){var u={};u.documentIRI=a;o=o||function(){return true};s=s||function(){};var l=n.Parser(u),f={};l.parse(r,function(r,a,u){if(r){return s(false,r)}if(t.importPrefixMap&&u){Object.keys(u).forEach(function(t){e.prefixes[t]=u[t]})}if(!a){return s(true)}var l=function(t){if(n.Util.isIRI(t)){return e.createNamedNode(t)}else if(n.Util.isBlank(t)){if(t in f){return f[t]}else{return f[t]=e.createBlankNode()}}else{var r=n.Util.getLiteralLanguage(t),i=n.Util.getLiteralType(t);if(r===""){r=null}if(i==="http://www.w3.org/2001/XMLSchema#string"){i=null}return e.createLiteral(n.Util.getLiteralValue(t),r,i?e.createNamedNode(i):null)}};var c=function(t){var r=e.createTriple(l(t.subject),l(t.predicate),l(t.object));
if(o(r)){i(r)}};c(a)});return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e,t){r(e?a:null,t)})}};t.exports=function(e){e.TurtleParser=i.bind(null,e);e.NTriplesParser=i.bind(null,e);var t=new i(e);e.parseTurtle=t.parse.bind(t);e.parseNTriples=t.parse.bind(t);e.utils.mimeTypeParserMap["application/n-triples"]=e.parseNTriples;e.utils.mimeTypeParserMap["text/n3"]=e.parseTurtle;e.utils.mimeTypeParserMap["text/turtle"]=e.parseTurtle}},{n3:82}],76:[function(e,t,r){"use strict";var n=e("n3");var i=function(e,t){t=t||{};t.usePrefixMap=t.usePrefixMap||true;this.serialize=function(r,i){var a={},o;i=i||function(){};if(t.usePrefixMap){a.prefixes={};Object.keys(e.prefixes).forEach(function(t){if(typeof e.prefixes[t]!=="string"){return}a.prefixes[t]=e.prefixes[t]})}o=n.Writer(a);var s=function(e){if(e.interfaceName.toString()==="NamedNode"){return e.nominalValue}else if(e.interfaceName.toString()==="BlankNode"){return"_:"+e.nominalValue}else{if(e.datatype){return'"'+e.nominalValue+'"^^'+e.datatype.nominalValue}else if(e.language){return'"'+e.nominalValue+'"@'+e.language}else{return'"'+e.nominalValue+'"'}}};r.forEach(function(e){o.addTriple(s(e.subject),s(e.predicate),s(e.object))});o.end(function(e,t){if(e){i(null,e)}else{i(t)}});return true}};t.exports=function(e){e.TurtleSerializer=i.bind(null,e);var t=new i(e);e.serializeTurtle=t.serialize.bind(t)}},{n3:82}],77:[function(e,t,r){"use strict";var n=function(){};n.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/;n.prototype.parseURI=function(e){var t=n.SCHEME.exec(e);if(!t){throw"Bad URI value, no scheme: "+e}var r={spec:e};r.scheme=t[0].substring(0,t[0].length-1);r.schemeSpecificPart=r.spec.substring(t[0].length);if(r.schemeSpecificPart.charAt(0)=="/"&&r.schemeSpecificPart.charAt(1)=="/"){this.parseGeneric(r)}else{r.isGeneric=false}r.normalize=function(){if(!this.isGeneric){return}if(this.segments.length==0){return}if(this.path.length>1&&this.path.substring(this.path.length-2)=="/."){this.path=this.path.substring(0,this.path.length-1);this.segments.splice(this.segments.length-1,1);this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart;return}var e=this.path.charAt(this.path.length-1);if(e!="/"){e=""}for(var t=0;t<this.segments.length;t++){if(t>0&&this.segments[t]==".."){this.segments.splice(t-1,2);t-=2}if(this.segments[t]=="."){this.segments.splice(t,1);t--}}this.path=this.segments.length==0?"/":"/"+this.segments.join("/")+e;this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart};r.resolve=function(e){if(!e){return this.spec}if(e.charAt(0)=="#"){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric){throw"Cannot resolve uri against non-generic URI: "+this.spec}var r=e.indexOf(":");if(e.charAt(0)=="/"){return this.scheme+"://"+this.authority+e}else if(e.charAt(0)=="."&&e.charAt(1)=="/"){if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e.substring(2)}else{var i=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,i)+e.substring(1)}}else if(n.SCHEME.test(e)){return e}else if(e.charAt(0)=="?"){return this.scheme+"://"+this.authority+this.path+e}else{if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e}else{var i=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,i+1)+e}}};r.relativeTo=function(e){if(e.scheme!=this.scheme){return this.spec}if(!this.isGeneric){throw"A non generic URI cannot be made relative: "+this.spec}if(!e.isGeneric){throw"Cannot make a relative URI against a non-generic URI: "+e.spec}if(e.authority!=this.authority){return this.spec}var t=0;for(;t<this.segments.length&&t<e.segments.length;t++){if(this.segments[t]!=e.segments[t]){var r="";for(var n=t;n<e.segments.length;n++){r+="../"}for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}}if(this.segments.length==e.segments.length){return this.hash?this.hash:this.query?this.query:""}else if(t<this.segments.length){var r="";for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}else{throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec}};return r};n.prototype.parseGeneric=function(e){if(e.schemeSpecificPart.charAt(0)!="/"||e.schemeSpecificPart.charAt(1)!="/"){throw"Generic URI values should start with '//':"+e.spec}var t=e.schemeSpecificPart.substring(2);var r=t.indexOf("/");e.authority=r<0?t:t.substring(0,r);e.path=r<0?"":t.substring(r);var n=e.path.indexOf("#");if(n>=0){e.fragment=e.path.substring(n+1);e.path=e.path.substring(0,n)}var i=e.path.indexOf("?");if(i>=0){e.query=e.path.substring(i+1);e.path=e.path.substring(0,i)}if(e.path=="/"||e.path==""){e.segments=[]}else{e.segments=e.path.split(/\//);if(e.segments.length>0&&e.segments[0]==""&&e.path.length>1&&e.path.charAt(1)!="/"){e.segments.shift()}if(e.segments.length>0&&e.path.length>0&&e.path.charAt(e.path.length-1)=="/"&&e.segments[e.segments.length-1]==""){if(e.path.length>1&&e.path.charAt(e.path.length-2)!="/"){e.segments.pop()}}for(var a=0;a<e.segments.length;a++){var o=e.segments[a].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/);for(var s=0;s<o.length;s++){if(o[s].length>0){throw"Unecaped character "+o[s].charAt(0)+" ("+o[s].charCodeAt(0)+") in URI "+e.spec}}}}e.isGeneric=true};t.exports=n},{}],78:[function(e,t,r){"use strict";var n={};n.defaultRequest=function(e,t,r,n,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===a.DONE){var e=a.getAllResponseHeaders().split("\r\n"),t={};for(var r=0;r<e.length;r++){var n=e[r].split(": ",2);t[n[0].toLowerCase()]=n[1]}i(a.status,t,a.responseText)}};a.open(e,t,true);for(var o in r){a.setRequestHeader(o,r[o])}a.send(n)};n.corsProxyRequest=function(e,t,r,i,a,o){var s=e+"?url="+encodeURIComponent(r);n.defaultRequest(t,s,i,a,o)};n.parseHtml=function(e,t){var r=new DOMParser;return r.parseFromString(e,"text/html")};n.parseXml=function(e,t){var r=new DOMParser;return r.parseFromString(e,"application/xml")};n.mixin=function(e){e.defaultRequest=n.defaultRequest;e.corsProxyRequest=n.corsProxyRequest;e.parseHtml=n.parseHtml;e.parseXml=n.parseXml};t.exports=n.mixin},{}],79:[function(e,t,r){"use strict";var n=e("http"),i=e("https"),a=e("url");var o={};o.defaultRequest=function(e,t,r,o,s){var u=a.parse(t),l=n;u.hash=null;u.method=e;u.headers=r;if(u.protocol==="https:"){l=i}var f=l.request(u,function(e){var t="";e.setEncoding("utf8");e.on("data",function(e){t+=e});e.on("end",function(){s(e.statusCode,e.headers,t)})});f.on("error",function(e){s(null,null,null,e)});if(o){f.write(o)}f.end()};o.parseHtml=function(t,r){var n=new(e("xmldom").DOMParser);return n.parseFromString(t,"text/html")};o.parseXml=function(t,r){var n=new(e("xmldom").DOMParser);return n.parseFromString(t,"application/xml")};o.mixin=function(t){t.Promise=t.Promise||e("es6-promise").Promise;t.defaultRequest=o.defaultRequest;t.parseHtml=o.parseHtml;t.parseXml=o.parseXml};t.exports=o.mixin},{"es6-promise":81,http:41,https:18,url:51,xmldom:91}],80:[function(e,t,r){"use strict";var n={};n.filter={};n.filter.namedNode=function(e){return e.interfaceName==="NamedNode"};n.filter.blankNode=function(e){return e.interfaceName==="BlankNode"};n.filter.literal=function(e){return e.interfaceName==="Literal"};n.filter.namedNodeSubject=function(e){return function(t){return t.subject.interfaceName!=="NamedNode"||t.subject.equals(e)}};n.list={};n.list.tripleParts=function(e,t,r){var n={};r=r||function(){return true};e.forEach(function(e){n[e[t].toNT()]=e[t]});n=Object.keys(n).map(function(e){return n[e]}).filter(function(e){return r(e)});return n};n.list.subjects=function(e,t){return n.list.tripleParts(e,"subject",t)};n.list.predicates=function(e,t){return n.list.tripleParts(e,"predicate",t)};n.list.objects=function(e,t){return n.list.tripleParts(e,"object",t)};n.createSubGraph=function(e,t,r,n){var i={},a=e.createGraph();var o=function(r){if(r.length===0){return}var s=[],u=e.createGraph();r.forEach(function(e){u.addAll(t.match(e))});if(n){u=u.filter(n)}u.forEach(function(e){var t=e.object.toNT();if(!(t in i)){s.push(e.object);i[t]=true}});a.addAll(u);o(s)};o([r]);return a};n.createSubGraphByNamedNodeSubject=function(e,t,r){return e.utils.createSubGraph(t,r,n.filter.namedNodeSubject(r))};n.splitGraphByNamedNodeSubject=function(e,t,r){r=r||new e.promise.Store(e.createStore());var i=[];n.list.subjects(t,n.filter.namedNode).forEach(function(a){i.push(r.add(a,n.createSubGraphByNamedNodeSubject(e,t,a)))});return Promise.all(i).then(function(){return r})};n.mapNamespaceNode=function(e,t,r,n){if(t.interfaceName!=="NamedNode"){return t}if(t.nominalValue.toString().indexOf(r)!==0){return t}return e.createNamedNode(n+t.nominalValue.toString().substr(r.length))};n.mapNamespaceTriple=function(e,t,r,i){return e.createTriple(n.mapNamespaceNode(e,t.subject,r,i),n.mapNamespaceNode(e,t.predicate,r,i),n.mapNamespaceNode(e,t.object,r,i))};n.mapNamespaceGraph=function(e,t,r,i){var a=e.createGraph();t.forEach(function(t){a.add(n.mapNamespaceTriple(e,t,r,i))});return a};n.mimeTypeParserMap={};n.parse=function(e,t,r,i,a){if(!(e in n.mimeTypeParserMap)){return Promise.reject("no parser available for mime type: "+e)}else{return rdf.promise.parse(n.mimeTypeParserMap[e])(t,r,i,a)}};n.mixin=function(e){e.utils={};e.utils.filter=n.filter;e.utils.list=n.list;e.utils.createSubGraph=n.createSubGraph.bind(null,e);e.utils.createSubGraphByNamedNodeSubject=n.createSubGraphByNamedNodeSubject.bind(null,e);e.utils.splitGraphByNamedNodeSubject=n.splitGraphByNamedNodeSubject.bind(null,e);e.utils.mapNamespaceNode=n.mapNamespaceNode.bind(null,e);e.utils.mapNamespaceTriple=n.mapNamespaceTriple.bind(null,e);e.utils.mapNamespaceGraph=n.mapNamespaceGraph.bind(null,e);e.utils.mimeTypeParserMap=n.mimeTypeParserMap;e.utils.parse=n.parse};t.exports=n.mixin},{}],81:[function(e,t,r){(function(r,n){(function(){"use strict";function i(e){return typeof e==="function"||typeof e==="object"&&e!==null}function a(e){return typeof e==="function"}function o(e){return typeof e==="object"&&e!==null}var s;if(!Array.isArray){s=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{s=Array.isArray}var u=s;var l=0;var f={}.toString;var c;var h;var d=function me(e,t){I[l]=e;I[l+1]=t;l+=2;if(l===2){if(h){h(S)}else{k()}}};function p(e){h=e}function v(e){d=e}var g=typeof window!=="undefined"?window:undefined;var m=g||{};var y=m.MutationObserver||m.WebKitMutationObserver;var b=typeof r!=="undefined"&&{}.toString.call(r)==="[object process]";var w=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function x(){var e=r.nextTick;var t=r.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);if(Array.isArray(t)&&t[1]==="0"&&t[2]==="10"){e=setImmediate}return function(){e(S)}}function _(){return function(){c(S)}}function j(){var e=0;var t=new y(S);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function E(){var e=new MessageChannel;e.port1.onmessage=S;return function(){e.port2.postMessage(0)}}function N(){return function(){setTimeout(S,1)}}var I=new Array(1e3);function S(){for(var e=0;e<l;e+=2){var t=I[e];var r=I[e+1];t(r);I[e]=undefined;I[e+1]=undefined}l=0}function O(){try{var t=e;var r=t("vertx");c=r.runOnLoop||r.runOnContext;return _()}catch(n){return N()}}var k;if(b){k=x()}else if(y){k=j()}else if(w){k=E()}else if(g===undefined&&typeof e==="function"){k=O()}else{k=N()}function R(){}var T=void 0;var A=1;var L=2;var C=new $;function D(){return new TypeError("You cannot resolve a promise with itself")}function U(){return new TypeError("A promises callback cannot return that same promise.")}function P(e){try{return e.then}catch(t){C.error=t;return C}}function M(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function q(e,t,r){d(function(e){var n=false;var i=M(r,t,function(r){if(n){return}n=true;if(t!==r){z(e,r)}else{G(e,r)}},function(t){if(n){return}n=true;H(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;H(e,i)}},e)}function B(e,t){if(t._state===A){G(e,t._result)}else if(t._state===L){H(e,t._result)}else{J(t,undefined,function(t){z(e,t)},function(t){H(e,t)})}}function F(e,t){if(t.constructor===e.constructor){B(e,t)}else{var r=P(t);if(r===C){H(e,C.error)}else if(r===undefined){G(e,t)}else if(a(r)){q(e,t,r)}else{G(e,t)}}}function z(e,t){if(e===t){H(e,D())}else if(i(t)){F(e,t)}else{G(e,t)}}function V(e){if(e._onerror){e._onerror(e._result)}X(e)}function G(e,t){if(e._state!==T){return}e._result=t;e._state=A;if(e._subscribers.length!==0){d(X,e)}}function H(e,t){if(e._state!==T){return}e._state=L;e._result=t;d(V,e)}function J(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+A]=r;i[a+L]=n;if(a===0&&e._state){d(X,e)}}function X(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,i,a=e._result;for(var o=0;o<t.length;o+=3){n=t[o];i=t[o+r];if(n){Z(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function $(){this.error=null}var Y=new $;function W(e,t){try{return e(t)}catch(r){Y.error=r;return Y}}function Z(e,t,r,n){var i=a(r),o,s,u,l;if(i){o=W(r,n);if(o===Y){l=true;s=o.error;o=null}else{u=true}if(t===o){H(t,U());return}}else{o=n;u=true}if(t._state!==T){}else if(i&&u){z(t,o)}else if(l){H(t,s)}else if(e===A){G(t,o)}else if(e===L){H(t,o)}}function K(e,t){try{t(function n(t){z(e,t)},function i(t){H(e,t)})}catch(r){H(e,r)}}function Q(e,t){var r=this;r._instanceConstructor=e;r.promise=new e(R);if(r._validateInput(t)){r._input=t;r.length=t.length;r._remaining=t.length;r._init();if(r.length===0){G(r.promise,r._result)}else{r.length=r.length||0;r._enumerate();if(r._remaining===0){G(r.promise,r._result)}}}else{H(r.promise,r._validationError())}}Q.prototype._validateInput=function(e){return u(e)};Q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Q.prototype._init=function(){this._result=new Array(this.length)};var ee=Q;Q.prototype._enumerate=function(){var e=this;var t=e.length;var r=e.promise;var n=e._input;for(var i=0;r._state===T&&i<t;i++){e._eachEntry(n[i],i)}};Q.prototype._eachEntry=function(e,t){var r=this;var n=r._instanceConstructor;if(o(e)){if(e.constructor===n&&e._state!==T){e._onerror=null;r._settledAt(e._state,t,e._result)}else{r._willSettleAt(n.resolve(e),t)}}else{r._remaining--;r._result[t]=e}};Q.prototype._settledAt=function(e,t,r){var n=this;var i=n.promise;if(i._state===T){n._remaining--;if(e===L){H(i,r)}else{n._result[t]=r}}if(n._remaining===0){G(i,n._result)}};Q.prototype._willSettleAt=function(e,t){var r=this;J(e,undefined,function(e){r._settledAt(A,t,e)},function(e){r._settledAt(L,t,e)})};function te(e){return new ee(this,e).promise}var re=te;function ne(e){var t=this;var r=new t(R);if(!u(e)){H(r,new TypeError("You must pass an array to race."));return r}var n=e.length;function i(e){z(r,e)}function a(e){H(r,e)}for(var o=0;r._state===T&&o<n;o++){J(t.resolve(e[o]),undefined,i,a)}return r}var ie=ne;function ae(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(R);z(r,e);return r}var oe=ae;function se(e){var t=this;var r=new t(R);H(r,e);return r}var ue=se;var le=0;function fe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ce(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var he=de;function de(e){this._id=le++;this._state=undefined;this._result=undefined;this._subscribers=[];if(R!==e){if(!a(e)){fe()}if(!(this instanceof de)){ce()}K(this,e)}}de.all=re;de.race=ie;de.resolve=oe;de.reject=ue;de._setScheduler=p;de._setAsap=v;de._asap=d;de.prototype={constructor:de,then:function(e,t){var r=this;var n=r._state;if(n===A&&!e||n===L&&!t){return this}var i=new this.constructor(R);var a=r._result;if(n){var o=arguments[n-1];d(function(){Z(n,i,o,a)})}else{J(r,i,e,t)}return i},"catch":function(e){return this.then(null,e)}};function pe(){var e;if(typeof n!=="undefined"){e=n}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}}var r=e.Promise;if(r&&Object.prototype.toString.call(r.resolve())==="[object Promise]"&&!r.cast){return}e.Promise=he}var ve=pe;var ge={Promise:he,polyfill:ve};if(typeof define==="function"&&define["amd"]){define(function(){return ge})}else if(typeof t!=="undefined"&&t["exports"]){t["exports"]=ge}else if(typeof this!=="undefined"){this["ES6Promise"]=ge}ve()}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:22}],82:[function(e,t,r){var n=e;e=function(){};var r=t.exports={Lexer:e("./lib/N3Lexer"),Parser:e("./lib/N3Parser"),Writer:e("./lib/N3Writer"),Store:e("./lib/N3Store"),StreamParser:e("./lib/N3StreamParser"),StreamWriter:e("./lib/N3StreamWriter"),Util:e("./lib/N3Util")};Object.keys(r).forEach(function(e){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){delete r[e];return r[e]=n("./lib/N3"+e)}})})},{"./lib/N3Lexer":83,"./lib/N3Parser":84,"./lib/N3Store":85,"./lib/N3StreamParser":86,"./lib/N3StreamWriter":87,"./lib/N3Util":88,"./lib/N3Writer":89}],83:[function(e,t,r){var n=String.fromCharCode;var i=typeof setImmediate==="function"?setImmediate:function l(e){setTimeout(e,0)};var a=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g;var o={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"};var s=/[\x00-\x20<>\\"\{\}\|\^\`]/;function u(e){if(!(this instanceof u))return new u(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize;this.tokenize=function(e,r){this._tokenize(e,function(e,n){if(!e&&/IRI|prefixed|literal|langcode|type|\.|eof/.test(n.type))r&&r(e,n);else r&&r(e||t._syntaxError(n.type,r=null))})}}}u.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){var r=this._input;while(true){var n;while(n=this._newline.exec(r))r=r.substr(n[0].length,r.length),this._line++;if(n=this._whitespace.exec(r))r=r.substr(n[0].length,r.length);if(this._endOfFile.test(r)){if(t)e(r=null,{line:this._line,type:"eof",value:"",prefix:""});return this._input=r}var i=this._line,a="",o="",u="",l=r[0],f=null,c=0,h,d=false;switch(l){case"^":if(r.length===1)break;else if(r[1]!=="^")return p(this);this._prevTokenType="^";r=r.substr(2);if(r[0]!=="<"){d=true;break}case"<":if(f=this._unescapedIri.exec(r)){a="IRI";o=f[1]}else if(f=this._iri.exec(r)){h=this._unescape(f[1]);if(h===null||s.test(h))return p(this);a="IRI";o=h}break;case"_":if((f=this._blank.exec(r))||t&&(f=this._blank.exec(r+" "))){a="prefixed";u="_";o=f[1]}break;case'"':case"'":if(f=this._unescapedString.exec(r)){a="literal";o=f[0]}else if(f=this._singleQuotedString.exec(r)){h=this._unescape(f[0]);if(h===null)return p(this);a="literal";o=h.replace(/^'|'$/g,'"')}else if(f=this._tripleQuotedString.exec(r)){h=f[1]||f[2];this._line+=h.split(/\r\n|\r|\n/).length-1;h=this._unescape(h);if(h===null)return p(this);a="literal";o=h.replace(/^'|'$/g,'"')}break;case"@":if(this._prevTokenType==="literal"&&(f=this._langcode.exec(r))){a="langcode";o=f[1]}else if(f=this._keyword.exec(r)){a=f[0]}break;case".":if(r.length===1?t:r[1]<"0"||r[1]>"9"){a=".";c=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":if(f=this._number.exec(r)){a="literal";o='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(f[1]?"double":/^[+\-]?\d+$/.test(f[0])?"integer":"decimal")}break;case"B":case"b":case"p":case"P":case"G":case"g":if(f=this._sparqlKeyword.exec(r))a=f[0].toUpperCase();else d=true;break;case"f":case"t":if(f=this._boolean.exec(r)){a="literal";o='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'}else d=true;break;case"a":if(f=this._shortPredicates.exec(r)){a="abbreviation";o="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}else d=true;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":c=1;a=l;break;default:d=true}if(d){if((this._prevTokenType==="@prefix"||this._prevTokenType==="PREFIX")&&(f=this._prefix.exec(r))){a="prefix";o=f[1]||""}else if((f=this._prefixed.exec(r))||t&&(f=this._prefixed.exec(r+" "))){a="prefixed";u=f[1]||"";o=this._unescape(f[2])}}if(this._prevTokenType==="^")a=a==="IRI"||a==="prefixed"?"type":"";if(!a){if(t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r))return p(this);else return this._input=r}e(null,{line:i,type:a,value:o,prefix:u});this._prevTokenType=a;r=r.substr(c||f[0].length,r.length)}function p(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}},_unescape:function(e){try{return e.replace(a,function(e,t,r,i){var a;if(t){a=parseInt(t,16);if(isNaN(a))throw new Error;return n(a)}else if(r){a=parseInt(r,16);if(isNaN(a))throw new Error;if(a<=65535)return n(a);return n(55296+(a-=65536)/1024,56320+(a&1023))}else{var s=o[i];if(!s)throw new Error;return s}})}catch(t){return null}},_syntaxError:function(e){this._input=null;return new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,t){var r=this;this._line=1;if(typeof e==="string"){this._input=e;i(function(){r._tokenizeToEnd(t,true)})}else{this._input="";if(!e||typeof e==="function"){this.addChunk=n;this.end=a;if(!t)t=e}else{if(typeof e.setEncoding==="function")e.setEncoding("utf8");e.on("data",n);e.on("end",a)}}function n(e){if(r._input!==null){r._input+=e;r._tokenizeToEnd(t,false)}}function a(){if(r._input!==null){r._tokenizeToEnd(t,true)}}}};t.exports=u},{}],84:[function(e,t,r){var n=e("./N3Lexer");var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=i+"nil",o=i+"first",s=i+"rest";var u=/:/,l=/[^\/]*$/,f=/^(?:[^:]+:\/*)?[^\/]*/;var c=0,h=0;function d(e){if(!(this instanceof d))return new d(e);this._tripleStack=[];this._graph=null;e=e||{};if(!e.documentIRI){this._baseIRI=null;this._baseIRIPath=null}else{if(e.documentIRI.indexOf("#")>0)throw new Error("Invalid document IRI");this._baseIRI=e.documentIRI;this._baseIRIPath=this._baseIRI.replace(l,"");this._baseIRIRoot=this._baseIRI.match(f)[0]}var t=typeof e.format==="string"&&e.format.match(/\w*$/)[0].toLowerCase(),r=t==="turtle",i=t==="trig",a=/triple/.test(t),o=/quad/.test(t),s=a||o;if(!(this._supportsNamedGraphs=!r))this._readPredicateOrNamedGraph=this._readPredicate;this._supportsQuads=!(r||i||a);if(s){this._baseIRI="";this._resolveIRI=function(e){this._error("Disallowed relative IRI",e);return this._callback=p,this._subject=null}}this._blankNodePrefix=typeof e.blankNodePrefix!=="string"?"":"_:"+e.blankNodePrefix.replace(/^_:/,"");this._lexer=e.lexer||new n({lineMode:s})}d._resetBlankNodeIds=function(){c=h=0};d.prototype={_readInTopContext:function(e){switch(e.type){case"eof":if(this._graph!==null)return this._error("Unclosed graph",e);delete this._prefixes._;return this._callback(null,null,this._prefixes);case"@prefix":this._sparqlStyle=false;return this._readPrefix;case"PREFIX":this._sparqlStyle=true;return this._readPrefix;case"@base":this._sparqlStyle=false;return this._readBaseIRI;case"BASE":this._sparqlStyle=true;return this._readBaseIRI;case"{":if(this._supportsNamedGraphs){this._graph="";this._subject=null;return this._readSubject}case"GRAPH":if(this._supportsNamedGraphs){return this._readNamedGraphLabel}default:return this._readSubject(e)}},_readSubject:function(e){this._predicate=null;switch(e.type){case"IRI":if(this._baseIRI===null||u.test(e.value))this._subject=e.value;else this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(t===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":this._subject="_:b"+h++;this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"});return this._readBlankNodeHead;case"(":this._tripleStack.push({subject:a,predicate:null,object:null,type:"list"});this._subject=null;return this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":if(this._baseIRI===null||u.test(e.value))this._predicate=e.value;else this._predicate=this._resolveIRI(e);break;case"prefixed":if(e.prefix==="_"){return this._error("Disallowed blank node as predicate",e)}else{var r=this._prefixes[e.prefix];if(r===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=r+e.value}break;case".":case"]":case"}":if(this._predicate===null)return this._error("Unexpected "+t,e);this._subject=null;return t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e);case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":if(this._baseIRI===null||u.test(e.value))this._object=e.value;else this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(t===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":this._object=e.value;return this._readDataTypeOrLang;case"[":var r="_:b"+h++;this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:r,type:"blank"});this._subject=r;return this._readBlankNodeHead;case"(":this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"list"});this._subject=null;return this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){if(e.type!=="{")return this._error("Expected graph but got "+e.type,e);this._graph=this._subject,this._subject=null;return this._readSubject},_readBlankNodeHead:function(e){if(e.type==="]"){this._subject=null;return this._readBlankNodeTail(e)}this._predicate=null;return this._readPredicate(e)},_readBlankNodeTail:function(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);if(this._subject!==null)this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();this._subject=t.subject;if(t.object!==null){this._predicate=t.predicate;this._object=t.object;return this._getTripleEndReader()}return this._predicate!==null?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(e.prefix===""){if(this._baseIRI===null||u.test(e.value))t=e.value;else t=this._resolveIRI(e)}else{var r=this._prefixes[e.prefix];if(r===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);t=r+e.value}this._object+="^^"+t;return this._getTripleEndReader();case"langcode":this._object+="@"+e.value.toLowerCase();return this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,r=null,n=this._subject,i=this._tripleStack,u=i[i.length-1],l=this._readListItem;switch(e.type){case"IRI":t=e.value;break;case"prefixed":var f=this._prefixes[e.prefix];if(f===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);t=f+e.value;break;case"literal":t=e.value;l=this._readDataTypeOrLang;break;case"[":r="_:b"+h++;t="_:b"+h++;i.push({subject:r,predicate:o,object:t,type:"blank"});this._subject=t;l=this._readBlankNodeHead;break;case"(":r="_:b"+h++;i.push({subject:r,predicate:o,object:a,type:"list"});this._subject=null;l=this._readListItem;break;case")":i.pop();if(i.length!==0&&i[i.length-1].type==="list")this._callback(null,{subject:u.subject,predicate:u.predicate,object:u.object,graph:this._graph||""});this._subject=u.subject;if(u.predicate===null){l=this._readPredicate;if(u.subject===a)return l}else{this._predicate=u.predicate;this._object=u.object;l=this._getTripleEndReader();if(u.object===a)return l}r=a;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}if(r===null)this._subject=r="_:b"+h++;if(n===null){if(u.object===a)u.object=r;else u.subject=r}else{this._callback(null,{subject:n,predicate:s,object:r,graph:this._graph||""})}if(t!==null)this._callback(null,{subject:r,predicate:o,object:t,graph:this._graph||""});return l},_readPunctuation:function(e){var t,r=this._subject,n=this._graph;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null;t=this._readInTopContext;
break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&this._graph===null){if(this._baseIRI===null||u.test(e.value))n=e.value;else n=this._resolveIRI(e);r=this._subject;t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&this._graph===null){var i=this._prefixes[e.prefix];if(i===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);n=i+e.value;t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}if(r!==null)this._callback(null,{subject:r,predicate:this._predicate,object:this._object,graph:n||""});return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return t},_readQuadPunctuation:function(e){if(e.type!==".")return this._error("Expected dot to follow quad",e);return this._readInTopContext},_readPrefix:function(e){if(e.type!=="prefix")return this._error("Expected prefix to follow @prefix",e);this._prefix=e.value;return this._readPrefixIRI},_readPrefixIRI:function(e){if(e.type!=="IRI")return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;if(this._baseIRI===null||u.test(e.value))t=e.value;else t=this._resolveIRI(e);this._prefixes[this._prefix]=t;this._prefixCallback(this._prefix,t);return this._readDeclarationPunctuation},_readBaseIRI:function(e){if(e.type!=="IRI")return this._error("Expected IRI to follow base declaration",e);if(e.value.indexOf("#")>0)return this._error("Invalid base IRI",e);if(this._baseIRI===null||u.test(e.value))this._baseIRI=e.value;else this._baseIRI=this._resolveIRI(e);this._baseIRIPath=this._baseIRI.replace(l,"");this._baseIRIRoot=this._baseIRI.match(f)[0];return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){if(e.type!=="]")return this._error("Invalid graph label",e);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(e){if(this._sparqlStyle)return this._readInTopContext(e);if(e.type!==".")return this._error("Expected declaration to end with a dot",e);return this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(e.length===0)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case undefined:return this._baseIRI;case"#":return this._baseIRI+t;case"?":return this._baseIRI.replace(/(?:\?.*)?$/,t);case"/":return this._baseIRIRoot+t;default:return this._baseIRIPath+t}},parse:function(e,t,r){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||"_:b"+c++ +"_";if(typeof e==="function")r=t,t=e,e=null;this._callback=t||p;this._prefixCallback=r||p;var n=this;this._lexer.tokenize(e,function(e,t){if(e!==null)n._callback(e),n._callback=p;else if(n._readCallback!==undefined)n._readCallback=n._readCallback(t)});if(!e){this.addChunk=this._lexer.addChunk;this.end=this._lexer.end}}};function p(){}t.exports=d},{"./N3Lexer":83}],85:[function(e,t,r){var n=e("./N3Util").expandPrefixedName;function i(e,t){if(!(this instanceof i))return new i(e,t);this._size=0;this._graphs=Object.create(null);this._entities=Object.create(null);this._entities["><"]=0;this._entityCount=0;this._blankNodeIndex=0;if(!t&&e&&!e[0])t=e,e=null;this._prefixes=Object.create(null);if(t&&t.prefixes)this.addPrefixes(t.prefixes);if(e)this.addTriples(e)}i.prototype={get size(){var e=this._size;if(e!==null)return e;var t=this._graphs,r,n;for(var i in t)for(var a in r=t[i].subjects)for(var o in n=r[a])e+=Object.keys(n[o]).length;return this._size=e},_addToIndex:function(e,t,r,n){var i=e[t]||(e[t]={});var a=i[r]||(i[r]={});a[n]=null},_removeFromIndex:function(e,t,r,n){var i=e[t],a=i[r],o;delete a[n];for(o in a)return;delete i[r];for(o in i)return;delete e[t]},_findInIndex:function(e,t,r,n,i,a,o,s){var u=[],l=Object.keys(this._entities),f,c,h;if(t)(f=e,e={})[t]=f[t];for(var d in e){var p=l[d];if(c=e[d]){if(r)(f=c,c={})[r]=f[r];for(var v in c){var g=l[v];if(h=c[v]){var m=n?n in h?[n]:[]:Object.keys(h);for(var y=m.length-1;y>=0;y--){var b={subject:"",predicate:"",object:"",graph:s};b[i]=p;b[a]=g;b[o]=l[m[y]];u.push(b)}}}}}return u},_countInIndex:function(e,t,r,n){var i=0,a,o,s;if(t)(a=e,e={})[t]=a[t];for(var u in e){if(o=e[u]){if(r)(a=o,o={})[r]=a[r];for(var l in o){if(s=o[l]){if(n)n in s&&i++;else i+=Object.keys(s).length}}}}return i},addTriple:function(e,t,r,n){if(!t)n=e.graph,r=e.object,t=e.predicate,e=e.subject;n=n||"";var i=this._graphs[n];if(!i){i=this._graphs[n]={subjects:{},predicates:{},objects:{}};Object.freeze(i)}var a=this._entities;e=a[e]||(a[e]=++this._entityCount);t=a[t]||(a[t]=++this._entityCount);r=a[r]||(a[r]=++this._entityCount);this._addToIndex(i.subjects,e,t,r);this._addToIndex(i.predicates,t,r,e);this._addToIndex(i.objects,r,e,t);this._size=null},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,r,n){if(!t)n=e.graph,r=e.object,t=e.predicate,e=e.subject;n=n||"";var i,a=this._entities,o=this._graphs;if(!(e=a[e]))return;if(!(t=a[t]))return;if(!(r=a[r]))return;if(!(i=o[n]))return;var s,u;if(!(s=i.subjects[e]))return;if(!(u=s[t]))return;if(!(r in u))return;this._removeFromIndex(i.subjects,e,t,r);this._removeFromIndex(i.predicates,t,r,e);this._removeFromIndex(i.objects,r,e,t);if(this._size!==null)this._size--;for(e in i.subjects)return;delete o[n]},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,r,i){var a=this._prefixes;return this.findByIRI(n(e,a),n(t,a),n(r,a),n(i,a))},findByIRI:function(e,t,r,n){n=n||"";var i=this._graphs[n],a=this._entities;if(!i)return[];if(e&&!(e=a[e]))return[];if(t&&!(t=a[t]))return[];if(r&&!(r=a[r]))return[];if(e){if(r)return this._findInIndex(i.objects,r,e,t,"object","subject","predicate",n);else return this._findInIndex(i.subjects,e,t,null,"subject","predicate","object",n)}else if(t)return this._findInIndex(i.predicates,t,r,null,"predicate","object","subject",n);else if(r)return this._findInIndex(i.objects,r,null,null,"object","subject","predicate",n);else return this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",n)},count:function(e,t,r,i){var a=this._prefixes;return this.countByIRI(n(e,a),n(t,a),n(r,a),n(i,a))},countByIRI:function(e,t,r,n){n=n||"";var i=this._graphs[n],a=this._entities;if(!i)return 0;if(e&&!(e=a[e]))return 0;if(t&&!(t=a[t]))return 0;if(r&&!(r=a[r]))return 0;if(e){if(r)return this._countInIndex(i.objects,r,e,t);else return this._countInIndex(i.subjects,e,t,r)}else if(t){return this._countInIndex(i.predicates,t,r,e)}else{return this._countInIndex(i.objects,r,e,t)}},createBlankNode:function(e){var t;if(e){t=e="_:"+e;var r=1;while(this._entities[t])t=e+r++}else{do{t="_:b"+this._blankNodeIndex++}while(this._entities[t])}this._entities[t]=this._entityCount++;return t}};t.exports=i},{"./N3Util":88}],86:[function(e,t,r){var n=e("stream").Transform,i=e("util"),a=e("./N3Parser.js");function o(e){if(!(this instanceof o))return new o(e);n.call(this,{decodeStrings:true});this._readableState.objectMode=true;var t=this,r=new a(e);r.parse(function(e,r){r&&t.push(r)||e&&t.emit("error",e)},this.emit.bind(this,"prefix"));this._transform=function(e,t,n){r.addChunk(e);n()};this._flush=function(e){r.end();e()}}i.inherits(o,n);t.exports=o},{"./N3Parser.js":84,stream:40,util:53}],87:[function(e,t,r){var n=e("stream").Transform,i=e("util"),a=e("./N3Writer.js");function o(e){if(!(this instanceof o))return new o(e);n.call(this,{encoding:"utf8"});this._writableState.objectMode=true;var t=this;var r=new a({write:function(e,r,n){t.push(e);n&&n()},end:function(e){t.push(null);e&&e()}},e);this._transform=function(e,t,n){r.addTriple(e,n)};this._flush=function(e){r.end(e)}}i.inherits(o,n);t.exports=o},{"./N3Writer.js":89,stream:40,util:53}],88:[function(e,t,r){var n="http://www.w3.org/2001/XMLSchema#";var i=n+"string";var a=n+"integer";var o=n+"decimal";var s=n+"boolean";var u="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";var l={isIRI:function(e){if(!e)return e;var t=e[0];return t!=='"'&&t!=="_"},isLiteral:function(e){return e&&e[0]==='"'},isBlank:function(e){return e&&e.substr(0,2)==="_:"},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?u:i)},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var r=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e),n,i,a;if(r)n=r[1],i=t[n],a=r.index;if(i===undefined)return e;return a===0?i+e.substr(n.length+1):e.substr(0,a+3)+i+e.substr(a+n.length+4)},createIRI:function(e){return e&&e[0]==='"'?l.getLiteralValue(e):e},createLiteral:function(e,t){if(!t){switch(typeof e){case"boolean":t=s;break;case"number":if(isFinite(e)){t=e%1===0?a:o;break}default:return'"'+e+'"'}}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)}};function f(e,t){for(var r in l)if(!t)e[r]=l[r];else e.prototype[r]=c(l[r]);return e}function c(e){return function(t){return e(this,t)}}t.exports=f(f)},{}],89:[function(e,t,r){var n=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i;var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=i+"type";var o=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,s=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,u={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function l(e,t){if(!(this instanceof l))return new l(e,t);if(e&&typeof e.write!=="function")t=e,e=null;t=t||{};if(!e){var r="";this._outputStream={write:function(e,t,n){r+=e;n&&n()},end:function(e){e&&e(null,r)}};this._endStream=true}else{this._outputStream=e;this._endStream=t.end===undefined?true:!!t.end}this._subject=null;if(!/triple|quad/i.test(t.format)){this._graph="";this._prefixIRIs=Object.create(null);t.prefixes&&this.addPrefixes(t.prefixes)}else{this._writeTriple=this._writeTripleLine}}l.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,n,i){try{if(this._graph!==n){this._write((this._subject===null?"":this._graph?"\n}\n":".\n")+(n?this._encodeIriOrBlankNode(n)+" {\n":""));this._graph=n,this._subject=null}if(this._subject===e){if(this._predicate===t)this._write(", "+this._encodeObject(r),i);else this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}else this._write((this._subject===null?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(a){i&&i(a)}},_writeTripleLine:function(e,t,r,n,i){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(n?" "+this._encodeIriOrBlankNode(n)+".\n":".\n"),i)}catch(a){i&&i(a)}},_encodeIriOrBlankNode:function(e){if(e[0]==="_"&&e[1]===":")return e;if(o.test(e))e=e.replace(s,f);var t=this._prefixRegex.exec(e);return!t?"<"+e+">":!t[1]?e:this._prefixIRIs[t[1]]+t[2]},_encodeLiteral:function(e,t,r){if(o.test(e))e=e.replace(s,f);if(r)return'"'+e+'"@'+r;else if(t)return'"'+e+'"^^'+this._encodeIriOrBlankNode(t);else return'"'+e+'"'},_encodeSubject:function(e){if(e[0]==='"')throw new Error("A literal as subject is not allowed: "+e);return this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if(e[0]==='"')throw new Error("A literal as predicate is not allowed: "+e);return e===a?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if(e[0]!=='"')return this._encodeIriOrBlankNode(e);var t=n.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,n,i){if(typeof r!=="string")this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t);else if(typeof n!=="string")this._writeTriple(e,t,r,"",n);else this._writeTriple(e,t,r,n,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var n={};n[e]=t;this.addPrefixes(n,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,n=false;for(var i in e){var a=e[i];if(/[#\/]$/.test(a)&&r[a]!==(i+=":")){n=true;r[a]=i;if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null,this._graph=""}this._write("@prefix "+i+" <"+a+">.\n")}}if(n){var o="",s="";for(var u in r){o+=o?"|"+u:u;s+=(s?"|":"")+r[u]}o=o.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|"+"^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)},_prefixRegex:/$0^/,end:function(e){if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null}this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream){try{return this._outputStream.end(t)}catch(r){}}t&&t()}};function f(e){var t=u[e];if(t===undefined){if(e.length===1){t=e.charCodeAt(0).toString(16);t="\\u0000".substr(0,6-t.length)+t}else{t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16);t="\\U00000000".substr(0,10-t.length)+t}}return t}t.exports=l},{}],90:[function(e,r,n){rdf=function(){var e={};e.encodeString=function(e){var t="",r=false,n=0,i=e.length;while(n<i){var a=n++;if(!r){var o=e.charCodeAt(a);if(55296<=o&&o<=56319){var s=e.charCodeAt(a+1);o=(o-55296)*1024+(s-56320)+65536;r=true}if(o>1114111){throw new Error("Char out of range")}var u="00000000".concat(new Number(o).toString(16).toUpperCase());if(o>=65536){t+="\\U"+u.slice(-8)}else{if(o>=127||o<=31){switch(o){case 9:t+="\\t";break;case 10:t+="\\n";break;case 13:t+="\\r";break;default:t+="\\u"+u.slice(-4);break}}else{switch(o){case 34:t+='\\"';break;case 92:t+="\\\\";break;default:t+=e.charAt(a);break}}}}else{r=!r}}return t};e.BlankNode=function(){return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"BlankNode"},nominalValue:{writable:false,configurable:false,enumerable:true,value:"b".concat(++e.BlankNode.NEXTID)},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue}},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}return e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:false}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return"_:".concat(this.nominalValue)}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){return e.encodeString(this.toString())}},h:{configurable:false,enumerable:false,get:function(){return this.nominalValue}}})};e.BlankNode.NEXTID=0;e.NamedNode=function(t){return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"NamedNode"},nominalValue:{writable:false,configurable:false,enumerable:true,value:t},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue}},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}return e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:false}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue.toString()}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){return"<"+e.encodeString(this.toString())+">"}},h:{configurable:false,enumerable:false,get:function(){return this.nominalValue}}})};e.Literal=function(t,r,n,i){if(typeof r=="string"&&r[0]=="@")r=r.slice(1);return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"Literal"},nominalValue:{writable:false,configurable:false,enumerable:true,value:t},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return i===null?this.nominalValue:i}},language:{writable:false,configurable:false,enumerable:true,value:r},datatype:{writable:false,configurable:false,enumerable:true,value:n},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}if(e.interfaceName!=this.interfaceName)return false;return this.h==e.h}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue.toString()}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){var t='"'+e.encodeString(this.nominalValue)+'"';if(Boolean(this.language).valueOf())return t.concat("@"+this.language);if(Boolean(this.datatype).valueOf())return t.concat("^^"+this.datatype.toNT());return t}},h:{writable:false,configurable:false,enumerable:false,value:r+"|"+(n?n.toString():"")+"|"+t.toString()}})};e.Triple=function(e,t,r){return Object.defineProperties({},{subject:{writable:false,configurable:false,enumerable:true,value:e},predicate:{writable:false,configurable:false,enumerable:true,value:t},object:{writable:false,configurable:false,enumerable:true,value:r},equals:{writable:true,configurable:false,enumerable:true,value:function(e){return this.s.equals(e.s)&&this.p.equals(e.p)&&this.o.equals(e.o)}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.s.toNT()+" "+this.p.toNT()+" "+this.o.toNT()+" ."}},s:{configurable:false,enumerable:false,get:function(){return this.subject}},p:{configurable:false,enumerable:false,get:function(){return this.predicate}},o:{configurable:false,enumerable:false,get:function(){return this.object}}})};e.Graph=function(t){return Object.defineProperties({},{_graph:{writable:true,configurable:false,enumerable:false,value:[]},_spo:{writable:true,configurable:false,enumerable:false,value:{}},length:{configurable:false,enumerable:true,get:function(){return this._graph.length}},add:{writable:false,configurable:false,enumerable:true,value:function(e){this._spo[e.s.h]||(this._spo[e.s.h]={});this._spo[e.s.h][e.p.h]||(this._spo[e.s.h][e.p.h]={});if(!this._spo[e.s.h][e.p.h][e.o.h]){this._spo[e.s.h][e.p.h][e.o.h]=e;this._graph.push(e);this.actions.forEach(function(t){t.run(e)})}return this}},addArray:{writable:false,configurable:false,enumerable:false,value:function(e){if(Array.isArray(e))var t=this,r=e.forEach(function(e){t.add(e)});return this}},remove:{writable:false,configurable:false,enumerable:true,value:function(e){this._spo[e.s.h]&&this._spo[e.s.h][e.p.h]&&this._spo[e.s.h][e.p.h][e.o.h]&&(delete this._spo[e.s.h][e.p.h][e.o.h]&&this._graph.splice(this._graph.indexOf(e),1));return this}},removeMatches:{writable:false,configurable:false,enumerable:true,value:function(e,t,r){e=arguments[0]===undefined?null:e;t=arguments[1]===undefined?null:t;r=arguments[2]===undefined?null:r;var n=[];this.forEach(function(i,a){(e===null||i.s.equals(e))&&(t===null||i.p.equals(t))&&(r===null||i.o.equals(r))&&n.push(i)});for(var i in n)this.remove(n[i]);return this}},toArray:{writable:false,configurable:false,enumerable:true,value:function(){return this._graph.slice(0)}},some:{writable:false,configurable:false,enumerable:true,value:function(e){return this._graph.some(e)}},every:{writable:false,configurable:false,enumerable:true,value:function(e){return this._graph.every(e)}},filter:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.Graph(this._graph.filter(t))}},forEach:{writable:false,configurable:false,enumerable:true,value:function(e){var t=this;this._graph.forEach(function(r){e(r,t)})}},match:{writable:false,configurable:false,enumerable:true,value:function(t,r,n,i){t=arguments[0]===undefined?null:t;r=arguments[1]===undefined?null:r;n=arguments[2]===undefined?null:n;i=arguments[3]===undefined?null:i;var a=0;if(i<1)i=-1;return new e.Graph(this._graph.filter(function(e){if(a==i)return false;return(t===null||e.s.equals(t))&&(r===null||e.p.equals(r))&&(n===null||e.o.equals(n))&&++a}))}},merge:{writable:false,configurable:false,enumerable:true,value:function(t){return(new e.Graph).addAll(this).addAll(t)}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e){return this.addArray(e.toArray())}},actions:{writable:false,configurable:false,enumerable:true,value:[]},addAction:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(t)this.forEach(function(t,r){e.run(t,r)});this.actions.push(e);return this}}}).addArray(t)};e.TripleAction=function(e,t){return Object.defineProperties({},{action:{writable:true,configurable:false,enumerable:true,value:t},test:{writable:true,configurable:false,enumerable:true,value:e},run:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(this.test(e))this.action(e,t)}}})};e.PrefixMap=function(e){return Object.defineProperties({},{resolve:{writable:false,configurable:false,enumerable:true,value:function(e){var t=e.indexOf(":");if(t<0||e.indexOf("//")>=0)return null;var r=e.slice(0,t).toLowerCase();if(!this[r])return null;return this[r].concat(e.slice(++t))}},shrink:{writable:false,configurable:false,enumerable:true,value:function(e){for(pref in this)if(e.substr(0,this[pref].length)==this[pref])return pref+":"+e.slice(this[pref].length);return e}},setDefault:{writable:false,configurable:false,enumerable:true,value:function(e){this[""]=e}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e,t){for(p in e)if(!this[p]||t)this[p]=e[p];return this}}}).addAll(e)};e.TermMap=function(e){return Object.defineProperties({},{resolve:{writable:false,configurable:false,enumerable:true,value:function(e){if(this[e])return this[e];if(this[""])return this[""].concat(e);return null}},shrink:{writable:false,configurable:false,enumerable:true,value:function(e){for(t in this)if(this[t]==e)return t;return e}},setDefault:{writable:false,configurable:false,enumerable:true,value:function(e){this[""]=e}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e,r){for(t in e)if(!this[t]||r)this[t]=e[t];return this}}}).addAll(e)};e.Profile=function(t){return Object.defineProperties({},{prefixes:{writable:false,configurable:false,enumerable:true,value:new e.PrefixMap},terms:{writable:false,configurable:false,enumerable:true,value:new e.TermMap},resolve:{writable:false,configurable:false,enumerable:true,value:function(e){return e.indexOf(":")>=0?this.prefixes.resolve(e):this.terms.resolve(e)}},setDefaultVocabulary:{writable:false,configurable:false,enumerable:true,value:function(e){this.terms.setDefault(e)}},setDefaultPrefix:{writable:false,configurable:false,enumerable:true,value:function(e){this.prefixes.setDefault(e)}},setTerm:{writable:false,configurable:false,enumerable:true,value:function(e,t){this.terms[e]=t}},setPrefix:{writable:false,configurable:false,enumerable:true,value:function(e,t){this.prefixes[e]=t}},importProfile:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(!e)return this;this.prefixes.addAll(e.prefixes,t);this.terms.addAll(e.terms,t);return this}}}).importProfile(t)};e.RDFEnvironment=function(){var t={terms:{},prefixes:{owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdfa:"http://www.w3.org/ns/rdfa#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#"}};var r={};for(v in x=["string","boolean","dateTime","date","time","int","double","float","decimal","integer","nonPositiveInteger","negativeInteger","long","int","short","byte","nonNegativeInteger","unsignedLong","unsignedInt","unsignedShort","unsignedByte","positiveInteger"])r[x[v]]=t.prefixes.xsd.concat(x[v]);return Object.defineProperties(new e.Profile(t),{createBlankNode:{writable:false,configurable:false,enumerable:true,value:function(){return new e.BlankNode}},createNamedNode:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.NamedNode(t)}},createLiteral:{writable:false,configurable:false,enumerable:true,value:function(t){var n=null,i=arguments[2],a=t;if(arguments[1]){if(arguments[1].hasOwnProperty("interfaceName"))i=arguments[1];else n=arguments[1]}if(i){switch(i.valueOf()){case r.string:a=new String(a);break;case r["boolean"]:a=new Boolean(a=="false"?false:a).valueOf();break;case r["float"]:case r.integer:case r["long"]:case r["double"]:case r.decimal:case r.nonPositiveInteger:case r.nonNegativeInteger:case r.negativeInteger:case r["int"]:case r.unsignedLong:case r.positiveInteger:case r["short"]:case r.unsignedInt:case r["byte"]:case r.unsignedShort:case r.unsignedByte:a=new Number(a).valueOf();break;case r["date"]:case r.time:case r.dateTime:a=new Date(a);break}}return new e.Literal(t,n,i,a)}},createTriple:{writable:false,configurable:false,enumerable:true,value:function(t,r,n){return new e.Triple(t,r,n)}},createGraph:{writable:false,configurable:true,enumerable:true,value:function(t){return new e.Graph(t)}},createAction:{writable:false,configurable:false,enumerable:true,value:function(t,r){return new e.TripleAction(t,r)}},createProfile:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.Profile(!t?this:null)}},createTermMap:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.TermMap(!t?this.terms:null)}},createPrefixMap:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.PrefixMap(!t?this.prefixes:null)}}})};var r=new e.RDFEnvironment;Object.keys(e).forEach(function(t){r[t]=e[t]});return e=r}();if(typeof r!="undefined")r.exports=rdf},{}],91:[function(e,t,r){function n(e){this.options=e||{locator:{}}}n.prototype.parseFromString=function(e,t){var r=this.options;var n=new f;var o=r.domBuilder||new a;var s=r.errorHandler;var u=r.locator;var l=r.xmlns||{};var c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};if(u){o.setDocumentLocator(u)}n.errorHandler=i(s,o,u);n.domBuilder=r.domBuilder||o;if(/\/x?html?$/.test(t)){c.nbsp=" ";c.copy="©";l[""]="http://www.w3.org/1999/xhtml"}if(e){n.parse(e,l,c)}else{n.errorHandler.error("invalid document source")}return o.document};function i(e,t,r){if(!e){if(t instanceof a){return t}e=t}var n={};var i=e instanceof Function;r=r||{};function o(t){var a=e[t];if(!a){if(i){a=e.length==2?function(r){e(t,r)}:e}else{var o=arguments.length;while(--o){if(a=e[arguments[o]]){break}}}}n[t]=a&&function(e){a(e+s(r))}||function(){}}o("warning","warn");o("error","warn","warning");o("fatalError","warn","warning","error");return n}function a(){this.cdata=false}function o(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber}a.prototype={startDocument:function(){this.document=(new c).createDocument(null,null,null);if(this.locator){this.document.documentURI=this.locator.systemId}},startElement:function(e,t,r,n){var i=this.document;var a=i.createElementNS(e,r||t);var s=n.length;l(this,a);this.currentElement=a;this.locator&&o(this.locator,a);for(var u=0;u<s;u++){var e=n.getURI(u);var f=n.getValue(u);var r=n.getQName(u);var c=i.createAttributeNS(e,r);if(c.getOffset){o(c.getOffset(1),c)}c.value=c.nodeValue=f;a.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;var i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.document.createProcessingInstruction(e,t);this.locator&&o(this.locator,r);l(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){e=u.apply(this,arguments);if(this.currentElement&&e){if(this.cdata){var n=this.document.createCDATASection(e);this.currentElement.appendChild(n)}else{var n=this.document.createTextNode(e);this.currentElement.appendChild(n)}this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(e){if(this.locator=e){e.lineNumber=0}},comment:function(e,t,r){e=u.apply(this,arguments);var n=this.document.createComment(e);this.locator&&o(this.locator,n);l(this,n)},startCDATA:function(){this.cdata=true},endCDATA:function(){this.cdata=false},startDTD:function(e,t,r){var n=this.document.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i);l(this,i)}},warning:function(e){console.warn(e,s(this.locator))},error:function(e){console.error(e,s(this.locator))},fatalError:function(e){console.error(e,s(this.locator));throw e}};function s(e){if(e){return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}}function u(e,t,r){if(typeof e=="string"){return e.substr(t,r)}else{if(e.length>=t+r||t){return new java.lang.String(e,t,r)+""}return e}}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){a.prototype[e]=function(){return null}});function l(e,t){if(!e.currentElement){e.document.appendChild(t)}else{e.currentElement.appendChild(t)}}if(typeof e=="function"){var f=e("./sax").XMLReader;var c=r.DOMImplementation=e("./dom").DOMImplementation;r.XMLSerializer=e("./dom").XMLSerializer;r.DOMParser=n}},{"./dom":92,"./sax":93}],92:[function(e,t,r){function n(e,t){for(var r in e){t[r]=e[r]}}function i(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function a(){}a.prototype=t.prototype;a=new a;n(r,a);e.prototype=r=a}if(r.constructor!=e){if(typeof e!="function"){console.error("unknow Class:"+e)}r.constructor=e}}var a="http://www.w3.org/1999/xhtml";var o={};var s=o.ELEMENT_NODE=1;var u=o.ATTRIBUTE_NODE=2;var l=o.TEXT_NODE=3;var f=o.CDATA_SECTION_NODE=4;var c=o.ENTITY_REFERENCE_NODE=5;var h=o.ENTITY_NODE=6;var d=o.PROCESSING_INSTRUCTION_NODE=7;var p=o.COMMENT_NODE=8;var v=o.DOCUMENT_NODE=9;var g=o.DOCUMENT_TYPE_NODE=10;var m=o.DOCUMENT_FRAGMENT_NODE=11;var y=o.NOTATION_NODE=12;var b={};var w={};var x=b.INDEX_SIZE_ERR=(w[1]="Index size error",1);var _=b.DOMSTRING_SIZE_ERR=(w[2]="DOMString size error",2);var j=b.HIERARCHY_REQUEST_ERR=(w[3]="Hierarchy request error",3);var E=b.WRONG_DOCUMENT_ERR=(w[4]="Wrong document",4);var N=b.INVALID_CHARACTER_ERR=(w[5]="Invalid character",5);var I=b.NO_DATA_ALLOWED_ERR=(w[6]="No data allowed",6);var S=b.NO_MODIFICATION_ALLOWED_ERR=(w[7]="No modification allowed",7);var O=b.NOT_FOUND_ERR=(w[8]="Not found",8);var k=b.NOT_SUPPORTED_ERR=(w[9]="Not supported",9);var R=b.INUSE_ATTRIBUTE_ERR=(w[10]="Attribute in use",10);var T=b.INVALID_STATE_ERR=(w[11]="Invalid state",11);var A=b.SYNTAX_ERR=(w[12]="Syntax error",12);var L=b.INVALID_MODIFICATION_ERR=(w[13]="Invalid modification",13);var C=b.NAMESPACE_ERR=(w[14]="Invalid namespace",14);var D=b.INVALID_ACCESS_ERR=(w[15]="Invalid access",15);function U(e,t){if(t instanceof Error){var r=t}else{r=this;Error.call(this,w[e]);this.message=w[e];if(Error.captureStackTrace)Error.captureStackTrace(this,U);
}r.code=e;if(t)this.message=this.message+": "+t;return r}U.prototype=Error.prototype;n(b,U);function P(){}P.prototype={length:0,item:function(e){return this[e]||null}};function M(e,t){this._node=e;this._refresh=t;q(this)}function q(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);me(e,"length",r.length);n(r,e);e._inc=t}}M.prototype.item=function(e){q(this);return this[e]};i(M,P);function B(){}function F(e,t){var r=e.length;while(r--){if(e[r]===t){return r}}}function z(e,t,r,n){if(n){t[F(t,n)]=r}else{t[t.length++]=r}if(e){r.ownerElement=e;var i=e.ownerDocument;if(i){n&&W(i,e,n);Y(i,e,r)}}}function V(e,t,r){var n=F(t,r);if(n>=0){var i=t.length-1;while(n<i){t[n]=t[++n]}t.length=i;if(e){var a=e.ownerDocument;if(a){W(a,e,r);r.ownerElement=null}}}else{throw U(O,new Error)}}B.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var r=this[t];if(r.nodeName==e){return r}}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement){throw new U(R)}var r=this.getNamedItem(e.nodeName);z(this._ownerElement,this,e,r);return r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement){throw new U(R)}r=this.getNamedItemNS(e.namespaceURI,e.localName);z(this._ownerElement,this,e,r);return r},removeNamedItem:function(e){var t=this.getNamedItem(e);V(this._ownerElement,this,t);return t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);V(this._ownerElement,this,r);return r},getNamedItemNS:function(e,t){var r=this.length;while(r--){var n=this[r];if(n.localName==t&&n.namespaceURI==e){return n}}return null}};function G(e){this._features={};if(e){for(var t in e){this._features=e[t]}}}G.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];if(r&&(!t||t in r)){return true}else{return false}},createDocument:function(e,t,r){var n=new $;n.doctype=r;if(r){n.appendChild(r)}n.implementation=this;n.childNodes=new P;if(t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new se;n.name=e;n.nodeName=e;n.publicId=t;n.systemId=r;return n}};function H(){}H.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Q(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t);if(t){this.removeChild(t)}},removeChild:function(e){return K(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return ge(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;if(t&&t.nodeType==l&&e.nodeType==l){this.removeChild(t);e.appendData(t.data)}else{e.normalize();e=t}}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var r=t._nsMap;if(r){for(var n in r){if(r[n]==e){return n}}}t=t.nodeType==2?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var r=t._nsMap;if(r){if(e in r){return r[e]}}t=t.nodeType==2?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function J(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}n(o,H);n(o,H.prototype);function X(e,t){if(t(e)){return true}if(e=e.firstChild){do{if(X(e,t)){return true}}while(e=e.nextSibling)}}function $(){}function Y(e,t,r){e&&e._inc++;var n=r.namespaceURI;if(n=="http://www.w3.org/2000/xmlns/"){t._nsMap[r.prefix?r.localName:""]=r.value}}function W(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;if(i=="http://www.w3.org/2000/xmlns/"){delete t._nsMap[r.prefix?r.localName:""]}}function Z(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r){n[n.length++]=r}else{var i=t.firstChild;var a=0;while(i){n[a++]=i;i=i.nextSibling}n.length=a}}}function K(e,t){var r=t.previousSibling;var n=t.nextSibling;if(r){r.nextSibling=n}else{e.firstChild=n}if(n){n.previousSibling=r}else{e.lastChild=r}Z(e.ownerDocument,e);return t}function Q(e,t,r){var n=t.parentNode;if(n){n.removeChild(t)}if(t.nodeType===m){var i=t.firstChild;if(i==null){return t}var a=t.lastChild}else{i=a=t}var o=r?r.previousSibling:e.lastChild;i.previousSibling=o;a.nextSibling=r;if(o){o.nextSibling=i}else{e.firstChild=i}if(r==null){e.lastChild=a}else{r.previousSibling=a}do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));Z(e.ownerDocument||e,e);if(t.nodeType==m){t.firstChild=t.lastChild=null}return t}function ee(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;t.parentNode=e;t.previousSibling=n;t.nextSibling=null;if(n){n.nextSibling=t}else{e.firstChild=t}e.lastChild=t;Z(e.ownerDocument,e,t);return t}$.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){var r=e.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,t);r=n}return e}if(this.documentElement==null&&e.nodeType==1){this.documentElement=e}return Q(this,e,t),e.ownerDocument=this,e},removeChild:function(e){if(this.documentElement==e){this.documentElement=null}return K(this,e)},importNode:function(e,t){return ve(this,e,t)},getElementById:function(e){var t=null;X(this.documentElement,function(r){if(r.nodeType==1){if(r.getAttribute("id")==e){t=r;return true}}});return t},createElement:function(e){var t=new te;t.ownerDocument=this;t.nodeName=e;t.tagName=e;t.childNodes=new P;var r=t.attributes=new B;r._ownerElement=t;return t},createDocumentFragment:function(){var e=new ce;e.ownerDocument=this;e.childNodes=new P;return e},createTextNode:function(e){var t=new ie;t.ownerDocument=this;t.appendData(e);return t},createComment:function(e){var t=new ae;t.ownerDocument=this;t.appendData(e);return t},createCDATASection:function(e){var t=new oe;t.ownerDocument=this;t.appendData(e);return t},createProcessingInstruction:function(e,t){var r=new he;r.ownerDocument=this;r.tagName=r.target=e;r.nodeValue=r.data=t;return r},createAttribute:function(e){var t=new re;t.ownerDocument=this;t.name=e;t.nodeName=e;t.localName=e;t.specified=true;return t},createEntityReference:function(e){var t=new fe;t.ownerDocument=this;t.nodeName=e;return t},createElementNS:function(e,t){var r=new te;var n=t.split(":");var i=r.attributes=new B;r.childNodes=new P;r.ownerDocument=this;r.nodeName=t;r.tagName=t;r.namespaceURI=e;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=t}i._ownerElement=r;return r},createAttributeNS:function(e,t){var r=new re;var n=t.split(":");r.ownerDocument=this;r.nodeName=t;r.name=t;r.namespaceURI=e;r.specified=true;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=t}return r}};i($,H);function te(){this._nsMap={}}te.prototype={nodeType:s,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t;this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){if(e.nodeType===m){return this.insertBefore(e,null)}else{return ee(this,e)}},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=r;this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new M(this,function(t){var r=[];X(t,function(n){if(n!==t&&n.nodeType==s&&(e==="*"||n.tagName==e)){r.push(n)}});return r})},getElementsByTagNameNS:function(e,t){return new M(this,function(r){var n=[];X(r,function(i){if(i!==r&&i.nodeType===s&&i.namespaceURI===e&&(t==="*"||i.localName==t)){n.push(i)}});return n})}};$.prototype.getElementsByTagName=te.prototype.getElementsByTagName;$.prototype.getElementsByTagNameNS=te.prototype.getElementsByTagNameNS;i(te,H);function re(){}re.prototype.nodeType=u;i(re,H);function ne(){}ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e;this.nodeValue=this.data=e;this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(w[3]);return H.prototype.appendChild.apply(this,arguments)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e);var i=this.data.substring(e+t);r=n+r+i;this.nodeValue=this.data=r;this.length=r.length}};i(ne,H);function ie(){}ie.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data;var r=t.substring(e);t=t.substring(0,e);this.data=this.nodeValue=t;this.length=t.length;var n=this.ownerDocument.createTextNode(r);if(this.parentNode){this.parentNode.insertBefore(n,this.nextSibling)}return n}};i(ie,ne);function ae(){}ae.prototype={nodeName:"#comment",nodeType:p};i(ae,ne);function oe(){}oe.prototype={nodeName:"#cdata-section",nodeType:f};i(oe,ne);function se(){}se.prototype.nodeType=g;i(se,H);function ue(){}ue.prototype.nodeType=y;i(ue,H);function le(){}le.prototype.nodeType=h;i(le,H);function fe(){}fe.prototype.nodeType=c;i(fe,H);function ce(){}ce.prototype.nodeName="#document-fragment";ce.prototype.nodeType=m;i(ce,H);function he(){}he.prototype.nodeType=d;i(he,H);function de(){}de.prototype.serializeToString=function(e){var t=[];pe(e,t);return t.join("")};H.prototype.toString=function(){return de.prototype.serializeToString(this)};function pe(e,t){switch(e.nodeType){case s:var r=e.attributes;var n=r.length;var i=e.firstChild;var o=e.tagName;var h=a===e.namespaceURI;t.push("<",o);for(var y=0;y<n;y++){pe(r.item(y),t,h)}if(i||h&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){t.push(">");if(h&&/^script$/i.test(o)){if(i){t.push(i.data)}}else{while(i){pe(i,t);i=i.nextSibling}}t.push("</",o,">")}else{t.push("/>")}return;case v:case m:var i=e.firstChild;while(i){pe(i,t);i=i.nextSibling}return;case u:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,J),'"');case l:return t.push(e.data.replace(/[<&]/g,J));case f:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("<!--",e.data,"-->");case g:var b=e.publicId;var w=e.systemId;t.push("<!DOCTYPE ",e.name);if(b){t.push(' PUBLIC "',b);if(w&&w!="."){t.push('" "',w)}t.push('">')}else if(w&&w!="."){t.push(' SYSTEM "',w,'">')}else{var x=e.internalSubset;if(x){t.push(" [",x,"]")}t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ve(e,t,r){var n;switch(t.nodeType){case s:n=t.cloneNode(false);n.ownerDocument=e;case m:break;case u:r=true;break}if(!n){n=t.cloneNode(false)}n.ownerDocument=e;n.parentNode=null;if(r){var i=t.firstChild;while(i){n.appendChild(ve(e,i,r));i=i.nextSibling}}return n}function ge(e,t,r){var n=new t.constructor;for(var i in t){var a=t[i];if(typeof a!="object"){if(a!=n[i]){n[i]=a}}}if(t.childNodes){n.childNodes=new P}n.ownerDocument=e;switch(n.nodeType){case s:var o=t.attributes;var l=n.attributes=new B;var f=o.length;l._ownerElement=n;for(var c=0;c<f;c++){n.setAttributeNode(ge(e,o.item(c),true))}break;case u:r=true}if(r){var h=t.firstChild;while(h){n.appendChild(ge(e,h,r));h=h.nextSibling}}return n}function me(e,t,r){e[t]=r}try{if(Object.defineProperty){Object.defineProperty(M.prototype,"length",{get:function(){q(this);return this.$$length}});Object.defineProperty(H.prototype,"textContent",{get:function(){return ye(this)},set:function(e){switch(this.nodeType){case 1:case 11:while(this.firstChild){this.removeChild(this.firstChild)}if(e||String(e)){this.appendChild(this.ownerDocument.createTextNode(e))}break;default:this.data=e;this.value=value;this.nodeValue=e}}});function ye(e){switch(e.nodeType){case 1:case 11:var t=[];e=e.firstChild;while(e){if(e.nodeType!==7&&e.nodeType!==8){t.push(ye(e))}e=e.nextSibling}return t.join("");default:return e.nodeValue}}me=function(e,t,r){e["$$"+t]=r}}}catch(be){}if(typeof e=="function"){r.DOMImplementation=G;r.XMLSerializer=de}},{}],93:[function(e,t,r){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]");var a=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$");var o=0;var s=1;var u=2;var l=3;var f=4;var c=5;var h=6;var d=7;function p(){}p.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument();x(t,t={});v(e,t,r,n,this.errorHandler);n.endDocument()}};function v(e,t,r,n,i){function a(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}else{return String.fromCharCode(e)}}function o(e){var t=e.slice(1,-1);if(t in r){return r[t]}else if(t.charAt(0)==="#"){return a(parseInt(t.substr(1).replace("x","0x")))}else{i.error("entity not found:"+e);return e}}function s(t){var r=e.substring(v,t).replace(/&#?\w+;/g,o);h&&u(v);n.characters(r,0,t-v);v=t}function u(t,r){while(t>=f&&(r=c.exec(e))){l=r.index;f=l+r[0].length;h.lineNumber++}h.columnNumber=t-l+1}var l=0;var f=0;var c=/.+(?:\r\n?|\n)|.*$/g;var h=n.locator;var d=[{currentNSMap:t}];var p={};var v=0;while(true){var x=e.indexOf("<",v);if(x<0){if(!e.substr(v).match(/^\s*$/)){var N=n.document;var I=N.createTextNode(e.substr(v));N.appendChild(I);n.currentElement=I}return}if(x>v){s(x)}switch(e.charAt(x+1)){case"/":var S=e.indexOf(">",x+3);var O=e.substring(x+2,S);var k=d.pop();var R=k.localNSMap;if(k.tagName!=O){i.fatalError("end tag name: "+O+" is not match the current start tagName:"+k.tagName)}n.endElement(k.uri,k.localName,O);if(R){for(var T in R){n.endPrefixMapping(T)}}S++;break;case"?":h&&u(x);S=j(e,x,n);break;case"!":h&&u(x);S=_(e,x,n,i);break;default:try{h&&u(x);var A=new E;var S=m(e,x,A,o,i);var L=A.length;if(L&&h){var C=g(h,{});for(var x=0;x<L;x++){var D=A[x];u(D.offset);D.offset=g(h,{})}g(C,h)}if(!A.closed&&w(e,S,A.tagName,p)){A.closed=true;if(!r.nbsp){i.warning("unclosed xml attribute")}}y(A,n,d);if(A.uri==="http://www.w3.org/1999/xhtml"&&!A.closed){S=b(e,S,A.tagName,o,n)}else{S++}}catch(U){i.error("element parse error: "+U);S=-1}}if(S<0){s(x+1)}else{v=S}}}function g(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber;return t}function m(e,t,r,n,i){var a;var p;var v=++t;var g=o;while(true){var m=e.charAt(v);switch(m){case"=":if(g===s){a=e.slice(t,v);g=l}else if(g===u){g=l}else{throw new Error("attribute equal must after attrName")}break;case"'":case'"':if(g===l){t=v+1;v=e.indexOf(m,t);if(v>0){p=e.slice(t,v).replace(/&#?\w+;/g,n);r.add(a,p,t-1);g=c}else{throw new Error("attribute value no end '"+m+"' match")}}else if(g==f){p=e.slice(t,v).replace(/&#?\w+;/g,n);r.add(a,p,t);i.warning('attribute "'+a+'" missed start quot('+m+")!!");t=v+1;g=c}else{throw new Error('attribute value must after "="')}break;case"/":switch(g){case o:r.setTagName(e.slice(t,v));case c:case h:case d:g=d;r.closed=true;case f:case s:case u:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(g){case o:r.setTagName(e.slice(t,v));case c:case h:case d:break;case f:case s:p=e.slice(t,v);if(p.slice(-1)==="/"){r.closed=true;p=p.slice(0,-1)}case u:if(g===u){p=a}if(g==f){i.warning('attribute "'+p+'" missed quot(")!!');r.add(a,p.replace(/&#?\w+;/g,n),t)}else{i.warning('attribute "'+p+'" missed value!! "'+p+'" instead!!');r.add(p,p,t)}break;case l:throw new Error("attribute value missed!!")}return v;case"":m=" ";default:if(m<=" "){switch(g){case o:r.setTagName(e.slice(t,v));g=h;break;case s:a=e.slice(t,v);g=u;break;case f:var p=e.slice(t,v).replace(/&#?\w+;/g,n);i.warning('attribute "'+p+'" missed quot(")!!');r.add(a,p,t);case c:g=h;break}}else{switch(g){case u:i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!');r.add(a,a,t);t=v;g=s;break;case c:i.warning('attribute space is required"'+a+'"!!');case h:g=s;t=v;break;case l:g=f;t=v;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}}v++}}function y(e,t,r){var n=e.tagName;var i=null;var a=r[r.length-1].currentNSMap;var o=e.length;while(o--){var s=e[o];var u=s.qName;var l=s.value;var f=u.indexOf(":");if(f>0){var c=s.prefix=u.slice(0,f);var h=u.slice(f+1);var d=c==="xmlns"&&h}else{h=u;c=null;d=u==="xmlns"&&""}s.localName=h;if(d!==false){if(i==null){i={};x(a,a={})}a[d]=i[d]=l;s.uri="http://www.w3.org/2000/xmlns/";t.startPrefixMapping(d,l)}}var o=e.length;while(o--){s=e[o];var c=s.prefix;if(c){if(c==="xml"){s.uri="http://www.w3.org/XML/1998/namespace"}if(c!=="xmlns"){s.uri=a[c]}}}var f=n.indexOf(":");if(f>0){c=e.prefix=n.slice(0,f);h=e.localName=n.slice(f+1)}else{c=null;h=e.localName=n}var p=e.uri=a[c||""];t.startElement(p,h,n,e);if(e.closed){t.endElement(p,h,n);if(i){for(c in i){t.endPrefixMapping(c)}}}else{e.currentNSMap=a;e.localNSMap=i;r.push(e)}}function b(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t);var o=e.substring(t+1,a);if(/[&<]/.test(o)){if(/^script$/i.test(r)){i.characters(o,0,o.length);return a}o=o.replace(/&#?\w+;/g,n);i.characters(o,0,o.length);return a}}return t+1}function w(e,t,r,n){var i=n[r];if(i==null){i=n[r]=e.lastIndexOf("</"+r+">")}return i<t}function x(e,t){for(var r in e){t[r]=e[r]}}function _(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);if(a>t){r.comment(e,t+4,a-t-4);return a+3}else{n.error("Unclosed comment");return-1}}else{return-1}default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);r.startCDATA();r.characters(e,t+9,a-t-9);r.endCDATA();return a+3}var o=I(e,t);var s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var u=o[1][0];var l=s>3&&/^public$/i.test(o[2][0])&&o[3][0];var f=s>4&&o[4][0];var c=o[s-1];r.startDTD(u,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),f&&f.replace(/^(['"])(.*?)\1$/,"$2"));r.endDTD();return c.index+c[0].length}}return-1}function j(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var a=i[0].length;r.processingInstruction(i[1],i[2]);return n+2}else{return-1}}return-1}function E(e){}E.prototype={setTagName:function(e){if(!a.test(e)){throw new Error("invalid tagName:"+e)}this.tagName=e},add:function(e,t,r){if(!a.test(e)){throw new Error("invalid attribute:"+e)}this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function N(e,t){e.__proto__=t;return e}if(!(N({},N.prototype)instanceof N)){N=function(e,t){function r(){}r.prototype=t;r=new r;for(t in e){r[t]=e[t]}return r}}function I(e,t){var r;var n=[];var i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t;i.exec(e);while(r=i.exec(e)){n.push(r);if(r[1])return n}}if(typeof e=="function"){r.XMLReader=p}},{}],94:[function(e,t,r){(function(r){"use strict";var n=e("rdf-interfaces");n.isNode=typeof r!=="undefined"&&r.versions&&r.versions.node;var i=function(t){t=t||{};if(typeof window!=="undefined"){window.rdf=n}if(typeof Promise!=="undefined"){n.Promise=Promise}else{n.Promise=null}n.defaultRequest=null;n.corsProxyRequest=null;n.ns={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};e("./lib/utils")(n);if(n.isNode){e("./lib/utils-node")(n)}else{e("./lib/utils-browser")(n)}if(typeof n.Graph==="undefined"){n.Graph={}}n.Graph.difference=function(e,t){var r=n.createGraph();e.forEach(function(e){if(!t.some(function(t){return e.equals(t)})){r.add(e)}});return r};n.Graph.intersection=function(e,t){var r=n.createGraph();e.forEach(function(e){if(t.some(function(t){return e.equals(t)})){r.add(e)}});return r};n.Graph.map=function(e,t){var r=[];e.forEach(function(e){r.push(t(e))});return r};n.Graph.merge=function(e,t){var r=n.createGraph();r.addAll(e);r.addAll(t);return r};n.Graph.toString=function(e){var t="";e.forEach(function(e){t+=e.toString()+"\n"});return t};var r=n.createGraph.bind(n);n.createGraphExt=function(e){var i=r(e);i.difference=n.Graph.difference.bind(i,i);i.intersection=n.Graph.intersection.bind(i,i);i.map=n.Graph.map.bind(i,i);i.toString=n.Graph.toString.bind(i,i);if("replaceMerge"in t&&t.replaceMerge){i.merge=n.Graph.merge.bind(i,i)}return i};Object.defineProperty(n,"createGraph",{value:n.createGraphExt});e("./lib/clownface.js")(n);e("./lib/inmemory-store.js")(n);e("./lib/jsonld-parser.js")(n);e("./lib/jsonld-serializer.js")(n);e("./lib/ldp-store.js")(n);e("./lib/microdata-parser.js")(n);e("./lib/ntriples-serializer.js")(n);e("./lib/promise.js")(n);e("./lib/rdfstore-store.js")(n);e("./lib/rdfxml-parser.js")(n);e("./lib/singlegraph-store.js")(n);e("./lib/sparql-store.js")(n);e("./lib/turtle-parser.js")(n);e("./lib/turtle-serializer.js")(n);return n};if(!n.isNode){i()}t.exports=i}).call(this,e("_process"))},{"./lib/clownface.js":63,"./lib/inmemory-store.js":64,"./lib/jsonld-parser.js":65,"./lib/jsonld-serializer.js":66,"./lib/ldp-store.js":67,"./lib/microdata-parser.js":68,"./lib/ntriples-serializer.js":69,"./lib/promise.js":70,"./lib/rdfstore-store.js":71,"./lib/rdfxml-parser.js":72,"./lib/singlegraph-store.js":73,"./lib/sparql-store.js":74,"./lib/turtle-parser.js":75,"./lib/turtle-serializer.js":76,"./lib/utils":80,"./lib/utils-browser":78,"./lib/utils-node":79,_process:22,"rdf-interfaces":90}],95:[function(e,t,r){"use strict";function n(e,t){var r=this;t=t||{};r.parsers=t.parsers||n.defaultParsers(e);r.serializers=t.serializers||n.defaultSerializers(e);r.defaultParser=t.defaultParser||"text/turtle";r.defaultSerializer=t.defaultSerializer||"text/turtle";r.defaultPatchSerializer=t.defaultPatchSerializer||t.defaultSerializer||"text/turtle";r.request=t.request||e.defaultRequest;var i=function(){var e=null;for(var t in r.parsers){if(!e){e=t}else{e+=", "+t}}return e};var a=function(e){return e>=200&&e<300};r.graph=function(e,t,n){n=n||{};r.request("GET",e,{Accept:i()},null,function(i,o,s,u){if(u){return t(null,"request error: "+u)}if(!a(i)){if(i!==0){return t(null,"status code error: "+i)}}var l=r.defaultParser;if("content-type"in o&&o["content-type"]in r.parsers){l=o["content-type"]}if("forceContentType"in n&&n.forceContentType in r.parsers){l=n.forceContentType}r.parsers[l](s,function(e,r){if(r){return t(null,"parser error: "+r)}if("useEtag"in n&&n.useEtag&&"etag"in o){e.etag=o.etag}t(e)},e)})};r.match=function(e,t,n,i,a,o){r.graph(e,function(e,r){if(r){return a(null,r)}a(e.match(t,n,i,o))})};r.add=function(e,t,n,i){var o="PUT",s=r.defaultSerializer,u={};i=i||{};u["Content-Type"]=s;if("method"in i){o=i.method}if("etag"in i){u["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){u["If-Match"]=t.etag}r.serializers[s](t,function(i,s){if(s){return n(null,s)}r.request(o,e,u,i,function(e,r,i,o){if(o){return n(null,o)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.merge=function(e,t,n,i){var o=r.defaultPatchSerializer,s={};i=i||{};s["Content-Type"]=o;if("etag"in i){s["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){s["If-Match"]=t.etag}r.serializers[o](t,function(i,o){if(o){return n(null,o)}r.request("PATCH",e,s,i,function(e,r,i,o){if(o){return n(null,o)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.remove=function(e,t,r){};r.removeMatches=function(e,t,r,n,i){};r.delete=function(e,t){r.request("DELETE",e,{},null,function(e,r,n,i){if(i){return t(false,"request error: "+i)}if(!a(e)){return t(false,"status code error: "+e)}t(true)})}}n.serializeSparqlUpdate=function(e,t,r){e.serializeNTriples(t,function(e,t){if(t){return r(null,t)}r("INSERT DATA { "+e+" }")})};n.defaultParsers=function(e){return{"application/ld+json":e.parseJsonLd,"application/n-triples":e.parseTurtle,"text/turtle":e.parseTurtle}};n.defaultSerializers=function(e){return{"application/ld+json":e.serializeJsonLd,"application/n-triples":e.serializeNTriples,"application/sparql-update":n.serializeSparqlUpdate.bind(null,e),"text/turtle":e.serializeNTriples}};t.exports=n},{}],96:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":108}],97:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":128}],98:[function(e,t,r){var n=e("./virtual-hyperscript/index.js");t.exports=n},{"./virtual-hyperscript/index.js":115}],99:[function(e,t,r){t.exports=function n(e){var t=String.prototype.split,r=/()??/.exec("")[1]===e,n;n=function(n,i,a){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(n,i,a)}var o=[],s=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),u=0,i=new RegExp(i.source,s+"g"),l,f,c,h;n+="";if(!r){l=new RegExp("^"+i.source+"$(?!\\s)",s)}a=a===e?-1>>>0:a>>>0;while(f=i.exec(n)){c=f.index+f[0].length;if(c>u){o.push(n.slice(u,f.index));if(!r&&f.length>1){f[0].replace(l,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){f[t]=e}}})}if(f.length>1&&f.index<n.length){Array.prototype.push.apply(o,f.slice(1))}h=f[0].length;u=c;if(o.length>=a){break}}if(i.lastIndex===f.index){i.lastIndex++}}if(u===n.length){if(h||!i.test("")){o.push("")}}else{o.push(n.slice(u))}return o.length>a?o.slice(0,a):o};return n}()},{}],100:[function(e,t,r){"use strict";var n=e("individual/one-version");var i="7";n("ev-store",i);var a="__EV_STORE_KEY@"+i;t.exports=o;function o(e){var t=e[a];if(!t){t=e[a]={}}return t}},{"individual/one-version":102}],101:[function(e,t,r){(function(e){"use strict";var r=typeof window!=="undefined"?window:typeof e!=="undefined"?e:{};t.exports=n;function n(e,t){if(e in r){return r[e]}r[e]=t;return t}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],102:[function(e,t,r){"use strict";var n=e("./index.js");t.exports=i;function i(e,t,r){var i="__INDIVIDUAL_ONE_VERSION_"+e;var a=i+"_ENFORCE_SINGLETON";var o=n(a,t);if(o!==t){throw new Error("Can only have one copy of "+e+".\n"+"You already have version "+o+" installed.\n"+"This means you cannot install version "+t)}return n(i,r)}},{"./index.js":101}],103:[function(e,t,r){(function(r){var n=typeof r!=="undefined"?r:typeof window!=="undefined"?window:{};var i=e("min-document");if(typeof document!=="undefined"){t.exports=document}else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];if(!a){a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i}t.exports=a}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":12}],104:[function(e,t,r){"use strict";t.exports=function n(e){return typeof e==="object"&&e!==null}},{}],105:[function(e,t,r){var n=Array.isArray;var i=Object.prototype.toString;t.exports=n||a;function a(e){return i.call(e)==="[object Array]"}},{}],106:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":111}],107:[function(e,t,r){var n=e("is-object");var i=e("../vnode/is-vhook.js");t.exports=a;function a(e,t,r){for(var a in t){var u=t[a];if(u===undefined){o(e,a,u,r)}else if(i(u)){o(e,a,u,r);if(u.hook){u.hook(e,a,r?r[a]:undefined)}}else{if(n(u)){s(e,t,r,a,u)}else{e[a]=u}}}}function o(e,t,r,n){if(n){var a=n[t];if(!i(a)){if(t==="attributes"){for(var o in a){e.removeAttribute(o)}}else if(t==="style"){for(var s in a){e.style[s]=""}}else if(typeof a==="string"){e[t]=""}else{e[t]=null}}else if(a.unhook){a.unhook(e,t,r)}}}function s(e,t,r,i,a){var o=r?r[i]:undefined;if(i==="attributes"){for(var s in a){var l=a[s];if(l===undefined){e.removeAttribute(s)}else{e.setAttribute(s,l)}}return}if(o&&n(o)&&u(o)!==u(a)){e[i]=a;return}if(!n(e[i])){e[i]={}}var f=i==="style"?"":undefined;for(var c in a){var h=a[c];e[i][c]=h===undefined?f:h}}function u(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook.js":119,"is-object":104}],108:[function(e,t,r){var n=e("global/document");var i=e("./apply-properties");var a=e("../vnode/is-vnode.js");var o=e("../vnode/is-vtext.js");var s=e("../vnode/is-widget.js");var u=e("../vnode/handle-thunk.js");t.exports=l;function l(e,t){var r=t?t.document||n:n;var f=t?t.warn:null;e=u(e).a;if(s(e)){return e.init()}else if(o(e)){return r.createTextNode(e.text)}else if(!a(e)){if(f){f("Item is not a valid virtual dom node",e)}return null}var c=e.namespace===null?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName);var h=e.properties;i(c,h);var d=e.children;for(var p=0;p<d.length;p++){var v=l(d[p],t);if(v){c.appendChild(v)}}return c}},{"../vnode/handle-thunk.js":117,"../vnode/is-vnode.js":120,"../vnode/is-vtext.js":121,"../vnode/is-widget.js":122,"./apply-properties":107,"global/document":103}],109:[function(e,t,r){var n={};t.exports=i;function i(e,t,r,n){if(!r||r.length===0){return{}}else{r.sort(s);return a(e,t,r,n,0)}}function a(e,t,r,i,s){i=i||{};if(e){if(o(r,s,s)){i[s]=e}var u=t.children;if(u){var l=e.childNodes;for(var f=0;f<t.children.length;f++){s+=1;var c=u[f]||n;var h=s+(c.count||0);if(o(r,s,h)){a(l[f],c,r,i,s)}s=h}}}return i}function o(e,t,r){if(e.length===0){return false}var n=0;var i=e.length-1;var a;var o;while(n<=i){a=(i+n)/2>>0;o=e[a];if(n===i){return o>=t&&o<=r}else if(o<t){n=a+1}else if(o>r){i=a-1}else{return true}}return false}function s(e,t){return e>t?1:-1}},{}],110:[function(e,t,r){var n=e("./apply-properties");var i=e("../vnode/is-widget.js");var a=e("../vnode/vpatch.js");var o=e("./update-widget");t.exports=s;function s(e,t,r){var i=e.type;var o=e.vNode;var s=e.patch;switch(i){case a.REMOVE:return u(t,o);case a.INSERT:return l(t,s,r);case a.VTEXT:return f(t,o,s,r);case a.WIDGET:return c(t,o,s,r);case a.VNODE:return h(t,o,s,r);case a.ORDER:p(t,s);return t;case a.PROPS:n(t,s,o.properties);return t;case a.THUNK:return v(t,r.patch(t,s,r));default:return t}}function u(e,t){var r=e.parentNode;if(r){r.removeChild(e)}d(e,t);return null}function l(e,t,r){var n=r.render(t,r);if(e){e.appendChild(n)}return e}function f(e,t,r,n){var i;if(e.nodeType===3){e.replaceData(0,e.length,r.text);i=e}else{var a=e.parentNode;i=n.render(r,n);if(a&&i!==e){a.replaceChild(i,e)}}return i}function c(e,t,r,n){var i=o(t,r);var a;if(i){a=r.update(t,e)||e}else{a=n.render(r,n)}var s=e.parentNode;if(s&&a!==e){s.replaceChild(a,e)}if(!i){d(e,t)}return a}function h(e,t,r,n){var i=e.parentNode;var a=n.render(r,n);if(i&&a!==e){i.replaceChild(a,e)}return a}function d(e,t){if(typeof t.destroy==="function"&&i(t)){t.destroy(e)}}function p(e,t){var r=e.childNodes;var n={};var i;var a;var o;for(var s=0;s<t.removes.length;s++){a=t.removes[s];i=r[a.from];if(a.key){n[a.key]=i}e.removeChild(i)}var u=r.length;for(var l=0;l<t.inserts.length;l++){o=t.inserts[l];i=n[o.key];e.insertBefore(i,o.to>=u++?null:r[o.to])}}function v(e,t){if(e&&t&&e!==t&&e.parentNode){e.parentNode.replaceChild(t,e)}return t}},{"../vnode/is-widget.js":122,"../vnode/vpatch.js":125,"./apply-properties":107,"./update-widget":112}],111:[function(e,t,r){var n=e("global/document");var i=e("x-is-array");var a=e("./create-element");var o=e("./dom-index");var s=e("./patch-op");t.exports=u;function u(e,t,r){r=r||{};r.patch=r.patch&&r.patch!==u?r.patch:l;r.render=r.render||a;return r.patch(e,t,r)}function l(e,t,r){var i=c(t);if(i.length===0){return e}var a=o(e,t.a,i);var s=e.ownerDocument;if(!r.document&&s!==n){
r.document=s}for(var u=0;u<i.length;u++){var l=i[u];e=f(e,a[l],t[l],r)}return e}function f(e,t,r,n){if(!t){return e}var a;if(i(r)){for(var o=0;o<r.length;o++){a=s(r[o],t,n);if(t===e){e=a}}}else{a=s(r,t,n);if(t===e){e=a}}return e}function c(e){var t=[];for(var r in e){if(r!=="a"){t.push(Number(r))}}return t}},{"./create-element":108,"./dom-index":109,"./patch-op":110,"global/document":103,"x-is-array":105}],112:[function(e,t,r){var n=e("../vnode/is-widget.js");t.exports=i;function i(e,t){if(n(e)&&n(t)){if("name"in e&&"name"in t){return e.id===t.id}else{return e.init===t.init}}return false}},{"../vnode/is-widget.js":122}],113:[function(e,t,r){"use strict";var n=e("ev-store");t.exports=i;function i(e){if(!(this instanceof i)){return new i(e)}this.value=e}i.prototype.hook=function(e,t){var r=n(e);var i=t.substr(3);r[i]=this.value};i.prototype.unhook=function(e,t){var r=n(e);var i=t.substr(3);r[i]=undefined}},{"ev-store":100}],114:[function(e,t,r){"use strict";t.exports=n;function n(e){if(!(this instanceof n)){return new n(e)}this.value=e}n.prototype.hook=function(e,t){if(e[t]!==this.value){e[t]=this.value}}},{}],115:[function(e,t,r){"use strict";var n=e("x-is-array");var i=e("../vnode/vnode.js");var a=e("../vnode/vtext.js");var o=e("../vnode/is-vnode");var s=e("../vnode/is-vtext");var u=e("../vnode/is-widget");var l=e("../vnode/is-vhook");var f=e("../vnode/is-thunk");var c=e("./parse-tag.js");var h=e("./hooks/soft-set-hook.js");var d=e("./hooks/ev-hook.js");t.exports=p;function p(e,t,r){var n=[];var a,o,s,u;if(!r&&y(t)){r=t;o={}}o=o||t||{};a=c(e,o);if(o.hasOwnProperty("key")){s=o.key;o.key=undefined}if(o.hasOwnProperty("namespace")){u=o.namespace;o.namespace=undefined}if(a==="INPUT"&&!u&&o.hasOwnProperty("value")&&o.value!==undefined&&!l(o.value)){o.value=h(o.value)}g(o);if(r!==undefined&&r!==null){v(r,n,a,o)}return new i(a,o,n,s,u)}function v(e,t,r,i){if(typeof e==="string"){t.push(new a(e))}else if(typeof e==="number"){t.push(new a(String(e)))}else if(m(e)){t.push(e)}else if(n(e)){for(var o=0;o<e.length;o++){v(e[o],t,r,i)}}else if(e===null||e===undefined){return}else{throw b({foreignObject:e,parentVnode:{tagName:r,properties:i}})}}function g(e){for(var t in e){if(e.hasOwnProperty(t)){var r=e[t];if(l(r)){continue}if(t.substr(0,3)==="ev-"){e[t]=d(r)}}}}function m(e){return o(e)||s(e)||u(e)||f(e)}function y(e){return typeof e==="string"||n(e)||m(e)}function b(e){var t=new Error;t.type="virtual-hyperscript.unexpected.virtual-element";t.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+w(e.foreignObject)+".\n"+"The parent vnode is:\n"+w(e.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";t.foreignObject=e.foreignObject;t.parentVnode=e.parentVnode;return t}function w(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}},{"../vnode/is-thunk":118,"../vnode/is-vhook":119,"../vnode/is-vnode":120,"../vnode/is-vtext":121,"../vnode/is-widget":122,"../vnode/vnode.js":124,"../vnode/vtext.js":126,"./hooks/ev-hook.js":113,"./hooks/soft-set-hook.js":114,"./parse-tag.js":116,"x-is-array":105}],116:[function(e,t,r){"use strict";var n=e("browser-split");var i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/;var a=/^\.|#/;t.exports=o;function o(e,t){if(!e){return"DIV"}var r=!t.hasOwnProperty("id");var o=n(e,i);var s=null;if(a.test(o[1])){s="DIV"}var u,l,f,c;for(c=0;c<o.length;c++){l=o[c];if(!l){continue}f=l.charAt(0);if(!s){s=l}else if(f==="."){u=u||[];u.push(l.substring(1,l.length))}else if(f==="#"&&r){t.id=l.substring(1,l.length)}}if(u){if(t.className){u.push(t.className)}t.className=u.join(" ")}return t.namespace?s:s.toUpperCase()}},{"browser-split":99}],117:[function(e,t,r){var n=e("./is-vnode");var i=e("./is-vtext");var a=e("./is-widget");var o=e("./is-thunk");t.exports=s;function s(e,t){var r=e;var n=t;if(o(t)){n=u(t,e)}if(o(e)){r=u(e,null)}return{a:r,b:n}}function u(e,t){var r=e.vnode;if(!r){r=e.vnode=e.render(t)}if(!(n(r)||i(r)||a(r))){throw new Error("thunk did not return a valid node")}return r}},{"./is-thunk":118,"./is-vnode":120,"./is-vtext":121,"./is-widget":122}],118:[function(e,t,r){t.exports=n;function n(e){return e&&e.type==="Thunk"}},{}],119:[function(e,t,r){t.exports=n;function n(e){return e&&(typeof e.hook==="function"&&!e.hasOwnProperty("hook")||typeof e.unhook==="function"&&!e.hasOwnProperty("unhook"))}},{}],120:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualNode"&&e.version===n}},{"./version":123}],121:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualText"&&e.version===n}},{"./version":123}],122:[function(e,t,r){t.exports=n;function n(e){return e&&e.type==="Widget"}},{}],123:[function(e,t,r){t.exports="2"},{}],124:[function(e,t,r){var n=e("./version");var i=e("./is-vnode");var a=e("./is-widget");var o=e("./is-thunk");var s=e("./is-vhook");t.exports=f;var u={};var l=[];function f(e,t,r,n,f){this.tagName=e;this.properties=t||u;this.children=r||l;this.key=n!=null?String(n):undefined;this.namespace=typeof f==="string"?f:null;var c=r&&r.length||0;var h=0;var d=false;var p=false;var v=false;var g;for(var m in t){if(t.hasOwnProperty(m)){var y=t[m];if(s(y)&&y.unhook){if(!g){g={}}g[m]=y}}}for(var b=0;b<c;b++){var w=r[b];if(i(w)){h+=w.count||0;if(!d&&w.hasWidgets){d=true}if(!p&&w.hasThunks){p=true}if(!v&&(w.hooks||w.descendantHooks)){v=true}}else if(!d&&a(w)){if(typeof w.destroy==="function"){d=true}}else if(!p&&o(w)){p=true}}this.count=c+h;this.hasWidgets=d;this.hasThunks=p;this.hooks=g;this.descendantHooks=v}f.prototype.version=n;f.prototype.type="VirtualNode"},{"./is-thunk":118,"./is-vhook":119,"./is-vnode":120,"./is-widget":122,"./version":123}],125:[function(e,t,r){var n=e("./version");i.NONE=0;i.VTEXT=1;i.VNODE=2;i.WIDGET=3;i.PROPS=4;i.ORDER=5;i.INSERT=6;i.REMOVE=7;i.THUNK=8;t.exports=i;function i(e,t,r){this.type=Number(e);this.vNode=t;this.patch=r}i.prototype.version=n;i.prototype.type="VirtualPatch"},{"./version":123}],126:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){this.text=String(e)}i.prototype.version=n;i.prototype.type="VirtualText"},{"./version":123}],127:[function(e,t,r){var n=e("is-object");var i=e("../vnode/is-vhook");t.exports=a;function a(e,t){var r;for(var s in e){if(!(s in t)){r=r||{};r[s]=undefined}var u=e[s];var l=t[s];if(u===l){continue}else if(n(u)&&n(l)){if(o(l)!==o(u)){r=r||{};r[s]=l}else if(i(l)){r=r||{};r[s]=l}else{var f=a(u,l);if(f){r=r||{};r[s]=f}}}else{r=r||{};r[s]=l}}for(var c in t){if(!(c in e)){r=r||{};r[c]=t[c]}}return r}function o(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook":119,"is-object":104}],128:[function(e,t,r){var n=e("x-is-array");var i=e("../vnode/vpatch");var a=e("../vnode/is-vnode");var o=e("../vnode/is-vtext");var s=e("../vnode/is-widget");var u=e("../vnode/is-thunk");var l=e("../vnode/handle-thunk");var f=e("./diff-props");t.exports=c;function c(e,t){var r={a:e};h(e,t,r,0);return r}function h(e,t,r,n){if(e===t){return}var l=r[n];var c=false;if(u(e)||u(t)){g(e,t,r,n)}else if(t==null){if(!s(e)){p(e,r,n);l=r[n]}l=j(l,new i(i.REMOVE,e,t))}else if(a(t)){if(a(e)){if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var h=f(e.properties,t.properties);if(h){l=j(l,new i(i.PROPS,e,h))}l=d(e,t,r,l,n)}else{l=j(l,new i(i.VNODE,e,t));c=true}}else{l=j(l,new i(i.VNODE,e,t));c=true}}else if(o(t)){if(!o(e)){l=j(l,new i(i.VTEXT,e,t));c=true}else if(e.text!==t.text){l=j(l,new i(i.VTEXT,e,t))}}else if(s(t)){if(!s(e)){c=true}l=j(l,new i(i.WIDGET,e,t))}if(l){r[n]=l}if(c){p(e,r,n)}}function d(e,t,r,n,o){var s=e.children;var u=w(s,t.children);var l=u.children;var f=s.length;var c=l.length;var d=f>c?f:c;for(var p=0;p<d;p++){var v=s[p];var g=l[p];o+=1;if(!v){if(g){n=j(n,new i(i.INSERT,null,g))}}else{h(v,g,r,o)}if(a(v)&&v.count){o+=v.count}}if(u.moves){n=j(n,new i(i.ORDER,e,u.moves))}return n}function p(e,t,r){y(e,t,r);v(e,t,r)}function v(e,t,r){if(s(e)){if(typeof e.destroy==="function"){t[r]=j(t[r],new i(i.REMOVE,e,null))}}else if(a(e)&&(e.hasWidgets||e.hasThunks)){var n=e.children;var o=n.length;for(var l=0;l<o;l++){var f=n[l];r+=1;v(f,t,r);if(a(f)&&f.count){r+=f.count}}}else if(u(e)){g(e,null,t,r)}}function g(e,t,r,n){var a=l(e,t);var o=c(a.a,a.b);if(m(o)){r[n]=new i(i.THUNK,null,o)}}function m(e){for(var t in e){if(t!=="a"){return true}}return false}function y(e,t,r){if(a(e)){if(e.hooks){t[r]=j(t[r],new i(i.PROPS,e,b(e.hooks)))}if(e.descendantHooks||e.hasThunks){var n=e.children;var o=n.length;for(var s=0;s<o;s++){var l=n[s];r+=1;y(l,t,r);if(a(l)&&l.count){r+=l.count}}}}else if(u(e)){g(e,null,t,r)}}function b(e){var t={};for(var r in e){t[r]=undefined}return t}function w(e,t){var r=_(t);var n=r.keys;var i=r.free;if(i.length===t.length){return{children:t,moves:null}}var a=_(e);var o=a.keys;var s=a.free;if(s.length===e.length){return{children:t,moves:null}}var u=[];var l=0;var f=i.length;var c=0;for(var h=0;h<e.length;h++){var d=e[h];var p;if(d.key){if(n.hasOwnProperty(d.key)){p=n[d.key];u.push(t[p])}else{p=h-c++;u.push(null)}}else{if(l<f){p=i[l++];u.push(t[p])}else{p=h-c++;u.push(null)}}}var v=l>=i.length?t.length:i[l];for(var g=0;g<t.length;g++){var m=t[g];if(m.key){if(!o.hasOwnProperty(m.key)){u.push(m)}}else if(g>=v){u.push(m)}}var y=u.slice();var b=0;var w=[];var j=[];var E;for(var N=0;N<t.length;){var I=t[N];E=y[b];while(E===null&&y.length){w.push(x(y,b,null));E=y[b]}if(!E||E.key!==I.key){if(I.key){if(E&&E.key){if(n[E.key]!==N+1){w.push(x(y,b,E.key));E=y[b];if(!E||E.key!==I.key){j.push({key:I.key,to:N})}else{b++}}else{j.push({key:I.key,to:N})}}else{j.push({key:I.key,to:N})}N++}else if(E&&E.key){w.push(x(y,b,E.key))}}else{b++;N++}}while(b<y.length){E=y[b];w.push(x(y,b,E&&E.key))}if(w.length===c&&!j.length){return{children:u,moves:null}}return{children:u,moves:{removes:w,inserts:j}}}function x(e,t,r){e.splice(t,1);return{from:t,key:r}}function _(e){var t={};var r=[];var n=e.length;for(var i=0;i<n;i++){var a=e[i];if(a.key){t[a.key]=i}else{r.push(i)}}return{keys:t,free:r}}function j(e,t){if(e){if(n(e)){e.push(t)}else{e=[e,t]}return e}else{return t}}},{"../vnode/handle-thunk":117,"../vnode/is-thunk":118,"../vnode/is-vnode":120,"../vnode/is-vtext":121,"../vnode/is-widget":122,"../vnode/vpatch":125,"./diff-props":127,"x-is-array":105}],129:[function(e,t,r){t.exports=o;var n=e("async");var i=e("rdf-ext")();function a(e){return e.object.toString()}function o(e,t,r){if(typeof t==="function"){r=t;t=null}t=t||i.createGraph();s(e,t,r)}function s(e,t,r){var o=new i.LdpStore;var u=e.split("#")[0];o.graph(u,function(i,u){if(u)return r(u);t.addAll(i);var l=i.match(e,"http://www.w3.org/2002/07/owl#sameAs",null).toArray().map(a);var f=i.match(e,"http://www.w3.org/2002/07/owl#seeAlso",null).toArray().map(a);var c=l.concat(f);var h=i.match(e,"http://www.w3.org/ns/pim/space#preferencesFile",null).toArray().map(a);var d=function(e){n.each(c,function(e,r){s(e,t,r)},e)};var p=function(e){n.each(h,function(e,r){o.graph(e,function(e,n){t.addAll(e);r(n,e)})},e)};n.parallel([p,d],function(e){r(e,t)})})}},{async:10,"rdf-ext":94}],130:[function(e,t,r){"use strict";var n=e("global/window");var i=e("once");var a=e("parse-headers");t.exports=s;s.XMLHttpRequest=n.XMLHttpRequest||u;s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:n.XDomainRequest;function o(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function s(e,t){function r(){if(c.readyState===4){f()}}function n(){var e=undefined;if(c.response){e=c.response}else if(c.responseType==="text"||!c.responseType){e=c.responseText||c.responseXML}if(b){try{e=JSON.parse(e)}catch(t){}}return e}var u={body:undefined,headers:{},statusCode:0,method:v,url:p,rawRequest:c};function l(e){clearTimeout(w);if(!(e instanceof Error)){e=new Error(""+(e||"unknown"))}e.statusCode=0;t(e,u)}function f(){if(d)return;var r;clearTimeout(w);if(e.useXDR&&c.status===undefined){r=200}else{r=c.status===1223?204:c.status}var i=u;var o=null;if(r!==0){i={body:n(),statusCode:r,method:v,headers:{},url:p,rawRequest:c};if(c.getAllResponseHeaders){i.headers=a(c.getAllResponseHeaders())}}else{o=new Error("Internal XMLHttpRequest Error")}t(o,i,i.body)}if(typeof e==="string"){e={uri:e}}e=e||{};if(typeof t==="undefined"){throw new Error("callback argument missing")}t=i(t);var c=e.xhr||null;if(!c){if(e.cors||e.useXDR){c=new s.XDomainRequest}else{c=new s.XMLHttpRequest}}var h;var d;var p=c.url=e.uri||e.url;var v=c.method=e.method||"GET";var g=e.body||e.data;var m=c.headers=e.headers||{};var y=!!e.sync;var b=false;var w;if("json"in e){b=true;m["accept"]||m["Accept"]||(m["Accept"]="application/json");if(v!=="GET"&&v!=="HEAD"){m["Content-Type"]="application/json";g=JSON.stringify(e.json)}}c.onreadystatechange=r;c.onload=f;c.onerror=l;c.onprogress=function(){};c.ontimeout=l;c.open(v,p,!y,e.username,e.password);if(!y){c.withCredentials=!!e.withCredentials}if(!y&&e.timeout>0){w=setTimeout(function(){d=true;c.abort("timeout");l()},e.timeout)}if(c.setRequestHeader){for(h in m){if(m.hasOwnProperty(h)){c.setRequestHeader(h,m[h])}}}else if(e.headers&&!o(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){c.responseType=e.responseType}if("beforeSend"in e&&typeof e.beforeSend==="function"){e.beforeSend(c)}c.send(g);return c}function u(){}},{"global/window":131,once:132,"parse-headers":136}],131:[function(e,t,r){(function(e){if(typeof window!=="undefined"){t.exports=window}else if(typeof e!=="undefined"){t.exports=e}else if(typeof self!=="undefined"){t.exports=self}else{t.exports={}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],132:[function(e,t,r){t.exports=n;n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:true})});function n(e){var t=false;return function(){if(t)return;t=true;return e.apply(this,arguments)}}},{}],133:[function(e,t,r){var n=e("is-function");t.exports=o;var i=Object.prototype.toString;var a=Object.prototype.hasOwnProperty;function o(e,t,r){if(!n(t)){throw new TypeError("iterator must be a function")}if(arguments.length<3){r=this}if(i.call(e)==="[object Array]")s(e,t,r);else if(typeof e==="string")u(e,t,r);else l(e,t,r)}function s(e,t,r){for(var n=0,i=e.length;n<i;n++){if(a.call(e,n)){t.call(r,e[n],n,e)}}}function u(e,t,r){for(var n=0,i=e.length;n<i;n++){t.call(r,e.charAt(n),n,e)}}function l(e,t,r){for(var n in e){if(a.call(e,n)){t.call(r,e[n],n,e)}}}},{"is-function":134}],134:[function(e,t,r){t.exports=i;var n=Object.prototype.toString;function i(e){var t=n.call(e);return t==="[object Function]"||typeof e==="function"&&t!=="[object RegExp]"||typeof window!=="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},{}],135:[function(e,t,r){r=t.exports=n;function n(e){return e.replace(/^\s*|\s*$/g,"")}r.left=function(e){return e.replace(/^\s*/,"")};r.right=function(e){return e.replace(/\s*$/,"")}},{}],136:[function(e,t,r){var n=e("trim"),i=e("for-each"),a=function(e){return Object.prototype.toString.call(e)==="[object Array]"};t.exports=function(e){if(!e)return{};var t={};i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),o=n(e.slice(r+1));if(typeof t[i]==="undefined"){t[i]=o}else if(a(t[i])){t[i].push(o)}else{t[i]=[t[i],o]}});return t}},{"for-each":133,trim:135}],137:[function(e,t,r){var n=e("rdf-ext")();t.exports=o;function i(e,t,r,i,a){console.log("setting up "+i+" with path "+r);Object.defineProperty(this,i,{configurable:true,get:function(){var n=t.match(e,r);var i=n.toArray().map(function(e){return e.object.toString()});if(i.length===1&&!Array.isArray(a)){return i[0]}else{return i}},set:function(i){t.removeMatches(n.NamedNode(e),n.NamedNode(r));t.add(n.Triple(n.NamedNode(e),n.NamedNode(r),n[Array.isArray(a)?a[0]:a](i)))}})}function a(e,t,r,n){var a=this;Object.keys(r).forEach(function(o){var s=o;var u=r[o];i.call(a,e,t,n+s,s,u)})}function o(e,t){var r=this;r.uri=e||"";r.graph=t||n.createGraph();t.match(e).forEach(function(n){var a=n.object.interfaceName;i.call(r,e,t,n.predicate.toString(),n.predicate.toString(),a)})}o.prototype.register=function(e,t,r){var n=this;n[e]=new a(n.uri,n.graph,t,r);Object.keys(t).forEach(function(e){var a=e;var o=t[e];i.call(n,n.uri,n.graph,r+a,r+a,o)});return this};o.prototype.context=function(e){var t=this;Object.keys(e).forEach(function(r){if(typeof e[r]==="string"){i.call(t,t.uri,t.graph,e[r],e[r],"Literal");i.call(t,t.uri,t.graph,e[r],r,"Literal")}else{if(e[r]["@id"]&&e[r]["@type"]&&e[r]["@type"]==="@id"){i.call(t,t.uri,t.graph,e[r]["@id"],e[r]["@id"],"NamedNode");i.call(t,t.uri,t.graph,e[r]["@id"],r,"NamedNode")}}});return this};o.prototype.toString=function(){return this.graph.toString()}},{"rdf-ext":174}],138:[function(e,t,r){arguments[4][63][0].apply(r,arguments)},{dup:63}],139:[function(e,t,r){arguments[4][64][0].apply(r,arguments)},{dup:64}],140:[function(e,t,r){arguments[4][65][0].apply(r,arguments)},{dup:65,jsonld:158,"jsonld/js/rdfa":159}],141:[function(e,t,r){arguments[4][66][0].apply(r,arguments)},{dup:66,jsonld:158}],142:[function(e,t,r){arguments[4][67][0].apply(r,arguments)},{dup:67}],143:[function(e,t,r){arguments[4][68][0].apply(r,arguments)},{"./uri-resolver":152,dup:68}],144:[function(e,t,r){arguments[4][69][0].apply(r,arguments)},{dup:69}],145:[function(e,t,r){arguments[4][70][0].apply(r,arguments)},{dup:70}],146:[function(e,t,r){arguments[4][71][0].apply(r,arguments)},{dup:71}],147:[function(e,t,r){arguments[4][72][0].apply(r,arguments)},{dup:72}],148:[function(e,t,r){arguments[4][73][0].apply(r,arguments)},{dup:73}],149:[function(e,t,r){arguments[4][74][0].apply(r,arguments)},{dup:74}],150:[function(e,t,r){arguments[4][75][0].apply(r,arguments)},{dup:75,n3:162}],151:[function(e,t,r){arguments[4][76][0].apply(r,arguments)},{dup:76,n3:162}],152:[function(e,t,r){arguments[4][77][0].apply(r,arguments)},{dup:77}],153:[function(e,t,r){arguments[4][78][0].apply(r,arguments)},{dup:78}],154:[function(e,t,r){arguments[4][79][0].apply(r,arguments)},{dup:79,"es6-promise":156,http:41,https:18,url:51,xmldom:171}],155:[function(e,t,r){arguments[4][80][0].apply(r,arguments)},{dup:80}],156:[function(e,t,r){arguments[4][81][0].apply(r,arguments)},{_process:22,dup:81}],157:[function(e,t,r){arguments[4][55][0].apply(r,arguments)},{dup:55}],158:[function(e,t,r){(function(r,n,i){(function(){var a=typeof r!=="undefined"&&r.versions&&r.versions.node;var o=!a&&(typeof window!=="undefined"||typeof self!=="undefined");if(o){if(typeof n==="undefined"){if(typeof window!=="undefined"){n=window}else if(typeof self!=="undefined"){n=self}else if(typeof $!=="undefined"){n=$}}}var s=function(t){t.compact=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(r===null){return t.nextTick(function(){i(new T("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))})}if(e===null){return t.nextTick(function(){i(null,null)})}if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("compactArrays"in n)){n.compactArrays=true}if(!("graph"in n)){n.graph=false}if(!("skipExpansion"in n)){n.skipExpansion=false}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("link"in n)){n.link=false}if(n.link){n.skipExpansion=true}var a=function(e,r,n){t.nextTick(function(){if(r.skipExpansion){return n(null,e)}t.expand(e,r,n)})};a(e,n,function(e,a){if(e){return i(new T("Could not expand input before compaction.","jsonld.CompactError",{cause:e}))}var s=fe(n);t.processContext(s,r,n,function(e,t){if(e){return i(new T("Could not process context before compaction.","jsonld.CompactError",{cause:e}))}var r;try{r=(new A).compact(t,null,a,n)}catch(s){return i(s)}o(null,r,t,n)})});function o(e,t,n,a){if(e){return i(e)}if(a.compactArrays&&!a.graph&&pe(t)){if(t.length===1){t=t[0]}else if(t.length===0){t={}}}else if(a.graph&&he(t)){t=[t]}if(he(r)&&"@context"in r){r=r["@context"]}r=Oe(r);if(!pe(r)){r=[r]}var o=r;r=[];for(var s=0;s<o.length;++s){if(!he(o[s])||Object.keys(o[s]).length>0){r.push(o[s])}}var u=r.length>0;if(r.length===1){r=r[0]}if(pe(t)){var l=ie(n,"@graph");var f=t;t={};if(u){t["@context"]=r}t[l]=f}else if(he(t)&&u){var f=t;t={"@context":r};for(var c in f){t[c]=f[c]}}i(null,t,n)}};t.expand=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not expand, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}if(!("keepFreeFloatingNodes"in r)){r.keepFreeFloatingNodes=false}t.nextTick(function(){if(typeof e==="string"){var t=function(e,t){if(e){return n(e)}try{if(!t.document){throw new T("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return n(new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}i(t)};var a=r.documentLoader(e,t);if(a&&"then"in a){a.then(t.bind(null,null),t)}return}i({contextUrl:null,documentUrl:null,document:e})});function i(e){if(!("base"in r)){r.base=e.documentUrl||""}var t={document:Oe(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in r){var i=Oe(r.expandContext);if(typeof i==="object"&&"@context"in i){t.expandContext=i}else{t.expandContext={"@context":i}}}Re(t,r,function(e,t){if(e){return n(e)}var i;try{var a=new A;var o=fe(r);var s=t.document;var u=t.remoteContext["@context"];if(t.expandContext){o=a.processContext(o,t.expandContext["@context"],r)}if(u){o=a.processContext(o,u,r)}i=a.expand(o,null,s,r,false);if(he(i)&&"@graph"in i&&Object.keys(i).length===1){i=i["@graph"]}else if(i===null){i=[]}if(!pe(i)){i=[i]}}catch(l){return n(l)}n(null,i)})}};t.flatten=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new T("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}var o;try{o=(new A).flatten(a)}catch(s){return i(s)}if(r===null){return i(null,o)}n.graph=true;n.skipExpansion=true;t.compact(o,r,n,function(e,t){if(e){return i(new T("Could not compact flattened output.","jsonld.FlattenError",{cause:e}))}i(null,t)})})};t.frame=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("embed"in n)){n.embed="@last"}n.explicit=n.explicit||false;if(!("requireAll"in n)){n.requireAll=true}n.omitDefault=n.omitDefault||false;t.nextTick(function(){if(typeof r==="string"){var e=function(e,t){if(e){return i(e)}try{if(!t.document){throw new T("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return i(new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}a(t)};var t=n.documentLoader(r,e);if(t&&"then"in t){t.then(e.bind(null,null),e)}return}a({contextUrl:null,documentUrl:null,document:r})});function a(r){var a=r.document;var o;if(a){o=a["@context"];if(r.contextUrl){if(!o){o=r.contextUrl}else if(pe(o)){o.push(r.contextUrl)}else{o=[o,r.contextUrl]}a["@context"]=o}else{o=o||{}}}else{o={}}t.expand(e,n,function(e,r){if(e){return i(new T("Could not expand input before framing.","jsonld.FrameError",{cause:e}))}var s=Oe(n);s.isFrame=true;s.keepFreeFloatingNodes=true;t.expand(a,s,function(e,n){if(e){return i(new T("Could not expand frame before framing.","jsonld.FrameError",{cause:e}))}var a;try{a=(new A).frame(r,n,s)}catch(u){return i(u)}s.graph=true;s.skipExpansion=true;s.link={};t.compact(a,o,s,function(e,t,r){if(e){return i(new T("Could not compact framed output.","jsonld.FrameError",{cause:e}))}var n=ie(r,"@graph");s.link={};t[n]=te(r,t[n],s);i(null,t)})})})}};t.link=function(e,r,n,i){var a={};if(r){a["@context"]=r}a["@embed"]="@link";t.frame(e,a,n,i)};t.objectify=function(e,r,n,i){if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new T("Could not expand input before linking.","jsonld.LinkError",{cause:e}))}var o;try{o=(new A).flatten(a)}catch(s){return i(s)}n.graph=true;n.skipExpansion=true;t.compact(o,r,n,function(e,r,n){if(e){return i(new T("Could not compact flattened output before linking.","jsonld.LinkError",{cause:e}))}var a=ie(n,"@graph");var o=r[a][0];var s=function(e){if(!he(e)&&!pe(e)){return}if(he(e)){if(s.visited[e["@id"]]){return}s.visited[e["@id"]]=true}for(var r in e){var i=e[r];var a=t.getContextValue(n,r,"@type")==="@id";if(!pe(i)&&!he(i)&&!a){continue}if(ge(i)&&a){e[r]=i=o[i];s(i)}else if(pe(i)){for(var u=0;u<i.length;++u){if(ge(i[u])&&a){i[u]=o[i[u]]}else if(he(i[u])&&"@id"in i[u]){i[u]=o[i[u]["@id"]]}s(i[u])}}else if(he(i)){var l=i["@id"];e[r]=i=o[l];s(i)}}};s.visited={};s(o);r.of_type={};for(var u in o){if(!("@type"in o[u])){continue}var l=o[u]["@type"];if(!pe(l)){l=[l]}for(var f=0;f<l.length;++f){if(!(l[f]in r.of_type)){r.of_type[l[f]]=[]}r.of_type[l[f]].push(o[u])}}i(null,r)})})};t.normalize=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not normalize, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}var i=Oe(r);delete i.format;i.produceGeneralizedRdf=false;t.toRDF(e,i,function(e,t){if(e){return n(new T("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e}))}(new A).normalize(t,r,n)})};t.fromRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert from RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("useRdfType"in r)){r.useRdfType=false}if(!("useNativeTypes"in r)){r.useNativeTypes=false}if(!("format"in r)&&ge(e)){if(!("format"in r)){r.format="application/nquads"}}t.nextTick(function(){var t;if(r.format){t=r.rdfParser||h[r.format];if(!t){return n(new T("Unknown input format.","jsonld.UnknownFormat",{format:r.format}))}}else{t=function(){return e}}var i=false;try{e=t(e,function(e,t){i=true;if(e){return n(e)}o(t,r,n)})}catch(a){if(!i){return n(a)}throw a}if(e){if("then"in e){return e.then(function(e){o(e,r,n)},n)}o(e,r,n)}function o(e,t,r){(new A).fromRDF(e,t,r)}})};t.toRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert to RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new T("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}))}var i;try{i=A.prototype.toRDF(t,r);if(r.format){if(r.format==="application/nquads"){return n(null,Ae(i))}throw new T("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}}catch(a){return n(a)}n(null,i)})};t.createNodeMap=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not create node map, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new T("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}))}var i;try{i=(new A).createNodeMap(t,r)}catch(a){return n(a)}n(null,i)})};t.merge=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))})}if(!pe(e)){return t.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};var a=[];var o=null;var s=e.length;for(var u=0;u<e.length;++u){var l={};for(var f in n){l[f]=n[f]}t.expand(e[u],l,c)}function c(e,t){if(o){return}if(e){o=e;return i(new T("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}a.push(t);if(--s===0){h(a)}}function h(e){var a=true;if("mergeNodes"in n){a=n.mergeNodes}var o=n.namer||new De("_:b");var s={"@default":{}};var u;try{for(var l=0;l<e.length;++l){var f=e[l];f=t.relabelBlankNodes(f,{namer:new De("_:b"+l+"-")});var c=a||l===0?s:{"@default":{}};G(f,c,"@default",o);if(c!==s){for(var h in c){var d=c[h];if(!(h in s)){s[h]=d;continue}var p=s[h];for(var v in d){if(!(v in p)){p[v]=d[v]}}}}}u=H(s)}catch(g){return i(g)}var m=[];var y=Object.keys(u).sort();for(var b=0;b<y.length;++b){var w=u[y[b]];if(!je(w)){m.push(w)}}if(r===null){return i(null,m)}n.graph=true;n.skipExpansion=true;t.compact(m,r,n,function(e,t){if(e){return i(new T("Could not compact merged output.","jsonld.MergeError",{cause:e}))}i(null,t)})}};t.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||new De("_:b");return C(r,e)};t.documentLoader=function(e,r){var n=new T("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});if(a){return r(n,{contextUrl:null,documentUrl:e,document:null})}return t.promisify(function(e){e(n)})};t.loadDocument=function(e,r){var n=t.documentLoader(e,r);if(n&&"then"in n){n.then(r.bind(null,null),r)}};t.promises=function(r){r=r||{};var i=Array.prototype.slice;var a=t.promisify;var o=r.api||{};var s=r.version||"jsonld.js";if(typeof r.api==="string"){if(!r.version){s=r.api}o={}}o.expand=function(e){if(arguments.length<1){throw new TypeError("Could not expand, too few arguments.")}return a.apply(null,[t.expand].concat(i.call(arguments)))};o.compact=function(e,r){if(arguments.length<2){throw new TypeError("Could not compact, too few arguments.")}var n=function(e,r,n,i){t.compact(e,r,n,function(e,t){i(e,t)})};return a.apply(null,[n].concat(i.call(arguments)))};o.flatten=function(e){if(arguments.length<1){throw new TypeError("Could not flatten, too few arguments.")}return a.apply(null,[t.flatten].concat(i.call(arguments)))};o.frame=function(e,r){if(arguments.length<2){throw new TypeError("Could not frame, too few arguments.")}return a.apply(null,[t.frame].concat(i.call(arguments)))};o.fromRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert from RDF, too few arguments.")}return a.apply(null,[t.fromRDF].concat(i.call(arguments)))};o.toRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert to RDF, too few arguments.")}return a.apply(null,[t.toRDF].concat(i.call(arguments)))};o.normalize=function(e){if(arguments.length<1){throw new TypeError("Could not normalize, too few arguments.")}return a.apply(null,[t.normalize].concat(i.call(arguments)))};if(s==="jsonld.js"){o.link=function(e,r){if(arguments.length<2){throw new TypeError("Could not link, too few arguments.")}return a.apply(null,[t.link].concat(i.call(arguments)))};o.objectify=function(e){return a.apply(null,[t.objectify].concat(i.call(arguments)))};o.createNodeMap=function(e){return a.apply(null,[t.createNodeMap].concat(i.call(arguments)))};o.merge=function(e){return a.apply(null,[t.merge].concat(i.call(arguments)));
}}try{t.Promise=n.Promise||e("es6-promise").Promise}catch(u){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var f in o){o[f]=l}}return o};t.promisify=function(r){if(!t.Promise){try{t.Promise=n.Promise||e("es6-promise").Promise}catch(i){throw new Error("Unable to find a Promise implementation.")}}var a=Array.prototype.slice.call(arguments,1);return new t.Promise(function(e,t){r.apply(null,a.concat(function(r,n){if(!r){e(n)}else{t(r)}}))})};t.promises({api:t.promises});function s(){}s.prototype=t.promises({version:"json-ld-1.0"});s.prototype.toString=function(){if(this instanceof s){return"[object JsonLdProcessor]"}return"[object JsonLdProcessorPrototype]"};t.JsonLdProcessor=s;var u=!!Object.defineProperty;if(u){try{Object.defineProperty({},"x",{})}catch(l){u=false}}if(u){Object.defineProperty(s,"prototype",{writable:false,enumerable:false});Object.defineProperty(s.prototype,"constructor",{writable:true,enumerable:false,configurable:true,value:s})}if(o&&typeof n.JsonLdProcessor==="undefined"){if(u){Object.defineProperty(n,"JsonLdProcessor",{writable:true,enumerable:false,configurable:true,value:s})}else{n.JsonLdProcessor=s}}var f=typeof setImmediate==="function"&&setImmediate;var c=f?function(e){f(e)}:function(e){setTimeout(e,0)};if(typeof r==="object"&&typeof r.nextTick==="function"){t.nextTick=r.nextTick}else{t.nextTick=c}t.setImmediate=f?c:t.nextTick;t.parseLinkHeader=function(e){var t={};var r=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);var n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/;for(var i=0;i<r.length;++i){var a=r[i].match(n);if(!a){continue}var o={target:a[1]};var s=a[2];var u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;while(a=u.exec(s)){o[a[1]]=a[2]===undefined?a[3]:a[2]}var l=o["rel"]||"";if(pe(t[l])){t[l].push(o)}else if(l in t){t[l]=[t[l],o]}else{t[l]=o}}return t};t.DocumentCache=function(e){this.order=[];this.cache={};this.size=e||50;this.expires=30*1e3};t.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date){return t.ctx}delete this.cache[e];this.order.splice(this.order.indexOf(e),1)}return null};t.DocumentCache.prototype.set=function(e,t){if(this.order.length===this.size){delete this.cache[this.order.shift()]}this.order.push(e);this.cache[e]={ctx:t,expires:+new Date+this.expires}};t.ActiveContextCache=function(e){this.order=[];this.cache={};this.size=e||100};t.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e);var n=JSON.stringify(t);var i=this.cache[r];if(i&&n in i){return i[n]}return null};t.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e);var a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a});if(!(i in this.cache)){this.cache[i]={}}this.cache[i][a]=Oe(r)};t.cache={activeCtx:new t.ActiveContextCache};t.documentLoaders={};t.documentLoaders.jquery=function(e,r){r=r||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(r.secure&&n.indexOf("https")!==0){return i(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}e.ajax({url:n,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:true,success:function(e,r,a){var o={contextUrl:null,documentUrl:n,document:e};var s=a.getResponseHeader("Content-Type");var u=a.getResponseHeader("Link");if(u&&s!=="application/ld+json"){u=t.parseLinkHeader(u)[k];if(pe(u)){return i(new T("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o)}if(u){o.contextUrl=u.target}}i(null,o)},error:function(e,t,r){i(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:r}),{contextUrl:null,documentUrl:n,document:null})}})};var i=typeof Promise!=="undefined";if("usePromise"in r){i=r.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.documentLoaders.node=function(r){r=r||{};var n="strictSSL"in r?r.strictSSL:true;var i="maxRedirects"in r?r.maxRedirects:-1;var a=e("request");var o=e("http");var s=new t.DocumentCache;function u(e,l,f){if(e.indexOf("http:")!==0&&e.indexOf("https:")!==0){return f(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}if(r.secure&&e.indexOf("https")!==0){return f(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}var c=s.get(e);if(c!==null){return f(null,c)}a({url:e,headers:{Accept:"application/ld+json, application/json"},strictSSL:n,followRedirect:false},h);function h(r,n,a){c={contextUrl:null,documentUrl:e,document:a||null};if(r){return f(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:r}),c)}var h=o.STATUS_CODES[n.statusCode];if(n.statusCode>=400){return f(new T("URL could not be dereferenced: "+h,"jsonld.InvalidUrl",{code:"loading document failed",url:e,httpStatusCode:n.statusCode}),c)}if(n.headers.link&&n.headers["content-type"]!=="application/ld+json"){var d=t.parseLinkHeader(n.headers.link)[k];if(pe(d)){return f(new T("URL could not be dereferenced, it has more than one associated "+"HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:e}),c)}if(d){c.contextUrl=d.target}}if(n.statusCode>=300&&n.statusCode<400&&n.headers.location){if(l.length===i){return f(new T("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}if(l.indexOf(e)!==-1){return f(new T("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}l.push(e);return u(n.headers.location,l,f)}l.push(e);for(var p=0;p<l.length;++p){s.set(l[p],{contextUrl:null,documentUrl:l[p],document:a})}f(r,c)}}var l=function(e,t){u(e,[],t)};if(r.usePromise){return function(e){return t.promisify(l,e)}}return l};t.documentLoaders.xhr=function(e){var r=/(^|(\r\n))link:/i;e=e||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new T('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(e.secure&&n.indexOf("https")!==0){return i(new T("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}var a=e.xhr||XMLHttpRequest;var o=new a;o.onload=function(e){if(o.status>=400){return i(new T("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:o.status}),{contextUrl:null,documentUrl:n,document:null})}var a={contextUrl:null,documentUrl:n,document:o.response};var s=o.getResponseHeader("Content-Type");var u;if(r.test(o.getAllResponseHeaders())){u=o.getResponseHeader("Link")}if(u&&s!=="application/ld+json"){u=t.parseLinkHeader(u)[k];if(pe(u)){return i(new T("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),a)}if(u){a.contextUrl=u.target}}i(null,a)};o.onerror=function(){i(new T("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})};o.open("GET",n,true);o.setRequestHeader("Accept","application/ld+json, application/json");o.send()};var i=typeof Promise!=="undefined";if("usePromise"in e){i=e.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.useDocumentLoader=function(e){if(!(e in t.documentLoaders)){throw new T('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e})}t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))};t.processContext=function(e,r){var n={};var i=2;if(arguments.length>3){n=arguments[2]||{};i+=1}var a=arguments[i];if(!("base"in n)){n.base=""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(r===null){return a(null,fe(n))}r=Oe(r);if(!(he(r)&&"@context"in r)){r={"@context":r}}Re(r,n,function(t,r){if(t){return a(t)}try{r=(new A).processContext(e,r,n)}catch(i){return a(i)}a(null,r)})};t.hasProperty=function(e,t){var r=false;if(t in e){var n=e[t];r=!pe(n)||n.length>0}return r};t.hasValue=function(e,r,n){var i=false;if(t.hasProperty(e,r)){var a=e[r];var o=Ne(a);if(pe(a)||o){if(o){a=a["@list"]}for(var s=0;s<a.length;++s){if(t.compareValues(n,a[s])){i=true;break}}}else if(!pe(n)){i=t.compareValues(n,a)}}return i};t.addValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}if(!("allowDuplicate"in i)){i.allowDuplicate=true}if(pe(n)){if(n.length===0&&i.propertyIsArray&&!(r in e)){e[r]=[]}for(var a=0;a<n.length;++a){t.addValue(e,r,n[a],i)}}else if(r in e){var o=!i.allowDuplicate&&t.hasValue(e,r,n);if(!pe(e[r])&&(!o||i.propertyIsArray)){e[r]=[e[r]]}if(!o){e[r].push(n)}}else{e[r]=i.propertyIsArray?[n]:n}};t.getValues=function(e,t){var r=e[t]||[];if(!pe(r)){r=[r]}return r};t.removeProperty=function(e,t){delete e[t]};t.removeValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}var a=t.getValues(e,r).filter(function(e){return!t.compareValues(e,n)});if(a.length===0){t.removeProperty(e,r)}else if(a.length===1&&!i.propertyIsArray){e[r]=a[0]}else{e[r]=a}};t.compareValues=function(e,t){if(e===t){return true}if(Ee(e)&&Ee(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]){return true}if(he(e)&&"@id"in e&&he(t)&&"@id"in t){return e["@id"]===t["@id"]}return false};t.getContextValue=function(e,t,r){var n=null;if(t===null){return n}if(r==="@language"&&r in e){n=e[r]}if(e.mappings[t]){var i=e.mappings[t];if(xe(r)){n=i}else if(r in i){n=i[r]}}return n};var h={};t.registerRDFParser=function(e,t){h[e]=t};t.unregisterRDFParser=function(e){delete h[e]};if(a){if(typeof d==="undefined"){var d=null}if(typeof p==="undefined"){var p={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}}var v="http://www.w3.org/2001/XMLSchema#boolean";var g="http://www.w3.org/2001/XMLSchema#double";var m="http://www.w3.org/2001/XMLSchema#integer";var y="http://www.w3.org/2001/XMLSchema#string";var b="http://www.w3.org/1999/02/22-rdf-syntax-ns#";var w=b+"List";var x=b+"first";var _=b+"rest";var j=b+"nil";var E=b+"type";var N=b+"PlainLiteral";var I=b+"XMLLiteral";var S=b+"object";var O=b+"langString";var k="http://www.w3.org/ns/json-ld#context";var R=10;var T=function(e,t,r){if(a){Error.call(this);Error.captureStackTrace(this,this.constructor)}else if(typeof Error!=="undefined"){this.stack=(new Error).stack}this.name=t||"jsonld.Error";this.message=e||"An unspecified JSON-LD error occurred.";this.details=r||{}};if(a){e("util").inherits(T,Error)}else if(typeof Error!=="undefined"){T.prototype=new Error}var A=function(){};A.prototype.compact=function(e,r,n,i){if(pe(n)){var a=[];for(var o=0;o<n.length;++o){var s=this.compact(e,r,n[o],i);if(s!==null){a.push(s)}}if(i.compactArrays&&a.length===1){var u=t.getContextValue(e,r,"@container");if(u===null){a=a[0]}}return a}if(he(n)){if(i.link&&"@id"in n&&n["@id"]in i.link){var l=i.link[n["@id"]];for(var o=0;o<l.length;++o){if(l[o].expanded===n){return l[o].compacted}}}if(Ee(n)||je(n)){var a=ae(e,r,n);if(i.link&&je(n)){if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}return a}var f=r==="@reverse";var a={};if(i.link&&"@id"in n){if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}var c=Object.keys(n).sort();for(var h=0;h<c.length;++h){var d=c[h];var p=n[d];if(d==="@id"||d==="@type"){var v;if(ge(p)){v=ie(e,p,null,{vocab:d==="@type"})}else{v=[];for(var g=0;g<p.length;++g){v.push(ie(e,p[g],null,{vocab:true}))}}var m=ie(e,d);var y=pe(v)&&p.length===0;t.addValue(a,m,v,{propertyIsArray:y});continue}if(d==="@reverse"){var v=this.compact(e,"@reverse",p,i);for(var b in v){if(e.mappings[b]&&e.mappings[b].reverse){var w=v[b];var u=t.getContextValue(e,b,"@container");var x=u==="@set"||!i.compactArrays;t.addValue(a,b,w,{propertyIsArray:x});delete v[b]}}if(Object.keys(v).length>0){var m=ie(e,d);t.addValue(a,m,v)}continue}if(d==="@index"){var u=t.getContextValue(e,r,"@container");if(u==="@index"){continue}var m=ie(e,d);t.addValue(a,m,p);continue}if(d!=="@graph"&&d!=="@list"&&ce(d)){var m=ie(e,d);t.addValue(a,m,p);continue}if(p.length===0){var _=ie(e,d,p,{vocab:true},f);t.addValue(a,_,p,{propertyIsArray:true})}for(var g=0;g<p.length;++g){var j=p[g];var _=ie(e,d,j,{vocab:true},f);var u=t.getContextValue(e,_,"@container");var E=Ne(j);var N=null;if(E){N=j["@list"]}var I=this.compact(e,_,E?N:j,i);if(E){if(!pe(I)){I=[I]}if(u!=="@list"){var S={};S[ie(e,"@list")]=I;I=S;if("@index"in j){I[ie(e,"@index")]=j["@index"]}}else if(_ in a){throw new T('JSON-LD compact error; property has a "@list" @container '+"rule but there is more than a single @list that matches "+"the compacted term in the document. Compaction might mix "+"unwanted items into the list.","jsonld.SyntaxError",{code:"compaction to list of lists"})}}if(u==="@language"||u==="@index"){var O;if(_ in a){O=a[_]}else{a[_]=O={}}if(u==="@language"&&Ee(I)){I=I["@value"]}t.addValue(O,j[u],I)}else{var y=!i.compactArrays||u==="@set"||u==="@list"||pe(I)&&I.length===0||d==="@list"||d==="@graph";t.addValue(a,_,I,{propertyIsArray:y})}}}return a}return n};A.prototype.expand=function(e,r,n,i,a){var o=this;if(n===null||n===undefined){return null}if(!pe(n)&&!he(n)){if(!a&&(r===null||se(e,r,{vocab:true})==="@graph")){return null}return D(e,r,n)}if(pe(n)){var s=[];var u=t.getContextValue(e,r,"@container");a=a||u==="@list";for(var l=0;l<n.length;++l){var f=o.expand(e,r,n[l],i);if(a&&(pe(f)||Ne(f))){throw new T("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}if(f!==null){if(pe(f)){s=s.concat(f)}else{s.push(f)}}}return s}if("@context"in n){e=o.processContext(e,n["@context"],i)}var c=se(e,r,{vocab:true});var s={};var h=Object.keys(n).sort();for(var d=0;d<h.length;++d){var p=h[d];var v=n[p];var g;if(p==="@context"){continue}var m=se(e,p,{vocab:true});if(m===null||!(Se(m)||ce(m))){continue}if(ce(m)){if(c==="@reverse"){throw new T("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse "+"property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:v})}if(m in s){throw new T("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:m})}}if(m==="@id"&&!ge(v)){if(!i.isFrame){throw new T('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:v})}if(!he(v)){throw new T('Invalid JSON-LD syntax; "@id" value must be a string or an '+"object.","jsonld.SyntaxError",{code:"invalid @id value",value:v})}}if(m==="@type"){ve(v)}if(m==="@graph"&&!(he(v)||pe(v))){throw new T('Invalid JSON-LD syntax; "@graph" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid @graph value",value:v})}if(m==="@value"&&(he(v)||pe(v))){throw new T('Invalid JSON-LD syntax; "@value" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid value object value",value:v})}if(m==="@language"){if(v===null){continue}if(!ge(v)){throw new T('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:v})}v=v.toLowerCase()}if(m==="@index"){if(!ge(v)){throw new T('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:v})}}if(m==="@reverse"){if(!he(v)){throw new T('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:v})}g=o.expand(e,"@reverse",v,i);if("@reverse"in g){for(var y in g["@reverse"]){t.addValue(s,y,g["@reverse"][y],{propertyIsArray:true})}}var b=s["@reverse"]||null;for(var y in g){if(y==="@reverse"){continue}if(b===null){b=s["@reverse"]={}}t.addValue(b,y,[],{propertyIsArray:true});var w=g[y];for(var x=0;x<w.length;++x){var _=w[x];if(Ee(_)||Ne(_)){throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(b,y,_,{propertyIsArray:true})}}continue}var u=t.getContextValue(e,p,"@container");if(u==="@language"&&he(v)){g=L(v)}else if(u==="@index"&&he(v)){g=function O(t){var r=[];var n=Object.keys(v).sort();for(var a=0;a<n.length;++a){var s=n[a];var u=v[s];if(!pe(u)){u=[u]}u=o.expand(e,t,u,i,false);for(var l=0;l<u.length;++l){var f=u[l];if(!("@index"in f)){f["@index"]=s}r.push(f)}}return r}(p)}else{var j=m==="@list";if(j||m==="@set"){var E=r;if(j&&c==="@graph"){E=null}g=o.expand(e,E,v,i,j);if(j&&Ne(g)){throw new T("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}}else{g=o.expand(e,p,v,i,false)}}if(g===null&&m!=="@value"){continue}if(m!=="@list"&&!Ne(g)&&u==="@list"){g=pe(g)?g:[g];g={"@list":g}}if(e.mappings[p]&&e.mappings[p].reverse){var b=s["@reverse"]=s["@reverse"]||{};if(!pe(g)){g=[g]}for(var x=0;x<g.length;++x){var _=g[x];if(Ee(_)||Ne(_)){throw new T('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(b,m,_,{propertyIsArray:true})}continue}var N=["@index","@id","@type","@value","@language"].indexOf(m)===-1;t.addValue(s,m,g,{propertyIsArray:N})}h=Object.keys(s);var I=h.length;if("@value"in s){if("@type"in s&&"@language"in s){throw new T('Invalid JSON-LD syntax; an element containing "@value" may not '+'contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s})}var S=I-1;if("@type"in s){S-=1}if("@index"in s){S-=1}if("@language"in s){S-=1}if(S!==0){throw new T('Invalid JSON-LD syntax; an element containing "@value" may only '+'have an "@index" property and at most one other property '+'which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:s})}if(s["@value"]===null){s=null}else if("@language"in s&&!ge(s["@value"])){throw new T("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:s})}else if("@type"in s&&(!Se(s["@type"])||s["@type"].indexOf("_:")===0)){throw new T('Invalid JSON-LD syntax; an element containing "@value" and "@type" '+'must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:s})}}else if("@type"in s&&!pe(s["@type"])){s["@type"]=[s["@type"]]}else if("@set"in s||"@list"in s){if(I>1&&!(I===2&&"@index"in s)){throw new T('Invalid JSON-LD syntax; if an element has the property "@set" '+'or "@list", then it can have at most one other property that is '+'"@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:s})}if("@set"in s){s=s["@set"];h=Object.keys(s);I=h.length}}else if(I===1&&"@language"in s){s=null}if(he(s)&&!i.keepFreeFloatingNodes&&!a&&(r===null||c==="@graph")){if(I===0||"@value"in s||"@list"in s||I===1&&"@id"in s){s=null}}return s};A.prototype.createNodeMap=function(e,t){t=t||{};var r=t.namer||new De("_:b");var n={"@default":{}};G(e,n,"@default",r);return H(n)};A.prototype.flatten=function(e){var t=this.createNodeMap(e);var r=[];var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=t[n[i]];if(!je(a)){r.push(a)}}return r};A.prototype.frame=function(e,t,r){var n={options:r,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var i=new De("_:b");G(e,n.graphs,"@merged",i);n.subjects=n.graphs["@merged"];var a=[];J(n,Object.keys(n.subjects).sort(),t,a,null);return a};A.prototype.normalize=function(e,r,n){var i=[];var a={};for(var o in e){var s=e[o];if(o==="@default"){o=null}for(var u=0;u<s.length;++u){var l=s[u];if(o!==null){if(o.indexOf("_:")===0){l.name={type:"blank node",value:o}}else{l.name={type:"IRI",value:o}}}i.push(l);var f=["subject","object","name"];for(var c=0;c<f.length;++c){var h=f[c];if(l[h]&&l[h].type==="blank node"){var d=l[h].value;if(d in a){a[d].quads.push(l)}else{a[d]={quads:[l]}}}}}}var p=new De("_:c14n");return v(Object.keys(a));function v(e){var r=[];var n={};var i={};t.setImmediate(function(){o(0)});function o(s){if(s===e.length){return g(i,n,r)}var u=e[s];var l=F(u,a);if(l in n){n[l].push(u);r.push(u)}else if(l in i){n[l]=[i[l],u];r.push(i[l]);r.push(u);delete i[l]}else{i[l]=u}t.setImmediate(function(){o(s+1)})}}function g(e,t,r){var n=false;var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var o=e[i[a]];p.getName(o);n=true}if(n){v(r)}else{m(t)}}function m(e){var t=Object.keys(e).sort();r(0);function r(i){if(i===t.length){return y()}var o=e[t[i]];var s=[];u(o,0);function u(e,t){if(t===e.length){s.sort(function(e,t){e=e.hash;t=t.hash;return e<t?-1:e>t?1:0});for(var o=0;o<s.length;++o){for(var l in s[o].pathNamer.existing){p.getName(l)}}return r(i+1)}var f=e[t];if(p.isNamed(f)){return u(e,t+1)}var c=new De("_:b");c.getName(f);z(f,a,p,c,function(r,i){if(r){return n(r)}s.push(i);u(e,t+1)})}}}function y(){var e=[];for(var t=0;t<i.length;++t){var a=i[t];var o=["subject","object","name"];for(var s=0;s<o.length;++s){var u=o[s];if(a[u]&&a[u].type==="blank node"&&a[u].value.indexOf("_:c14n")!==0){a[u].value=p.getName(a[u].value)}}e.push(Le(a,a.name?a.name.value:null))}e.sort();if(r.format){if(r.format==="application/nquads"){return n(null,e.join(""))}return n(new T("Unknown output format.","jsonld.UnknownFormat",{format:r.format}))}n(null,Te(e.join("")))}};A.prototype.fromRDF=function(e,r,n){var i={};var a={"@default":i};var o={};for(var s in e){var u=e[s];if(!(s in a)){a[s]={}}if(s!=="@default"&&!(s in i)){i[s]={"@id":s}}var l=a[s];for(var f=0;f<u.length;++f){var c=u[f];var h=c.subject.value;var d=c.predicate.value;var p=c.object;if(!(h in l)){l[h]={"@id":h}}var v=l[h];var g=p.type==="IRI"||p.type==="blank node";if(g&&!(p.value in l)){l[p.value]={"@id":p.value}}if(d===E&&!r.useRdfType&&g){t.addValue(v,"@type",p.value,{propertyIsArray:true});continue}var m=q(p,r.useNativeTypes);t.addValue(v,d,m,{propertyIsArray:true});if(g){if(p.value===j){var y=l[p.value];if(!("usages"in y)){y.usages=[]}y.usages.push({node:v,property:d,value:m})}else if(p.value in o){o[p.value]=false}else{o[p.value]={node:v,property:d,value:m}}}}}for(var s in a){var b=a[s];if(!(j in b)){continue}var N=b[j];for(var I=0;I<N.usages.length;++I){var S=N.usages[I];var v=S.node;var O=S.property;var k=S.value;var R=[];var T=[];var A=Object.keys(v).length;while(O===_&&he(o[v["@id"]])&&pe(v[x])&&v[x].length===1&&pe(v[_])&&v[_].length===1&&(A===3||A===4&&pe(v["@type"])&&v["@type"].length===1&&v["@type"][0]===w)){R.push(v[x][0]);T.push(v["@id"]);S=o[v["@id"]];v=S.node;O=S.property;k=S.value;A=Object.keys(v).length;if(v["@id"].indexOf("_:")!==0){break}}if(O===x){if(v["@id"]===j){continue}k=b[k["@id"]][_][0];R.pop();T.pop()}delete k["@id"];k["@list"]=R.reverse();for(var L=0;L<T.length;++L){delete b[T[L]]}}delete N.usages}var C=[];var D=Object.keys(i).sort();for(var I=0;I<D.length;++I){var U=D[I];var v=i[U];if(U in a){var u=v["@graph"]=[];var b=a[U];var P=Object.keys(b).sort();for(var M=0;M<P.length;++M){var B=b[P[M]];if(!je(B)){u.push(B)}}}if(!je(v)){C.push(v)}}n(null,C)};A.prototype.toRDF=function(e,t){var r=new De("_:b");var n={"@default":{}};G(e,n,"@default",r);var i={};var a=Object.keys(n).sort();for(var o=0;o<a.length;++o){var s=a[o];if(s==="@default"||Se(s)){i[s]=U(n[s],r,t)}}return i};A.prototype.processContext=function(e,r,n){if(he(r)&&"@context"in r&&pe(r["@context"])){r=r["@context"]}var i=pe(r)?r:[r];if(i.length===0){return e.clone()}var a=e;for(var o=0;o<i.length;++o){var s=i[o];if(s===null){a=e=fe(n);continue}if(he(s)&&"@context"in s){s=s["@context"]}if(!he(s)){throw new T("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s})}if(t.cache.activeCtx){var u=t.cache.activeCtx.get(e,s);if(u){a=e=u;continue}}e=a;a=a.clone();var l={};if("@base"in s){var f=s["@base"];if(f===null){f=null}else if(!ge(f)){throw new T('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid base IRI",context:s})}else if(f!==""&&!Se(f)){throw new T('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be an absolute IRI or the empty string.","jsonld.SyntaxError",{code:"invalid base IRI",context:s})}if(f!==null){f=t.url.parse(f||"")}a["@base"]=f;l["@base"]=true}if("@vocab"in s){var c=s["@vocab"];if(c===null){delete a["@vocab"]}else if(!ge(c)){throw new T('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:s})}else if(!Se(c)){throw new T('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:s})}else{a["@vocab"]=c}l["@vocab"]=true}if("@language"in s){var c=s["@language"];if(c===null){delete a["@language"]}else if(!ge(c)){throw new T('Invalid JSON-LD syntax; the value of "@language" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid default language",context:s})}else{a["@language"]=c.toLowerCase()}l["@language"]=true}for(var h in s){oe(a,s,h,l)}if(t.cache.activeCtx){t.cache.activeCtx.set(e,s,a)}}return a};function L(e){var t=[];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];var a=e[i];if(!pe(a)){a=[a]}for(var o=0;o<a.length;++o){var s=a[o];if(!ge(s)){throw new T("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e})}t.push({"@value":s,"@language":i.toLowerCase()})}}return t}function C(e,t){if(pe(t)){for(var r=0;r<t.length;++r){t[r]=C(e,t[r])}}else if(Ne(t)){t["@list"]=C(e,t["@list"])}else if(he(t)){if(Ie(t)){t["@id"]=e.getName(t["@id"])}var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=n[i];if(a!=="@id"){t[a]=C(e,t[a])}}}return t}function D(e,r,n){if(n===null||n===undefined){return null}var i=se(e,r,{vocab:true});if(i==="@id"){return se(e,n,{base:true})}else if(i==="@type"){return se(e,n,{vocab:true,base:true})}var a=t.getContextValue(e,r,"@type");if(a==="@id"||i==="@graph"&&ge(n)){return{"@id":se(e,n,{base:true})}}if(a==="@vocab"){return{"@id":se(e,n,{vocab:true,base:true})}}if(ce(i)){return n}var o={};if(a!==null){o["@type"]=a}else if(ge(n)){var s=t.getContextValue(e,r,"@language");if(s!==null){o["@language"]=s}}if(["boolean","number","string"].indexOf(typeof n)===-1){n=n.toString()}o["@value"]=n;return o}function U(e,t,r){var n=[];var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var o=i[a];var s=e[o];var u=Object.keys(s).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=s[f];if(f==="@type"){f=E}else if(ce(f)){continue}for(var h=0;h<c.length;++h){var d=c[h];var p={};p.type=o.indexOf("_:")===0?"blank node":"IRI";p.value=o;if(!Se(o)){continue}var v={};v.type=f.indexOf("_:")===0?"blank node":"IRI";v.value=f;if(!Se(f)){continue}if(v.type==="blank node"&&!r.produceGeneralizedRdf){continue}if(Ne(d)){P(d["@list"],t,p,v,n)}else{var g=M(d);if(g){n.push({subject:p,predicate:v,object:g})}}}}}return n}function P(e,t,r,n,i){var a={type:"IRI",value:x};var o={type:"IRI",value:_};var s={type:"IRI",value:j};for(var u=0;u<e.length;++u){var l=e[u];var f={type:"blank node",value:t.getName()};i.push({subject:r,predicate:n,object:f});r=f;n=a;var c=M(l);if(c){i.push({subject:r,predicate:n,object:c})}n=o}i.push({subject:r,predicate:n,object:s})}function M(e){var t={};if(Ee(e)){t.type="literal";var r=e["@value"];var n=e["@type"]||null;if(we(r)){t.value=r.toString();t.datatype=n||v}else if(ye(r)||n===g){if(!ye(r)){r=parseFloat(r)}t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E");t.datatype=n||g}else if(me(r)){t.value=r.toFixed(0);t.datatype=n||m}else if("@language"in e){t.value=r;t.datatype=n||O;t.language=e["@language"]}else{t.value=r;t.datatype=n||y}}else{var i=he(e)?e["@id"]:e;t.type=i.indexOf("_:")===0?"blank node":"IRI";t.value=i}if(t.type==="IRI"&&!Se(t.value)){return null}return t}function q(e,t){if(e.type==="IRI"||e.type==="blank node"){return{"@id":e.value}}var r={"@value":e.value};if(e.language){r["@language"]=e.language}else{var n=e.datatype;if(!n){n=y}if(t){if(n===v){if(r["@value"]==="true"){r["@value"]=true}else if(r["@value"]==="false"){r["@value"]=false}}else if(be(r["@value"])){if(n===m){var i=parseInt(r["@value"],10);if(i.toFixed(0)===r["@value"]){r["@value"]=i}}else if(n===g){r["@value"]=parseFloat(r["@value"])}}if([v,m,g,y].indexOf(n)===-1){r["@type"]=n}}else if(n!==y){r["@type"]=n}}return r}function B(e,t){var r=["subject","predicate","object"];for(var n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value){return false}}if(e.object.language!==t.object.language){return false}if(e.object.datatype!==t.object.datatype){return false}return true}function F(e,t){if("hash"in t[e]){return t[e].hash}var r=t[e].quads;var n=[];for(var i=0;i<r.length;++i){n.push(Le(r[i],r[i].name?r[i].name.value:null,e))}n.sort();var a=t[e].hash=Pe.hash(n);return a}function z(e,r,n,i,a){var o=Pe.create();var s={};var u;var l=r[e].quads;t.setImmediate(function(){f(0)});function f(a){if(a===l.length){u=Object.keys(s).sort();return c(0)}var o=l[a];var h=V(o.subject,e);var d=null;if(h!==null){d="p"}else{h=V(o.object,e);if(h!==null){d="r"}}if(h!==null){var p;if(n.isNamed(h)){p=n.getName(h)}else if(i.isNamed(h)){p=i.getName(h)}else{p=F(h,r)}var v=Pe.create();v.update(d);v.update(o.predicate.value);v.update(p);var g=v.digest();if(g in s){s[g].push(h)}else{s[g]=[h]}}t.setImmediate(function(){f(a+1)})}function c(e){if(e===u.length){return a(null,{hash:o.digest(),pathNamer:i})}var l=u[e];o.update(l);var f=null;var h=null;var d=new Ue(s[l]);t.setImmediate(function(){p()});function p(){var s=d.next();var u=i.clone();var l="";var v=[];for(var g in s){var m=s[g];if(n.isNamed(m)){l+=n.getName(m)}else{if(!u.isNamed(m)){v.push(m)}l+=u.getName(m)}if(f!==null&&l.length>=f.length&&l>f){return b(true)}}y(0);function y(e){if(e===v.length){return b(false)}var t=v[e];z(t,r,n,u,function(r,n){if(r){return a(r)}l+=u.getName(t)+"<"+n.hash+">";u=n.pathNamer;if(f!==null&&l.length>=f.length&&l>f){return b(true)}y(e+1)})}function b(r){if(!r&&(f===null||l<f)){f=l;h=u}if(d.hasNext()){t.setImmediate(function(){p()})}else{o.update(f);i=h;c(e+1)}}}}}function V(e,t){return e.type==="blank node"&&e.value!==t?e.value:null}function G(e,r,n,i,a,o){if(pe(e)){for(var s=0;s<e.length;++s){G(e[s],r,n,i,undefined,o)}return}if(!he(e)){if(o){o.push(e)}return}if(Ee(e)){if("@type"in e){var u=e["@type"];if(u.indexOf("_:")===0){e["@type"]=u=i.getName(u)}}if(o){o.push(e)}return}if("@type"in e){var l=e["@type"];for(var s=0;s<l.length;++s){var u=l[s];if(u.indexOf("_:")===0){i.getName(u)}}}if(xe(a)){a=Ie(e)?i.getName(e["@id"]):e["@id"];
}if(o){o.push({"@id":a})}var f=r[n];var c=f[a]=f[a]||{};c["@id"]=a;var h=Object.keys(e).sort();for(var d=0;d<h.length;++d){var p=h[d];if(p==="@id"){continue}if(p==="@reverse"){var v={"@id":a};var g=e["@reverse"];for(var m in g){var y=g[m];for(var b=0;b<y.length;++b){var w=y[b];var x=w["@id"];if(Ie(w)){x=i.getName(x)}G(w,r,n,i,x);t.addValue(f[x],m,v,{propertyIsArray:true,allowDuplicate:false})}}continue}if(p==="@graph"){if(!(a in r)){r[a]={}}var _=n==="@merged"?n:a;G(e[p],r,_,i);continue}if(p!=="@type"&&ce(p)){if(p==="@index"&&p in c&&(e[p]!==c[p]||e[p]["@id"]!==c[p]["@id"])){throw new T("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:c})}c[p]=e[p];continue}var j=e[p];if(p.indexOf("_:")===0){p=i.getName(p)}if(j.length===0){t.addValue(c,p,[],{propertyIsArray:true});continue}for(var E=0;E<j.length;++E){var N=j[E];if(p==="@type"){N=N.indexOf("_:")===0?i.getName(N):N}if(_e(N)||je(N)){var I=Ie(N)?i.getName(N["@id"]):N["@id"];t.addValue(c,p,{"@id":I},{propertyIsArray:true,allowDuplicate:false});G(N,r,n,i,I)}else if(Ne(N)){var S=[];G(N["@list"],r,n,i,a,S);N={"@list":S};t.addValue(c,p,N,{propertyIsArray:true,allowDuplicate:false})}else{G(N,r,n,i,a);t.addValue(c,p,N,{propertyIsArray:true,allowDuplicate:false})}}}}function H(e){var t=e["@default"];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];if(i==="@default"){continue}var a=e[i];var o=t[i];if(!o){t[i]=o={"@id":i,"@graph":[]}}else if(!("@graph"in o)){o["@graph"]=[]}var s=o["@graph"];var u=Object.keys(a).sort();for(var l=0;l<u.length;++l){var f=a[u[l]];if(!je(f)){s.push(f)}}}return t}function J(e,t,r,n,i){W(r);r=r[0];var a=e.options;var o={embed:Y(r,a,"embed"),explicit:Y(r,a,"explicit"),requireAll:Y(r,a,"requireAll")};var s=Z(e,t,r,o);var u=Object.keys(s).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=s[f];if(o.embed==="@link"&&f in e.link){ee(n,i,e.link[f]);continue}if(i===null){e.uniqueEmbeds={}}var h={};h["@id"]=f;e.link[f]=h;if(o.embed==="@never"||$(c,e.subjectStack)){ee(n,i,h);continue}if(o.embed==="@last"){if(f in e.uniqueEmbeds){Q(e,f)}e.uniqueEmbeds[f]={parent:n,property:i}}e.subjectStack.push(c);var d=Object.keys(c).sort();for(var p=0;p<d.length;p++){var v=d[p];if(ce(v)){h[v]=Oe(c[v]);continue}if(o.explicit&&!(v in r)){continue}var g=c[v];for(var m=0;m<g.length;++m){var y=g[m];if(Ne(y)){var b={"@list":[]};ee(h,v,b);var w=y["@list"];for(var x in w){y=w[x];if(je(y)){var _=v in r?r[v][0]["@list"]:X(o);J(e,[y["@id"]],_,b,"@list")}else{ee(b,"@list",Oe(y))}}continue}if(je(y)){var _=v in r?r[v]:X(o);J(e,[y["@id"]],_,h,v)}else{ee(h,v,Oe(y))}}}var d=Object.keys(r).sort();for(var p=0;p<d.length;++p){var v=d[p];if(ce(v)){continue}var j=r[v][0];var E=Y(j,a,"omitDefault");if(!E&&!(v in h)){var N="@null";if("@default"in j){N=Oe(j["@default"])}if(!pe(N)){N=[N]}h[v]=[{"@preserve":N}]}}ee(n,i,h);e.subjectStack.pop()}}function X(e){var t={};for(var r in e){if(e[r]!==undefined){t["@"+r]=[e[r]]}}return[t]}function $(e,t){for(var r=t.length-1;r>=0;--r){if(t[r]["@id"]===e["@id"]){return true}}return false}function Y(e,t,r){var n="@"+r;var i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===true){i="@last"}else if(i===false){i="@never"}else if(i!=="@always"&&i!=="@never"&&i!=="@link"){i="@last"}}return i}function W(e){if(!pe(e)||e.length!==1||!he(e[0])){throw new T("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}}function Z(e,t,r,n){var i={};for(var a=0;a<t.length;++a){var o=t[a];var s=e.subjects[o];if(K(s,r,n)){i[o]=s}}return i}function K(e,r,n){if("@type"in r&&!(r["@type"].length===1&&he(r["@type"][0]))){var i=r["@type"];for(var a=0;a<i.length;++a){if(t.hasValue(e,"@type",i[a])){return true}}return false}var o=true;var s=false;for(var u in r){if(ce(u)){if(u!=="@id"&&u!=="@type"){continue}o=false;if(u==="@id"&&ge(r[u])){if(e[u]!==r[u]){return false}s=true;continue}}o=false;if(u in e){if(pe(r[u])&&r[u].length===0&&e[u]!==undefined){return false}s=true;continue}var l=pe(r[u])&&he(r[u][0])&&"@default"in r[u][0];if(n.requireAll&&!l){return false}}return o||s}function Q(e,r){var n=e.uniqueEmbeds;var i=n[r];var a=i.parent;var o=i.property;var s={"@id":r};if(pe(a)){for(var u=0;u<a.length;++u){if(t.compareValues(a[u],s)){a[u]=s;break}}}else{var l=pe(a[o]);t.removeValue(a,o,s,{propertyIsArray:l});t.addValue(a,o,s,{propertyIsArray:l})}var f=function(e){var t=Object.keys(n);for(var r=0;r<t.length;++r){var i=t[r];if(i in n&&he(n[i].parent)&&n[i].parent["@id"]===e){delete n[i];f(i)}}};f(r)}function ee(e,r,n){if(he(e)){t.addValue(e,r,n,{propertyIsArray:true})}else{e.push(n)}}function te(e,r,n){if(pe(r)){var i=[];for(var a=0;a<r.length;++a){var o=te(e,r[a],n);if(o!==null){i.push(o)}}r=i}else if(he(r)){if("@preserve"in r){if(r["@preserve"]==="@null"){return null}return r["@preserve"]}if(Ee(r)){return r}if(Ne(r)){r["@list"]=te(e,r["@list"],n);return r}var s=ie(e,"@id");if(s in r){var u=r[s];if(u in n.link){var l=n.link[u].indexOf(r);if(l===-1){n.link[u].push(r)}else{return n.link[u][l]}}else{n.link[u]=[r]}}for(var f in r){var o=te(e,r[f],n);var c=t.getContextValue(e,f,"@container");if(n.compactArrays&&pe(o)&&o.length===1&&c===null){o=o[0]}r[f]=o}}return r}function re(e,t){if(e.length<t.length){return-1}if(t.length<e.length){return 1}if(e===t){return 0}return e<t?-1:1}function ne(e,t,r,n,i,a){if(a===null){a="@null"}var o=[];if((a==="@id"||a==="@reverse")&&je(r)){if(a==="@reverse"){o.push("@reverse")}var s=ie(e,r["@id"],null,{vocab:true});if(s in e.mappings&&e.mappings[s]&&e.mappings[s]["@id"]===r["@id"]){o.push.apply(o,["@vocab","@id"])}else{o.push.apply(o,["@id","@vocab"])}}else{o.push(a)}o.push("@none");var u=e.inverse[t];for(var l=0;l<n.length;++l){var f=n[l];if(!(f in u)){continue}var c=u[f][i];for(var h=0;h<o.length;++h){var d=o[h];if(!(d in c)){continue}return c[d]}}return null}function ie(e,t,r,n,i){if(t===null){return t}if(xe(r)){r=null}if(xe(i)){i=false}n=n||{};if(ce(t)){n.vocab=true}if(n.vocab&&t in e.getInverse()){var a=e["@language"]||"@none";var o=[];if(he(r)&&"@index"in r){o.push("@index")}var s="@language";var u="@null";if(i){s="@type";u="@reverse";o.push("@set")}else if(Ne(r)){if(!("@index"in r)){o.push("@list")}var l=r["@list"];var f=l.length===0?a:null;var c=null;for(var h=0;h<l.length;++h){var d=l[h];var p="@none";var v="@none";if(Ee(d)){if("@language"in d){p=d["@language"]}else if("@type"in d){v=d["@type"]}else{p="@null"}}else{v="@id"}if(f===null){f=p}else if(p!==f&&Ee(d)){f="@none"}if(c===null){c=v}else if(v!==c){c="@none"}if(f==="@none"&&c==="@none"){break}}f=f||"@none";c=c||"@none";if(c!=="@none"){s="@type";u=c}else{u=f}}else{if(Ee(r)){if("@language"in r&&!("@index"in r)){o.push("@language");u=r["@language"]}else if("@type"in r){s="@type";u=r["@type"]}}else{s="@type";u="@id"}o.push("@set")}o.push("@none");var g=ne(e,t,r,o,s,u);if(g!==null){return g}}if(n.vocab){if("@vocab"in e){var m=e["@vocab"];if(t.indexOf(m)===0&&t!==m){var y=t.substr(m.length);if(!(y in e.mappings)){return y}}}}var b=null;for(var g in e.mappings){if(g.indexOf(":")!==-1){continue}var w=e.mappings[g];if(!w||w["@id"]===t||t.indexOf(w["@id"])!==0){continue}var x=g+":"+t.substr(w["@id"].length);var _=!(x in e.mappings)||r===null&&e.mappings[x]&&e.mappings[x]["@id"]===t;if(_&&(b===null||re(x,b)<0)){b=x}}if(b!==null){return b}if(!n.vocab){return le(e["@base"],t)}return t}function ae(e,r,n){if(Ee(n)){var i=t.getContextValue(e,r,"@type");var a=t.getContextValue(e,r,"@language");var o=t.getContextValue(e,r,"@container");var s="@index"in n&&o!=="@index";if(!s){if(n["@type"]===i||n["@language"]===a){return n["@value"]}}var u=Object.keys(n).length;var l=u===1||u===2&&"@index"in n&&!s;var f="@language"in e;var c=ge(n["@value"]);var h=e.mappings[r]&&e.mappings[r]["@language"]===null;if(l&&(!f||!c||h)){return n["@value"]}var d={};if(s){d[ie(e,"@index")]=n["@index"]}if("@type"in n){d[ie(e,"@type")]=ie(e,n["@type"],null,{vocab:true})}else if("@language"in n){d[ie(e,"@language")]=n["@language"]}d[ie(e,"@value")]=n["@value"];return d}var p=se(e,r,{vocab:true});var i=t.getContextValue(e,r,"@type");var v=ie(e,n["@id"],null,{vocab:i==="@vocab"});if(i==="@id"||i==="@vocab"||p==="@graph"){return v}var d={};d[ie(e,"@id")]=v;return d}function oe(e,t,r,n){if(r in n){if(n[r]){return}throw new T("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n[r]=false;if(ce(r)){throw new T("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}if(r===""){throw new T("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}if(e.mappings[r]){delete e.mappings[r]}var i=t[r];if(i===null||he(i)&&i["@id"]===null){e.mappings[r]=null;n[r]=true;return}if(ge(i)){i={"@id":i}}if(!he(i)){throw new T("Invalid JSON-LD syntax; @context property values must be "+"strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}var a=e.mappings[r]={};a.reverse=false;if("@reverse"in i){if("@id"in i){throw new T("Invalid JSON-LD syntax; a @reverse term definition must not "+"contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}var o=i["@reverse"];if(!ge(o)){throw new T("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}var s=se(e,o,{vocab:true,base:false},t,n);if(!Se(s)){throw new T("Invalid JSON-LD syntax; a @context @reverse value must be an "+"absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}a["@id"]=s;a.reverse=true}else if("@id"in i){var s=i["@id"];if(!ge(s)){throw new T("Invalid JSON-LD syntax; a @context @id value must be an array "+"of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}if(s!==r){s=se(e,s,{vocab:true,base:false},t,n);if(!Se(s)&&!ce(s)){throw new T("Invalid JSON-LD syntax; a @context @id value must be an "+"absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}a["@id"]=s}}if(!("@id"in a)){var u=r.indexOf(":");if(u!==-1){var l=r.substr(0,u);if(l in t){oe(e,t,l,n)}if(e.mappings[l]){var f=r.substr(u+1);a["@id"]=e.mappings[l]["@id"]+f}else{a["@id"]=r}}else{if(!("@vocab"in e)){throw new T("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r})}a["@id"]=e["@vocab"]+r}}n[r]=true;if("@type"in i){var c=i["@type"];if(!ge(c)){throw new T("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c!=="@id"&&c!=="@vocab"){c=se(e,c,{vocab:true,base:false},t,n);if(!Se(c)){throw new T("Invalid JSON-LD syntax; an @context @type value must be an "+"absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c.indexOf("_:")===0){throw new T("Invalid JSON-LD syntax; an @context @type values must be an IRI, "+"not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}}a["@type"]=c}if("@container"in i){var h=i["@container"];if(h!=="@list"&&h!=="@set"&&h!=="@index"&&h!=="@language"){throw new T("Invalid JSON-LD syntax; @context @container value must be "+"one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}if(a.reverse&&h!=="@index"&&h!=="@set"&&h!==null){throw new T("Invalid JSON-LD syntax; @context @container value for a @reverse "+"type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}a["@container"]=h}if("@language"in i&&!("@type"in i)){var d=i["@language"];if(d!==null&&!ge(d)){throw new T("Invalid JSON-LD syntax; @context @language value must be "+"a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t})}if(d!==null){d=d.toLowerCase()}a["@language"]=d}var s=a["@id"];if(s==="@context"||s==="@preserve"){throw new T("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}}function se(e,t,r,n,i){if(t===null||ce(t)){return t}t=String(t);if(n&&t in n&&i[t]!==true){oe(e,n,t,i)}r=r||{};if(r.vocab){var a=e.mappings[t];if(a===null){return null}if(a){return a["@id"]}}var o=t.indexOf(":");if(o!==-1){var s=t.substr(0,o);var u=t.substr(o+1);if(s==="_"||u.indexOf("//")===0){return t}if(n&&s in n){oe(e,n,s,i)}var a=e.mappings[s];if(a){return a["@id"]+u}return t}if(r.vocab&&"@vocab"in e){return e["@vocab"]+t}var l=t;if(r.base){l=ue(e["@base"],l)}return l}function ue(e,r){if(e===null){return r}if(r.indexOf(":")!==-1){return r}if(ge(e)){e=t.url.parse(e||"")}var n=t.url.parse(r);var i={protocol:e.protocol||""};if(n.authority!==null){i.authority=n.authority;i.path=n.path;i.query=n.query}else{i.authority=e.authority;if(n.path===""){i.path=e.path;if(n.query!==null){i.query=n.query}else{i.query=e.query}}else{if(n.path.indexOf("/")===0){i.path=n.path}else{var a=e.path;if(n.path!==""){a=a.substr(0,a.lastIndexOf("/")+1);if(a.length>0&&a.substr(-1)!=="/"){a+="/"}a+=n.path}i.path=a}i.query=n.query}}i.path=Fe(i.path,!!i.authority);var o=i.protocol;if(i.authority!==null){o+="//"+i.authority}o+=i.path;if(i.query!==null){o+="?"+i.query}if(n.fragment!==null){o+="#"+n.fragment}if(o===""){o="./"}return o}function le(e,r){if(e===null){return r}if(ge(e)){e=t.url.parse(e||"")}var n="";if(e.href!==""){n+=(e.protocol||"")+"//"+(e.authority||"")}else if(r.indexOf("//")){n+="//"}if(r.indexOf(n)!==0){return r}var i=t.url.parse(r.substr(n.length));var a=e.normalizedPath.split("/");var o=i.normalizedPath.split("/");var s=i.fragment||i.query?0:1;while(a.length>0&&o.length>s){if(a[0]!==o[0]){break}a.shift();o.shift()}var u="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l){u+="../"}}u+=o.join("/");if(i.query!==null){u+="?"+i.query}if(i.fragment!==null){u+="#"+i.fragment}if(u===""){u="./"}return u}function fe(e){var r=t.url.parse(e.base||"");return{"@base":r,mappings:{},inverse:null,getInverse:n,clone:a};function n(){var e=this;if(e.inverse){return e.inverse}var t=e.inverse={};var r=e["@language"]||"@none";var n=e.mappings;var a=Object.keys(n).sort(re);for(var o=0;o<a.length;++o){var s=a[o];var u=n[s];if(u===null){continue}var l=u["@container"]||"@none";var f=u["@id"];if(!pe(f)){f=[f]}for(var c=0;c<f.length;++c){var h=f[c];var d=t[h];if(!d){t[h]=d={}}if(!d[l]){d[l]={"@language":{},"@type":{}}}d=d[l];if(u.reverse){i(u,s,d["@type"],"@reverse")}else if("@type"in u){i(u,s,d["@type"],u["@type"])}else if("@language"in u){var p=u["@language"]||"@null";i(u,s,d["@language"],p)}else{i(u,s,d["@language"],r);i(u,s,d["@type"],"@none");i(u,s,d["@language"],"@none")}}}return t}function i(e,t,r,n){if(!(n in r)){r[n]=t}}function a(){var e={};e["@base"]=this["@base"];e.mappings=Oe(this.mappings);e.clone=this.clone;e.inverse=null;e.getInverse=this.getInverse;if("@language"in this){e["@language"]=this["@language"]}if("@vocab"in this){e["@vocab"]=this["@vocab"]}return e}}function ce(e){if(!ge(e)){return false}switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return true}return false}function he(e){return Object.prototype.toString.call(e)==="[object Object]"}function de(e){return he(e)&&Object.keys(e).length===0}function pe(e){return Array.isArray(e)}function ve(e){if(ge(e)||de(e)){return}var t=false;if(pe(e)){t=true;for(var r=0;r<e.length;++r){if(!ge(e[r])){t=false;break}}}if(!t){throw new T('Invalid JSON-LD syntax; "@type" value must a string, an array of '+"strings, or an empty object.","jsonld.SyntaxError",{code:"invalid type value",value:e})}}function ge(e){return typeof e==="string"||Object.prototype.toString.call(e)==="[object String]"}function me(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function ye(e){return me(e)&&String(e).indexOf(".")!==-1}function be(e){return!isNaN(parseFloat(e))&&isFinite(e)}function we(e){return typeof e==="boolean"||Object.prototype.toString.call(e)==="[object Boolean]"}function xe(e){return typeof e==="undefined"}function _e(e){var t=false;if(he(e)&&!("@value"in e||"@set"in e||"@list"in e)){var r=Object.keys(e).length;t=r>1||!("@id"in e)}return t}function je(e){return he(e)&&Object.keys(e).length===1&&"@id"in e}function Ee(e){return he(e)&&"@value"in e}function Ne(e){return he(e)&&"@list"in e}function Ie(e){var t=false;if(he(e)){if("@id"in e){t=e["@id"].indexOf("_:")===0}else{t=Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}}return t}function Se(e){return ge(e)&&e.indexOf(":")!==-1}function Oe(e){if(e&&typeof e==="object"){var t;if(pe(e)){t=[];for(var r=0;r<e.length;++r){t[r]=Oe(e[r])}}else if(he(e)){t={};for(var n in e){t[n]=Oe(e[n])}}else{t=e.toString()}return t}return e}function ke(e,t,r,n){var i=Object.keys(t).length;if(pe(e)){for(var a=0;a<e.length;++a){ke(e[a],t,r,n)}return i<Object.keys(t).length}else if(he(e)){for(var o in e){if(o!=="@context"){ke(e[o],t,r,n);continue}var s=e[o];if(pe(s)){var u=s.length;for(var a=0;a<u;++a){var l=s[a];if(ge(l)){l=ue(n,l);if(r){l=t[l];if(pe(l)){Array.prototype.splice.apply(s,[a,1].concat(l));a+=l.length-1;u=s.length}else{s[a]=l}}else if(!(l in t)){t[l]=false}}}}else if(ge(s)){s=ue(n,s);if(r){e[o]=t[s]}else if(!(s in t)){t[s]=false}}}return i<Object.keys(t).length}return false}function Re(e,t,r){var n=null;var i=t.documentLoader;var a=function(e,t,r,i,o){if(Object.keys(t).length>R){n=new T("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:R});return o(n)}var s={};var u=function(){ke(e,s,true,i);o(null,e)};if(!ke(e,s,false,i)){u()}var l=[];for(var f in s){if(s[f]===false){l.push(f)}}var c=l.length;for(var h=0;h<l.length;++h){(function(e){if(e in t){n=new T("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e});return o(n)}var i=Oe(t);i[e]=true;var l=function(t,l){if(n){return}var f=l?l.document:null;if(!t&&ge(f)){try{f=JSON.parse(f)}catch(h){t=h}}if(t){t=new T("Dereferencing a URL did not result in a valid JSON-LD object. "+"Possible causes are an inaccessible URL perhaps due to "+"a same-origin policy (ensure the server uses CORS if you are "+"using client-side JavaScript), too many redirects, a "+"non-JSON response, or more than one HTTP Link Header was "+"provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}else if(!he(f)){t=new T("Dereferencing a URL did not result in a JSON object. The "+"response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})}if(t){n=t;return o(n)}if(!("@context"in f)){f={"@context":{}}}else{f={"@context":f["@context"]}}if(l.contextUrl){if(!pe(f["@context"])){f["@context"]=[f["@context"]]}f["@context"].push(l.contextUrl)}a(f,i,r,e,function(t,r){if(t){return o(t)}s[e]=r["@context"];c-=1;if(c===0){u()}})};var f=r(e,l);if(f&&"then"in f){f.then(l.bind(null,null),l)}})(l[h])}};a(e,{},i,t.base,r)}if(!Object.keys){Object.keys=function(e){if(e!==Object(e)){throw new TypeError("Object.keys called on non-object")}var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r)}}return t}}function Te(e){var t="(?:<([^:]+:[^>]*)>)";var r="(_:(?:[A-Za-z0-9]+))";var n='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"';var i="(?:\\^\\^"+t+")";var a="(?:@([a-z]+(?:-[a-z0-9]+)*))";var o="(?:"+n+"(?:"+i+"|"+a+")?)";var s="[ \\t]+";var u="[ \\t]*";var l=/(?:\r\n)|(?:\n)|(?:\r)/g;var f=new RegExp("^"+u+"$");var c="(?:"+t+"|"+r+")"+s;var h=t+s;var d="(?:"+t+"|"+r+"|"+o+")"+u;var p="(?:\\.|(?:(?:"+t+"|"+r+")"+u+"\\.))";var v=new RegExp("^"+u+c+h+d+p+u+"$");var g={};var m=e.split(l);var b=0;for(var w=0;w<m.length;++w){var x=m[w];b++;if(f.test(x)){continue}var _=x.match(v);if(_===null){throw new T("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:b})}var j={};if(!xe(_[1])){j.subject={type:"IRI",value:_[1]}}else{j.subject={type:"blank node",value:_[2]}}j.predicate={type:"IRI",value:_[3]};if(!xe(_[4])){j.object={type:"IRI",value:_[4]}}else if(!xe(_[5])){j.object={type:"blank node",value:_[5]}}else{j.object={type:"literal"};if(!xe(_[7])){j.object.datatype=_[7]}else if(!xe(_[8])){j.object.datatype=O;j.object.language=_[8]}else{j.object.datatype=y}var E=_[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");j.object.value=E}var N="@default";if(!xe(_[9])){N=_[9]}else if(!xe(_[10])){N=_[10]}if(!(N in g)){g[N]=[j]}else{var I=true;var S=g[N];for(var k=0;I&&k<S.length;++k){if(B(S[k],j)){I=false}}if(I){S.push(j)}}}return g}t.registerRDFParser("application/nquads",Te);function Ae(e){var t=[];for(var r in e){var n=e[r];for(var i=0;i<n.length;++i){var a=n[i];if(r==="@default"){r=null}t.push(Le(a,r))}}t.sort();return t.join("")}function Le(e,t,r){var n=e.subject;var i=e.predicate;var a=e.object;var o=t;var s="";if(n.type==="IRI"){s+="<"+n.value+">"}else if(r){s+=n.value===r?"_:a":"_:z"}else{s+=n.value}s+=" ";if(i.type==="IRI"){s+="<"+i.value+">"}else if(r){s+="_:p"}else{s+=i.value}s+=" ";if(a.type==="IRI"){s+="<"+a.value+">"}else if(a.type==="blank node"){if(r){s+=a.value===r?"_:a":"_:z"}else{s+=a.value}}else{var u=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');s+='"'+u+'"';if(a.datatype===O){if(a.language){s+="@"+a.language}}else if(a.datatype!==y){s+="^^<"+a.datatype+">"}}if(o!==null){if(o.indexOf("_:")!==0){s+=" <"+o+">"}else if(r){s+=" _:g"}else{s+=" "+o}}s+=" .\n";return s}function Ce(e){var t={};t["@default"]=[];var r=e.getSubjects();for(var n=0;n<r.length;++n){var i=r[n];if(i===null){continue}var a=e.getSubjectTriples(i);if(a===null){continue}var o=a.predicates;for(var s in o){var u=o[s].objects;for(var l=0;l<u.length;++l){var f=u[l];var c={};if(i.indexOf("_:")===0){c.subject={type:"blank node",value:i}}else{c.subject={type:"IRI",value:i}}if(s.indexOf("_:")===0){c.predicate={type:"blank node",value:s}}else{c.predicate={type:"IRI",value:s}}var h=f.value;if(f.type===I){if(!d){Be()}var v=new d;h="";for(var g=0;g<f.value.length;g++){if(f.value[g].nodeType===p.ELEMENT_NODE){h+=v.serializeToString(f.value[g])}else if(f.value[g].nodeType===p.TEXT_NODE){h+=f.value[g].nodeValue}}}c.object={};if(f.type===S){if(f.value.indexOf("_:")===0){c.object.type="blank node"}else{c.object.type="IRI"}}else{c.object.type="literal";if(f.type===N){if(f.language){c.object.datatype=O;c.object.language=f.language}else{c.object.datatype=y}}else{c.object.datatype=f.type}}c.object.value=h;t["@default"].push(c)}}}return t}t.registerRDFParser("rdfa-api",Ce);function De(e){this.prefix=e;this.counter=0;this.existing={}}t.UniqueNamer=De;De.prototype.clone=function(){var e=new De(this.prefix);e.counter=this.counter;e.existing=Oe(this.existing);return e};De.prototype.getName=function(e){if(e&&e in this.existing){return this.existing[e]}var t=this.prefix+this.counter;this.counter+=1;if(e){this.existing[e]=t}return t};De.prototype.isNamed=function(e){return e in this.existing};var Ue=function(e){this.list=e.sort();this.done=false;this.left={};for(var t=0;t<e.length;++t){this.left[e[t]]=true}};Ue.prototype.hasNext=function(){return!this.done};Ue.prototype.next=function(){var e=this.list.slice();var t=null;var r=0;var n=this.list.length;for(var i=0;i<n;++i){var a=this.list[i];var o=this.left[a];if((t===null||a>t)&&(o&&i>0&&a>this.list[i-1]||!o&&i<n-1&&a>this.list[i+1])){t=a;r=i}}if(t===null){this.done=true}else{var s=this.left[t]?r-1:r+1;this.list[r]=this.list[s];this.list[s]=t;for(var i=0;i<n;++i){if(this.list[i]>t){this.left[this.list[i]]=!this.left[this.list[i]]}}}return e};var Pe=t.sha1={};if(a){var Me=e("crypto");Pe.create=function(){var e=Me.createHash("sha1");return{update:function(t){e.update(t,"utf8")},digest:function(){return e.digest("hex")}}}}else{Pe.create=function(){return new Pe.MessageDigest}}Pe.hash=function(e){var t=Pe.create();for(var r=0;r<e.length;++r){t.update(e[r])}return t.digest()};if(!a){Pe.Buffer=function(){this.data="";this.read=0};Pe.Buffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};Pe.Buffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};Pe.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};Pe.Buffer.prototype.length=function(){return this.data.length-this.read};Pe.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};Pe.Buffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);if(r<16){e+="0"}e+=r.toString(16)}return e};Pe.MessageDigest=function(){if(!qe.initialized){qe.init()}this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new Pe.Buffer;this.words=new Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};Pe.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e));this.messageLength+=e.length;this.input.data+=e;qe.update(this.state,this.words,this.input);if(this.input.read>2048||this.input.length()===0){this.input.compact()}};Pe.MessageDigest.prototype.digest=function(){var e=this.messageLength;var t=new Pe.Buffer;t.data+=this.input.bytes();t.data+=qe.padding.substr(0,64-(e+8)%64);t.putInt32(e>>>29&255);t.putInt32(e<<3&4294967295);qe.update(this.state,this.words,t);var r=new Pe.Buffer;r.putInt32(this.state.h0);r.putInt32(this.state.h1);r.putInt32(this.state.h2);r.putInt32(this.state.h3);r.putInt32(this.state.h4);return r.toHex()};var qe={padding:null,initialized:false};qe.init=function(){qe.padding=String.fromCharCode(128);var e=String.fromCharCode(0);var t=64;while(t>0){if(t&1){qe.padding+=e}t>>>=1;if(t>0){e+=e}}qe.initialized=true};qe.update=function(e,t,r){var n,i,a,o,s,u,l,f;var c=r.length();while(c>=64){i=e.h0;a=e.h1;o=e.h2;s=e.h3;u=e.h4;for(f=0;f<16;++f){n=r.getInt32();t[f]=n;l=s^a&(o^s);n=(i<<5|i>>>27)+l+u+1518500249+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<20;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=s^a&(o^s);n=(i<<5|i>>>27)+l+u+1518500249+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<32;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+1859775393+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<40;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+1859775393+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<60;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a&o|s&(a^o);n=(i<<5|i>>>27)+l+u+2400959708+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}for(;f<80;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^o^s;n=(i<<5|i>>>27)+l+u+3395469782+n;u=s;s=o;o=a<<30|a>>>2;a=i;i=n}e.h0+=i;e.h1+=a;e.h2+=o;e.h3+=s;e.h4+=u;c-=64}}}if(!d){var Be=function(){d=e("xmldom").XMLSerializer}}t.url={};t.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.url.parse=function(e,r){var n={};var i=t.url.parsers[r||"full"];var a=i.regex.exec(e);var o=i.keys.length;while(o--){n[i.keys[o]]=a[o]===undefined?null:a[o]}n.normalizedPath=Fe(n.path,!!n.authority);return n};function Fe(e,t){var r="";if(e.indexOf("/")===0){r="/"}var n=e.split("/");var i=[];while(n.length>0){if(n[0]==="."||n[0]===""&&n.length>1){n.shift();continue}if(n[0]===".."){n.shift();if(t||i.length>0&&i[i.length-1]!==".."){i.pop()}else{i.push("..")}continue}i.push(n.shift())}return r+i.join("/")}if(a){t.useDocumentLoader("node")}else if(typeof XMLHttpRequest!=="undefined"){t.useDocumentLoader("xhr")}if(a){t.use=function(r){switch(r){case"request":t.request=e("./request");break;default:throw new T("Unknown extension.","jsonld.UnknownExtension",{extension:r})}};var ze={exports:{},filename:i};e("pkginfo")(ze,"version");t.version=ze.exports.version}return t};var u=function(){return s(function(){return u()})};if(!a&&(typeof define==="function"&&define.amd)){define([],function(){s(u);return u})}else{s(u);if(typeof e==="function"&&typeof t!=="undefined"&&t.exports){t.exports=u}if(o){if(typeof jsonld==="undefined"){jsonld=jsonldjs=u}else{jsonldjs=u}}}return u})()}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},"/../../../node_modules/rdf-ext/node_modules/jsonld/js")},{"./request":157,_process:22,crypto:157,"es6-promise":160,http:157,pkginfo:161,request:157,util:157,xmldom:157}],159:[function(e,t,r){arguments[4][57][0].apply(r,arguments)},{dup:57}],160:[function(e,t,r){arguments[4][58][0].apply(r,arguments)},{_process:22,dup:58}],161:[function(e,t,r){(function(r){var n=e("fs"),i=e("path");var a=t.exports=function(e,t){var r=[].slice.call(arguments,2).filter(function(e){return typeof e==="string"});if(Array.isArray(t)){t={include:t}}else if(typeof t==="string"){t={include:[t]}}t=t||{};t.include=t.include||[];if(r.length>0){t.include=t.include.concat(r)}var n=a.read(e,t.dir).package;Object.keys(n).forEach(function(r){if(t.include.length>0&&!~t.include.indexOf(r)){return}if(!e.exports[r]){e.exports[r]=n[r]}});return a};a.find=function(e,t){if(!t){t=i.dirname(e.filename)}var r=n.readdirSync(t);if(~r.indexOf("package.json")){return i.join(t,"package.json")}if(t==="/"){throw new Error("Could not find package.json up from: "+t)}else if(!t||t==="."){throw new Error("Cannot find package.json from unspecified directory")}return a.find(e,i.dirname(t))};a.read=function(e,t){t=a.find(e,t);var r=n.readFileSync(t).toString();return{dir:t,"package":JSON.parse(r)}};a(t,{dir:r,include:["version"],target:a})}).call(this,"/../../../node_modules/rdf-ext/node_modules/jsonld/node_modules/pkginfo/lib")},{fs:11,path:21}],162:[function(e,t,r){arguments[4][82][0].apply(r,arguments)},{"./lib/N3Lexer":163,"./lib/N3Parser":164,"./lib/N3Store":165,"./lib/N3StreamParser":166,"./lib/N3StreamWriter":167,"./lib/N3Util":168,"./lib/N3Writer":169,dup:82}],163:[function(e,t,r){arguments[4][83][0].apply(r,arguments)},{dup:83}],164:[function(e,t,r){arguments[4][84][0].apply(r,arguments)},{"./N3Lexer":163,dup:84}],165:[function(e,t,r){arguments[4][85][0].apply(r,arguments)},{"./N3Util":168,dup:85}],166:[function(e,t,r){arguments[4][86][0].apply(r,arguments)},{"./N3Parser.js":164,dup:86,stream:40,util:53}],167:[function(e,t,r){arguments[4][87][0].apply(r,arguments)},{"./N3Writer.js":169,dup:87,stream:40,util:53}],168:[function(e,t,r){arguments[4][88][0].apply(r,arguments)},{dup:88}],169:[function(e,t,r){arguments[4][89][0].apply(r,arguments)},{dup:89}],170:[function(e,t,r){arguments[4][90][0].apply(r,arguments)},{dup:90}],171:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{"./dom":172,"./sax":173,dup:91}],172:[function(e,t,r){arguments[4][92][0].apply(r,arguments)},{dup:92}],173:[function(e,t,r){arguments[4][93][0].apply(r,arguments)},{dup:93}],174:[function(e,t,r){arguments[4][94][0].apply(r,arguments)},{"./lib/clownface.js":138,"./lib/inmemory-store.js":139,"./lib/jsonld-parser.js":140,"./lib/jsonld-serializer.js":141,"./lib/ldp-store.js":142,"./lib/microdata-parser.js":143,"./lib/ntriples-serializer.js":144,"./lib/promise.js":145,"./lib/rdfstore-store.js":146,"./lib/rdfxml-parser.js":147,"./lib/singlegraph-store.js":148,"./lib/sparql-store.js":149,"./lib/turtle-parser.js":150,
"./lib/turtle-serializer.js":151,"./lib/utils":155,"./lib/utils-browser":153,"./lib/utils-node":154,_process:22,dup:94,"rdf-interfaces":170}]},{},[2]);
