(function e(t,r,n){function i(s,o){if(!r[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}var a=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i})({1:[function(e,t,r){t.exports=window.App=d;var n=e("events").EventEmitter;var i=e("util").inherits;var a=e("virtual-dom/create-element");var s=e("virtual-dom/h");var o=e("virtual-dom/diff");var u=e("virtual-dom/patch");var l=e("../lib/elements/bubbles");var f=e("../lib/elements/users");var c=e("../lib/elements/status");var h=e("../lib/webid-utils").loginTLS;var p=e("webid-get");i(d,n);function d(e,t){var r=this;if(!(r instanceof d))return new d(e);r.currentWindow=t;r.data={webid:null,username:"Anonymous",bubbles:[],activeBubble:null};r.views={bubbles:new l(r),users:new f(r),status:new c(r)};var n=r.render();var i=a(n);e.appendChild(i);function s(){var e=r.render();var t=o(n,e);i=u(i,t);n=e}r.on("render",s);h(function(e,t){if(e||!t)r.emit("webidError");if(e){return console.error(e.message||e)}if(t){r.data.webid=t;p(r.data.webid,function(e,n){if(e)return console.error(e);r.data.username=n.match(t,"http://xmlns.com/foaf/0.1/name").toArray()[0].object.valueOf();console.log(n.match(t,"http://xmlns.com/foaf/0.1/name").toArray()[0].object.valueOf());s()})}s()})}d.prototype.render=function(){var e=this;var t=e.views;var r=e.data;return s("div.layout",[s(".top",[t.status.render(r.username)]),s(".content",[t.bubbles.render(r.bubbles,r.users)])])}},{"../lib/elements/bubbles":4,"../lib/elements/status":5,"../lib/elements/users":6,"../lib/webid-utils":7,events:15,util:51,"virtual-dom/create-element":90,"virtual-dom/diff":91,"virtual-dom/h":92,"virtual-dom/patch":100,"webid-get":123}],2:[function(e,t,r){t.exports=a;var n=e("util").inherits;var i=e("./app.js");n(a,i);function a(){if(!(this instanceof a))return new a;i.call(this,document.body)}a()},{"./app.js":1,util:51}],3:[function(e,t,r){t.exports=a;var n=e("util").inherits;var i=e("events").EventEmitter;function a(e){i.call(this);this.target=e||null}n(a,i);a.prototype.send=function(){if(this.target&&typeof this.target.emit==="function"){this.target.emit.apply(this.target,arguments)}}},{events:15,util:51}],4:[function(e,t,r){t.exports=s;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");function s(e){var t=this;a.call(t,e)}i(s,a);s.prototype.render=function(e,t){e=e.map(function(e){var t="bubble";return n("li",{className:t},[],"#"+e.name)})}},{"./base-element":3,util:51,"virtual-dom/h":92}],5:[function(e,t,r){t.exports=s;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");function s(e){a.call(this,e)}i(s,a);s.prototype.render=function(e){return n(".status",[n(".username",e)])}},{"./base-element":3,util:51,"virtual-dom/h":92}],6:[function(e,t,r){t.exports=s;var n=e("virtual-dom/h");var i=e("util").inherits;var a=e("./base-element");function s(e){var t=this;a.call(t,e)}i(s,a);s.prototype.render=function(e){e=e.map(function(e){var t="users";return n("li",{className:t},[],"#"+e.name)})}},{"./base-element":3,util:51,"virtual-dom/h":92}],7:[function(e,t,r){r.loginTLS=i;var n=e("xhr");function i(e){n({uri:"https://rww.io",withCredentials:true,method:"HEAD"},function(t,r){e(t,r.headers.user)})}},{xhr:124}],8:[function(e,t,r){(function(e,r){(function(){var n={};function i(){}function a(e){return e}function s(e){return!!e}function o(e){return!e}var u;var l=typeof self==="object"&&self.self===self&&self||typeof r==="object"&&r.global===r&&r||this;if(l!=null){u=l.async}n.noConflict=function(){l.async=u;return n};function f(e){return function(){if(e===null)throw new Error("Callback was already called.");e.apply(this,arguments);e=null}}function c(e){return function(){if(e===null)return;e.apply(this,arguments);e=null}}var h=Object.prototype.toString;var p=Array.isArray||function(e){return h.call(e)==="[object Array]"};var d=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};function v(e){return p(e)||typeof e.length==="number"&&e.length>=0&&e.length%1===0}function g(e,t){return v(e)?m(e,t):x(e,t)}function m(e,t){var r=-1,n=e.length;while(++r<n){t(e[r],r,e)}}function b(e,t){var r=-1,n=e.length,i=Array(n);while(++r<n){i[r]=t(e[r],r,e)}return i}function y(e){return b(Array(e),function(e,t){return t})}function w(e,t,r){m(e,function(e,n,i){r=t(r,e,n,i)});return r}function x(e,t){m(E(e),function(r){t(e[r],r)})}function _(e,t){for(var r=0;r<e.length;r++){if(e[r]===t)return r}return-1}var E=Object.keys||function(e){var t=[];for(var r in e){if(e.hasOwnProperty(r)){t.push(r)}}return t};function j(e){var t=-1;var r;var n;if(v(e)){r=e.length;return function i(){t++;return t<r?t:null}}else{n=E(e);r=n.length;return function a(){t++;return t<r?n[t]:null}}}function N(e,t){t=t==null?e.length-1:+t;return function(){var r=Math.max(arguments.length-t,0);var n=Array(r);for(var i=0;i<r;i++){n[i]=arguments[i+t]}switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n)}}}function I(e){return function(t,r,n){return e(t,n)}}var S=typeof setImmediate==="function"&&setImmediate;var R=S?function(e){S(e)}:function(e){setTimeout(e,0)};if(typeof e==="object"&&typeof e.nextTick==="function"){n.nextTick=e.nextTick}else{n.nextTick=R}n.setImmediate=S?R:n.nextTick;n.forEach=n.each=function(e,t,r){return n.eachOf(e,I(t),r)};n.forEachSeries=n.eachSeries=function(e,t,r){return n.eachOfSeries(e,I(t),r)};n.forEachLimit=n.eachLimit=function(e,t,r,n){return O(t)(e,I(r),n)};n.forEachOf=n.eachOf=function(e,t,r){r=c(r||i);e=e||[];var n=v(e)?e.length:E(e).length;var a=0;if(!n){return r(null)}g(e,function(r,n){t(e[n],n,f(s))});function s(e){if(e){r(e)}else{a+=1;if(a>=n){r(null)}}}};n.forEachOfSeries=n.eachOfSeries=function(e,t,r){r=c(r||i);e=e||[];var a=j(e);var s=a();function o(){var i=true;if(s===null){return r(null)}t(e[s],s,f(function(e){if(e){r(e)}else{s=a();if(s===null){return r(null)}else{if(i){n.nextTick(o)}else{o()}}}}));i=false}o()};n.forEachOfLimit=n.eachOfLimit=function(e,t,r,n){O(t)(e,r,n)};function O(e){return function(t,r,n){n=c(n||i);t=t||[];var a=j(t);if(e<=0){return n(null)}var s=false;var o=0;var u=false;(function l(){if(s&&o<=0){return n(null)}while(o<e&&!u){var i=a();if(i===null){s=true;if(o<=0){n(null)}return}o+=1;r(t[i],i,f(function(e){o-=1;if(e){n(e);u=true}else{l()}}))}})()}}function T(e){return function(t,r,i){return e(n.eachOf,t,r,i)}}function k(e){return function(t,r,n,i){return e(O(r),t,n,i)}}function A(e){return function(t,r,i){return e(n.eachOfSeries,t,r,i)}}function C(e,t,r,n){n=c(n||i);var a=[];e(t,function(e,t,n){r(e,function(e,r){a[t]=r;n(e)})},function(e){n(e,a)})}n.map=T(C);n.mapSeries=A(C);n.mapLimit=k(C);n.inject=n.foldl=n.reduce=function(e,t,r,i){n.eachOfSeries(e,function(e,n,i){r(t,e,function(e,r){t=r;i(e)})},function(e){i(e||null,t)})};n.foldr=n.reduceRight=function(e,t,r,i){var s=b(e,a).reverse();n.reduce(s,t,r,i)};function L(e,t,r,n){var i=[];e(t,function(e,t,n){r(e,function(r){if(r){i.push({index:t,value:e})}n()})},function(){n(b(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}n.select=n.filter=T(L);n.selectLimit=n.filterLimit=k(L);n.selectSeries=n.filterSeries=A(L);function P(e,t,r,n){L(e,t,function(e,t){r(e,function(e){t(!e)})},n)}n.reject=T(P);n.rejectLimit=k(P);n.rejectSeries=A(P);function D(e,t,r){return function(n,i,a,s){function o(){if(s)s(r(false,void 0))}function u(e,n,i){if(!s)return i();a(e,function(n){if(s&&t(n)){s(r(true,e));s=a=false}i()})}if(arguments.length>3){e(n,i,u,o)}else{s=a;a=i;e(n,u,o)}}}n.any=n.some=D(n.eachOf,s,a);n.someLimit=D(n.eachOfLimit,s,a);n.all=n.every=D(n.eachOf,o,o);n.everyLimit=D(n.eachOfLimit,o,o);function U(e,t){return t}n.detect=D(n.eachOf,a,U);n.detectSeries=D(n.eachOfSeries,a,U);n.detectLimit=D(n.eachOfLimit,a,U);n.sortBy=function(e,t,r){n.map(e,function(e,r){t(e,function(t,n){if(t){r(t)}else{r(null,{value:e,criteria:n})}})},function(e,t){if(e){return r(e)}else{r(null,b(t.sort(i),function(e){return e.value}))}});function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}};n.auto=function(e,t){t=c(t||i);var r=E(e);var a=r.length;if(!a){return t(null)}var s={};var o=[];function u(e){o.unshift(e)}function l(e){var t=_(o,e);if(t>=0)o.splice(t,1)}function f(){a--;m(o.slice(0),function(e){e()})}u(function(){if(!a){t(null,s)}});m(r,function(r){var i=p(e[r])?e[r]:[e[r]];var a=N(function(e,i){if(i.length<=1){i=i[0]}if(e){var a={};x(s,function(e,t){a[t]=e});a[r]=i;t(e,a)}else{s[r]=i;n.setImmediate(f)}});var o=i.slice(0,i.length-1);var c=o.length;var h;while(c--){if(!(h=e[o[c]])){throw new Error("Has inexistant dependency")}if(p(h)&&_(h,r)>=0){throw new Error("Has cyclic dependencies")}}function d(){return w(o,function(e,t){return e&&s.hasOwnProperty(t)},true)&&!s.hasOwnProperty(r)}if(d()){i[i.length-1](a,s)}else{u(v)}function v(){if(d()){l(v);i[i.length-1](a,s)}}})};n.retry=function(e,t,r){var i=5;var a=0;var s=[];var o={times:i,interval:a};function u(e,t){if(typeof t==="number"){e.times=parseInt(t,10)||i}else if(typeof t==="object"){e.times=parseInt(t.times,10)||i;e.interval=parseInt(t.interval,10)||a}else{throw new Error("Unsupported argument type for 'times': "+typeof t)}}var l=arguments.length;if(l<1||l>3){throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)")}else if(l<=2&&typeof e==="function"){r=t;t=e}if(typeof e!=="function"){u(o,e)}o.callback=r;o.task=t;function f(e,t){function r(e,r){return function(n){e(function(e,t){n(!e||r,{err:e,result:t})},t)}}function i(e){return function(t){setTimeout(function(){t(null)},e)}}while(o.times){var a=!(o.times-=1);s.push(r(o.task,a));if(!a&&o.interval>0){s.push(i(o.interval))}}n.series(s,function(t,r){r=r[r.length-1];(e||o.callback)(r.err,r.result)})}return o.callback?f():f};n.waterfall=function(e,t){t=c(t||i);if(!p(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length){return t()}function a(e){return N(function(r,n){if(r){t.apply(null,[r].concat(n))}else{var i=e.next();if(i){n.push(a(i))}else{n.push(t)}V(e).apply(null,n)}})}a(n.iterator(e))()};function M(e,t,r){r=r||i;var n=v(t)?[]:{};e(t,function(e,t,r){e(N(function(e,i){if(i.length<=1){i=i[0]}n[t]=i;r(e)}))},function(e){r(e,n)})}n.parallel=function(e,t){M(n.eachOf,e,t)};n.parallelLimit=function(e,t,r){M(O(t),e,r)};n.series=function(e,t){M(n.eachOfSeries,e,t)};n.iterator=function(e){function t(r){function n(){if(e.length){e[r].apply(null,arguments)}return n.next()}n.next=function(){return r<e.length-1?t(r+1):null};return n}return t(0)};n.apply=N(function(e,t){return N(function(r){return e.apply(null,t.concat(r))})});function B(e,t,r,n){var i=[];e(t,function(e,t,n){r(e,function(e,t){i=i.concat(t||[]);n(e)})},function(e){n(e,i)})}n.concat=T(B);n.concatSeries=A(B);n.whilst=function(e,t,r){r=r||i;if(e()){var n=N(function(i,a){if(i){r(i)}else if(e.apply(this,a)){t(n)}else{r(null)}});t(n)}else{r(null)}};n.doWhilst=function(e,t,r){var i=0;return n.whilst(function(){return++i<=1||t.apply(this,arguments)},e,r)};n.until=function(e,t,r){return n.whilst(function(){return!e.apply(this,arguments)},t,r)};n.doUntil=function(e,t,r){return n.doWhilst(e,function(){return!t.apply(this,arguments)},r)};n.during=function(e,t,r){r=r||i;var n=N(function(t,n){if(t){r(t)}else{n.push(a);e.apply(this,n)}});var a=function(e,i){if(e){r(e)}else if(i){t(n)}else{r(null)}};e(a)};n.doDuring=function(e,t,r){var i=0;n.during(function(e){if(i++<1){e(null,true)}else{t.apply(this,arguments)}},e,r)};function F(e,t,r){if(t==null){t=1}else if(t===0){throw new Error("Concurrency must not be zero")}function a(e,t,r,a){if(a!=null&&typeof a!=="function"){throw new Error("task callback must be a function")}e.started=true;if(!p(t)){t=[t]}if(t.length===0&&e.idle()){return n.setImmediate(function(){e.drain()})}m(t,function(t){var n={data:t,callback:a||i};if(r){e.tasks.unshift(n)}else{e.tasks.push(n)}if(e.tasks.length===e.concurrency){e.saturated()}});n.setImmediate(e.process)}function s(e,t){return function(){o-=1;var r=arguments;m(t,function(e){e.callback.apply(e,r)});if(e.tasks.length+o===0){e.drain()}e.process()}}var o=0;var u={tasks:[],concurrency:t,payload:r,saturated:i,empty:i,drain:i,started:false,paused:false,push:function(e,t){a(u,e,false,t)},kill:function(){u.drain=i;u.tasks=[]},unshift:function(e,t){a(u,e,true,t)},process:function(){if(!u.paused&&o<u.concurrency&&u.tasks.length){while(o<u.concurrency&&u.tasks.length){var t=u.payload?u.tasks.splice(0,u.payload):u.tasks.splice(0,u.tasks.length);var r=b(t,function(e){return e.data});if(u.tasks.length===0){u.empty()}o+=1;var n=f(s(u,t));e(r,n)}}},length:function(){return u.tasks.length},running:function(){return o},idle:function(){return u.tasks.length+o===0},pause:function(){u.paused=true},resume:function(){if(u.paused===false){return}u.paused=false;var e=Math.min(u.concurrency,u.tasks.length);for(var t=1;t<=e;t++){n.setImmediate(u.process)}}};return u}n.queue=function(e,t){var r=F(function(t,r){e(t[0],r)},t,1);return r};n.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}function a(e,t,r){var n=-1,i=e.length-1;while(n<i){var a=n+(i-n+1>>>1);if(r(t,e[a])>=0){n=a}else{i=a-1}}return n}function s(e,t,s,o){if(o!=null&&typeof o!=="function"){throw new Error("task callback must be a function")}e.started=true;if(!p(t)){t=[t]}if(t.length===0){return n.setImmediate(function(){e.drain()})}m(t,function(t){var u={data:t,priority:s,callback:typeof o==="function"?o:i};e.tasks.splice(a(e.tasks,u,r)+1,0,u);if(e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)})}var o=n.queue(e,t);o.push=function(e,t,r){s(o,e,t,r)};delete o.unshift;return o};n.cargo=function(e,t){return F(e,1,t)};function q(e){return N(function(t,r){t.apply(null,r.concat([N(function(t,r){if(typeof console==="object"){if(t){if(console.error){console.error(t)}}else if(console[e]){m(r,function(t){console[e](t)})}}})]))})}n.log=q("log");n.dir=q("dir");n.memoize=function(e,t){var r={};var i={};t=t||a;var s=N(function o(a){var s=a.pop();var o=t.apply(null,a);if(o in r){n.nextTick(function(){s.apply(null,r[o])})}else if(o in i){i[o].push(s)}else{i[o]=[s];e.apply(null,a.concat([N(function(e){r[o]=e;var t=i[o];delete i[o];for(var n=0,a=t.length;n<a;n++){t[n].apply(null,e)}})]))}});s.memo=r;s.unmemoized=e;return s};n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};function z(e){return function(t,r,n){e(y(t),r,n)}}n.times=z(n.map);n.timesSeries=z(n.mapSeries);n.timesLimit=function(e,t,r,i){return n.mapLimit(y(e),t,r,i)};n.seq=function(){var e=arguments;return N(function(t){var r=this;var a=t[t.length-1];if(typeof a=="function"){t.pop()}else{a=i}n.reduce(e,t,function(e,t,n){t.apply(r,e.concat([N(function(e,t){n(e,t)})]))},function(e,t){a.apply(r,[e].concat(t))})})};n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};function G(e){return N(function(t,r){var n=N(function(r){var n=this;var i=r.pop();return e(t,function(e,t,i){e.apply(n,r.concat([i]))},i)});if(r.length){return n.apply(this,r)}else{return n}})}n.applyEach=G(n.eachOf);n.applyEachSeries=G(n.eachOfSeries);n.forever=function(e,t){var r=f(t||i);var n=V(e);function a(e){if(e){return r(e)}n(a)}a()};function V(e){return N(function(t){var r=t.pop();t.push(function(){var e=arguments;if(i){n.setImmediate(function(){r.apply(null,e)})}else{r.apply(null,e)}});var i=true;e.apply(this,t);i=false})}n.ensureAsync=V;n.constant=N(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}});n.wrapSync=n.asyncify=function H(e){return N(function(t){var r=t.pop();var n;try{n=e.apply(this,t)}catch(i){return r(i)}if(d(n)&&typeof n.then==="function"){n.then(function(e){r(null,e)})["catch"](function(e){r(e.message?e:new Error(e))})}else{r(null,n)}})};if(typeof t==="object"&&t.exports){t.exports=n}else if(typeof define==="function"&&define.amd){define([],function(){return n})}else{l.async=n}})()}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:20}],9:[function(e,t,r){},{}],10:[function(e,t,r){arguments[4][9][0].apply(r,arguments)},{dup:9}],11:[function(e,t,r){var n=e("base64-js");var i=e("ieee754");var a=e("is-array");r.Buffer=u;r.SlowBuffer=w;r.INSPECT_MAX_BYTES=50;u.poolSize=8192;var s={};u.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new Uint8Array(1);t.foo=function(){return 42};t.constructor=e;return t.foo()===42&&t.constructor===e&&typeof t.subarray==="function"&&t.subarray(1,1).byteLength===0}catch(r){return false}}();function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e){if(!(this instanceof u)){if(arguments.length>1)return new u(e,arguments[1]);return new u(e)}this.length=0;this.parent=undefined;if(typeof e==="number"){return l(this,e)}if(typeof e==="string"){return f(this,e,arguments.length>1?arguments[1]:"utf8")}return c(this,e)}function l(e,t){e=b(e,t<0?0:y(t)|0);if(!u.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;r++){e[r]=0}}return e}function f(e,t,r){if(typeof r!=="string"||r==="")r="utf8";var n=x(t,r)|0;e=b(e,n);e.write(t,r);return e}function c(e,t){if(u.isBuffer(t))return h(e,t);if(a(t))return p(e,t);if(t==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(t.buffer instanceof ArrayBuffer){return d(e,t)}if(t instanceof ArrayBuffer){return v(e,t)}}if(t.length)return g(e,t);return m(e,t)}function h(e,t){var r=y(t.length)|0;e=b(e,r);t.copy(e,0,0,r);return e}function p(e,t){var r=y(t.length)|0;e=b(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function d(e,t){var r=y(t.length)|0;e=b(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function v(e,t){if(u.TYPED_ARRAY_SUPPORT){t.byteLength;e=u._augment(new Uint8Array(t))}else{e=d(e,new Uint8Array(t))}return e}function g(e,t){var r=y(t.length)|0;e=b(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function m(e,t){var r;var n=0;if(t.type==="Buffer"&&a(t.data)){r=t.data;n=y(r.length)|0}e=b(e,n);for(var i=0;i<n;i+=1){e[i]=r[i]&255}return e}function b(e,t){if(u.TYPED_ARRAY_SUPPORT){e=u._augment(new Uint8Array(t))}else{e.length=t;e._isBuffer=true}var r=t!==0&&t<=u.poolSize>>>1;if(r)e.parent=s;return e}function y(e){if(e>=o()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o().toString(16)+" bytes")}return e|0}function w(e,t){if(!(this instanceof w))return new w(e,t);var r=new u(e,t);delete r.parent;return r}u.isBuffer=function K(e){return!!(e!=null&&e._isBuffer)};u.compare=function Q(e,t){if(!u.isBuffer(e)||!u.isBuffer(t)){throw new TypeError("Arguments must be Buffers")}if(e===t)return 0;var r=e.length;var n=t.length;var i=0;var a=Math.min(r,n);while(i<a){if(e[i]!==t[i])break;++i}if(i!==a){r=e[i];n=t[i]}if(r<n)return-1;if(n<r)return 1;return 0};u.isEncoding=function ee(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};u.concat=function te(e,t){if(!a(e))throw new TypeError("list argument must be an Array of Buffers.");if(e.length===0){return new u(0)}var r;if(t===undefined){t=0;for(r=0;r<e.length;r++){t+=e[r].length}}var n=new u(t);var i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(n,i);i+=s.length}return n};function x(e,t){if(typeof e!=="string")e=""+e;var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return J(e).length;t=(""+t).toLowerCase();n=true}}}u.byteLength=x;u.prototype.length=undefined;u.prototype.parent=undefined;function _(e,t,r){var n=false;t=t|0;r=r===undefined||r===Infinity?this.length:r|0;if(!e)e="utf8";if(t<0)t=0;if(r>this.length)r=this.length;if(r<=t)return"";while(true){switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return k(this,t,r);case"binary":return A(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}u.prototype.toString=function re(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return T(this,0,e);return _.apply(this,arguments)};u.prototype.equals=function ne(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return u.compare(this,e)===0};u.prototype.inspect=function ie(){var e="";var t=r.INSPECT_MAX_BYTES;if(this.length>0){e=this.toString("hex",0,t).match(/.{2}/g).join(" ");if(this.length>t)e+=" ... "}return"<Buffer "+e+">"};u.prototype.compare=function ae(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return 0;return u.compare(this,e)};u.prototype.indexOf=function se(e,t){if(t>2147483647)t=2147483647;else if(t<-2147483648)t=-2147483648;t>>=0;if(this.length===0)return-1;if(t>=this.length)return-1;if(t<0)t=Math.max(this.length+t,0);if(typeof e==="string"){if(e.length===0)return-1;return String.prototype.indexOf.call(this,e,t)}if(u.isBuffer(e)){return r(this,e,t)}if(typeof e==="number"){if(u.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,e,t)}return r(this,[e],t)}function r(e,t,r){var n=-1;for(var i=0;r+i<e.length;i++){if(e[r+i]===t[n===-1?0:i-n]){if(n===-1)n=i;if(i-n+1===t.length)return r+n}else{n=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};u.prototype.get=function oe(e){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(e)};u.prototype.set=function ue(e,t){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(e,t)};function E(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var a=t.length;if(a%2!==0)throw new Error("Invalid hex string");if(n>a/2){n=a/2}for(var s=0;s<n;s++){var o=parseInt(t.substr(s*2,2),16);if(isNaN(o))throw new Error("Invalid hex string");e[r+s]=o}return s}function j(e,t,r,n){return Z(J(t,e.length-r),e,r,n)}function N(e,t,r,n){return Z($(t),e,r,n)}function I(e,t,r,n){return N(e,t,r,n)}function S(e,t,r,n){return Z(W(t),e,r,n)}function R(e,t,r,n){return Z(Y(t,e.length-r),e,r,n)}u.prototype.write=function le(e,t,r,n){if(t===undefined){n="utf8";r=this.length;t=0}else if(r===undefined&&typeof t==="string"){n=t;r=this.length;t=0}else if(isFinite(t)){t=t|0;if(isFinite(r)){r=r|0;if(n===undefined)n="utf8"}else{n=r;r=undefined}}else{var i=n;n=t;t=r|0;r=i}var a=this.length-t;if(r===undefined||r>a)r=a;if(e.length>0&&(r<0||t<0)||t>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!n)n="utf8";var s=false;for(;;){switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return j(this,e,t,r);case"ascii":return N(this,e,t,r);case"binary":return I(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase();s=true}}};u.prototype.toJSON=function fe(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function T(e,t,r){r=Math.min(e.length,r);var n;var i;var a;var s;var o;var u;var l;var f=[];var c=t;for(;c<r;c+=o){n=e[c];l=65533;if(n>239){o=4}else if(n>223){o=3}else if(n>191){o=2}else{o=1}if(c+o<=r){switch(o){case 1:if(n<128){l=n}break;case 2:i=e[c+1];if((i&192)===128){u=(n&31)<<6|i&63;if(u>127){l=u}}break;case 3:i=e[c+1];a=e[c+2];if((i&192)===128&&(a&192)===128){u=(n&15)<<12|(i&63)<<6|a&63;if(u>2047&&(u<55296||u>57343)){l=u}}break;case 4:i=e[c+1];a=e[c+2];s=e[c+3];if((i&192)===128&&(a&192)===128&&(s&192)===128){u=(n&15)<<18|(i&63)<<12|(a&63)<<6|s&63;if(u>65535&&u<1114112){l=u}}}}if(l===65533){o=1}else if(l>65535){l-=65536;f.push(l>>>10&1023|55296);l=56320|l&1023}f.push(l)}return String.fromCharCode.apply(String,f)}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;i++){n+=String.fromCharCode(e[i]&127)}return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;i++){n+=String.fromCharCode(e[i])}return n}function C(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var a=t;a<r;a++){i+=X(e[a])}return i}function L(e,t,r){var n=e.slice(t,r);var i="";for(var a=0;a<n.length;a+=2){i+=String.fromCharCode(n[a]+n[a+1]*256)}return i}u.prototype.slice=function ce(e,t){var r=this.length;e=~~e;t=t===undefined?r:~~t;if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(t<e)t=e;var n;if(u.TYPED_ARRAY_SUPPORT){n=u._augment(this.subarray(e,t))}else{var i=t-e;n=new u(i,undefined);for(var a=0;a<i;a++){n[a]=this[a+e]}}if(n.length)n.parent=this.parent||this;return n};function P(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUIntLE=function he(e,t,r){e=e|0;t=t|0;if(!r)P(e,t,this.length);var n=this[e];var i=1;var a=0;while(++a<t&&(i*=256)){n+=this[e+a]*i}return n};u.prototype.readUIntBE=function pe(e,t,r){e=e|0;t=t|0;if(!r){P(e,t,this.length)}var n=this[e+--t];var i=1;while(t>0&&(i*=256)){n+=this[e+--t]*i}return n};u.prototype.readUInt8=function de(e,t){if(!t)P(e,1,this.length);return this[e]};u.prototype.readUInt16LE=function ve(e,t){if(!t)P(e,2,this.length);return this[e]|this[e+1]<<8};u.prototype.readUInt16BE=function ge(e,t){if(!t)P(e,2,this.length);return this[e]<<8|this[e+1]};u.prototype.readUInt32LE=function me(e,t){if(!t)P(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};u.prototype.readUInt32BE=function be(e,t){if(!t)P(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};u.prototype.readIntLE=function ye(e,t,r){e=e|0;t=t|0;if(!r)P(e,t,this.length);var n=this[e];var i=1;var a=0;while(++a<t&&(i*=256)){n+=this[e+a]*i}i*=128;if(n>=i)n-=Math.pow(2,8*t);return n};u.prototype.readIntBE=function we(e,t,r){e=e|0;t=t|0;if(!r)P(e,t,this.length);var n=t;var i=1;var a=this[e+--n];while(n>0&&(i*=256)){a+=this[e+--n]*i}i*=128;if(a>=i)a-=Math.pow(2,8*t);return a};u.prototype.readInt8=function xe(e,t){if(!t)P(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};u.prototype.readInt16LE=function _e(e,t){if(!t)P(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};u.prototype.readInt16BE=function Ee(e,t){if(!t)P(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};u.prototype.readInt32LE=function je(e,t){if(!t)P(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};u.prototype.readInt32BE=function Ne(e,t){if(!t)P(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};u.prototype.readFloatLE=function Ie(e,t){if(!t)P(e,4,this.length);return i.read(this,e,true,23,4)};u.prototype.readFloatBE=function Se(e,t){if(!t)P(e,4,this.length);return i.read(this,e,false,23,4)};u.prototype.readDoubleLE=function Re(e,t){if(!t)P(e,8,this.length);return i.read(this,e,true,52,8)};u.prototype.readDoubleBE=function Oe(e,t){if(!t)P(e,8,this.length);return i.read(this,e,false,52,8)};function D(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<a)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}u.prototype.writeUIntLE=function Te(e,t,r,n){e=+e;t=t|0;r=r|0;if(!n)D(this,e,t,r,Math.pow(2,8*r),0);var i=1;var a=0;this[t]=e&255;while(++a<r&&(i*=256)){this[t+a]=e/i&255}return t+r};u.prototype.writeUIntBE=function ke(e,t,r,n){e=+e;t=t|0;r=r|0;if(!n)D(this,e,t,r,Math.pow(2,8*r),0);var i=r-1;var a=1;this[t+i]=e&255;while(--i>=0&&(a*=256)){this[t+i]=e/a&255}return t+r};u.prototype.writeUInt8=function Ae(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,1,255,0);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[t]=e;return t+1};function U(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,a=Math.min(e.length-r,2);i<a;i++){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}u.prototype.writeUInt16LE=function Ce(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{U(this,e,t,true)}return t+2};u.prototype.writeUInt16BE=function Le(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,2,65535,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{U(this,e,t,false)}return t+2};function M(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,a=Math.min(e.length-r,4);i<a;i++){e[r+i]=t>>>(n?i:3-i)*8&255}}u.prototype.writeUInt32LE=function Pe(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e}else{M(this,e,t,true)}return t+4};u.prototype.writeUInt32BE=function De(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,4,4294967295,0);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{M(this,e,t,false)}return t+4};u.prototype.writeIntLE=function Ue(e,t,r,n){e=+e;t=t|0;if(!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0;var s=1;var o=e<0?1:0;this[t]=e&255;while(++a<r&&(s*=256)){this[t+a]=(e/s>>0)-o&255}return t+r};u.prototype.writeIntBE=function Me(e,t,r,n){e=+e;t=t|0;if(!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1;var s=1;var o=e<0?1:0;this[t+a]=e&255;while(--a>=0&&(s*=256)){this[t+a]=(e/s>>0)-o&255}return t+r};u.prototype.writeInt8=function Be(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,1,127,-128);if(!u.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[t]=e;return t+1};u.prototype.writeInt16LE=function Fe(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8}else{U(this,e,t,true)}return t+2};u.prototype.writeInt16BE=function qe(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,2,32767,-32768);if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>8;this[t+1]=e}else{U(this,e,t,false)}return t+2};u.prototype.writeInt32LE=function ze(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,4,2147483647,-2147483648);if(u.TYPED_ARRAY_SUPPORT){this[t]=e;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24}else{M(this,e,t,true)}return t+4};u.prototype.writeInt32BE=function Ge(e,t,r){e=+e;t=t|0;if(!r)D(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(u.TYPED_ARRAY_SUPPORT){this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e}else{M(this,e,t,false)}return t+4};function B(e,t,r,n,i,a){if(t>i||t<a)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function F(e,t,r,n,a){if(!a){B(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38)}i.write(e,t,r,n,23,4);return r+4}u.prototype.writeFloatLE=function Ve(e,t,r){return F(this,e,t,true,r)};u.prototype.writeFloatBE=function He(e,t,r){return F(this,e,t,false,r)};function q(e,t,r,n,a){if(!a){B(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308)}i.write(e,t,r,n,52,8);return r+8}u.prototype.writeDoubleLE=function Xe(e,t,r){return q(this,e,t,true,r)};u.prototype.writeDoubleBE=function Je(e,t,r){return q(this,e,t,false,r)};u.prototype.copy=function $e(e,t,r,n){if(!r)r=0;if(!n&&n!==0)n=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(n>0&&n<r)n=r;if(n===r)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length)n=this.length;if(e.length-t<n-r){n=e.length-t+r}var i=n-r;var a;if(this===e&&r<t&&t<n){for(a=i-1;a>=0;a--){e[a+t]=this[a+r]}}else if(i<1e3||!u.TYPED_ARRAY_SUPPORT){
for(a=0;a<i;a++){e[a+t]=this[a+r]}}else{e._set(this.subarray(r,r+i),t)}return i};u.prototype.fill=function Ye(e,t,r){if(!e)e=0;if(!t)t=0;if(!r)r=this.length;if(r<t)throw new RangeError("end < start");if(r===t)return;if(this.length===0)return;if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if(typeof e==="number"){for(n=t;n<r;n++){this[n]=e}}else{var i=J(e.toString());var a=i.length;for(n=t;n<r;n++){this[n]=i[n%a]}}return this};u.prototype.toArrayBuffer=function We(){if(typeof Uint8Array!=="undefined"){if(u.TYPED_ARRAY_SUPPORT){return new u(this).buffer}else{var e=new Uint8Array(this.length);for(var t=0,r=e.length;t<r;t+=1){e[t]=this[t]}return e.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var z=u.prototype;u._augment=function Ze(e){e.constructor=u;e._isBuffer=true;e._set=e.set;e.get=z.get;e.set=z.set;e.write=z.write;e.toString=z.toString;e.toLocaleString=z.toString;e.toJSON=z.toJSON;e.equals=z.equals;e.compare=z.compare;e.indexOf=z.indexOf;e.copy=z.copy;e.slice=z.slice;e.readUIntLE=z.readUIntLE;e.readUIntBE=z.readUIntBE;e.readUInt8=z.readUInt8;e.readUInt16LE=z.readUInt16LE;e.readUInt16BE=z.readUInt16BE;e.readUInt32LE=z.readUInt32LE;e.readUInt32BE=z.readUInt32BE;e.readIntLE=z.readIntLE;e.readIntBE=z.readIntBE;e.readInt8=z.readInt8;e.readInt16LE=z.readInt16LE;e.readInt16BE=z.readInt16BE;e.readInt32LE=z.readInt32LE;e.readInt32BE=z.readInt32BE;e.readFloatLE=z.readFloatLE;e.readFloatBE=z.readFloatBE;e.readDoubleLE=z.readDoubleLE;e.readDoubleBE=z.readDoubleBE;e.writeUInt8=z.writeUInt8;e.writeUIntLE=z.writeUIntLE;e.writeUIntBE=z.writeUIntBE;e.writeUInt16LE=z.writeUInt16LE;e.writeUInt16BE=z.writeUInt16BE;e.writeUInt32LE=z.writeUInt32LE;e.writeUInt32BE=z.writeUInt32BE;e.writeIntLE=z.writeIntLE;e.writeIntBE=z.writeIntBE;e.writeInt8=z.writeInt8;e.writeInt16LE=z.writeInt16LE;e.writeInt16BE=z.writeInt16BE;e.writeInt32LE=z.writeInt32LE;e.writeInt32BE=z.writeInt32BE;e.writeFloatLE=z.writeFloatLE;e.writeFloatBE=z.writeFloatBE;e.writeDoubleLE=z.writeDoubleLE;e.writeDoubleBE=z.writeDoubleBE;e.fill=z.fill;e.inspect=z.inspect;e.toArrayBuffer=z.toArrayBuffer;return e};var G=/[^+\/0-9A-Za-z-_]/g;function V(e){e=H(e).replace(G,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function H(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function X(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function J(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var a=[];for(var s=0;s<n;s++){r=e.charCodeAt(s);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)a.push(239,191,189);continue}else if(s+1===n){if((t-=3)>-1)a.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)a.push(239,191,189);i=r;continue}r=i-55296<<10|r-56320|65536}else if(i){if((t-=3)>-1)a.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return a}function $(e){var t=[];for(var r=0;r<e.length;r++){t.push(e.charCodeAt(r)&255)}return t}function Y(e,t){var r,n,i;var a=[];for(var s=0;s<e.length;s++){if((t-=2)<0)break;r=e.charCodeAt(s);n=r>>8;i=r%256;a.push(i);a.push(n)}return a}function W(e){return n.toByteArray(V(e))}function Z(e,t,r,n){for(var i=0;i<n;i++){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}},{"base64-js":12,ieee754:13,"is-array":14}],12:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(e){"use strict";var t=typeof Uint8Array!=="undefined"?Uint8Array:Array;var r="+".charCodeAt(0);var i="/".charCodeAt(0);var a="0".charCodeAt(0);var s="a".charCodeAt(0);var o="A".charCodeAt(0);var u="-".charCodeAt(0);var l="_".charCodeAt(0);function f(e){var t=e.charCodeAt(0);if(t===r||t===u)return 62;if(t===i||t===l)return 63;if(t<a)return-1;if(t<a+10)return t-a+26+26;if(t<o+26)return t-o;if(t<s+26)return t-s+26}function c(e){var r,n,i,a,s,o;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var u=e.length;s="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0;o=new t(e.length*3/4-s);i=s>0?e.length-4:e.length;var l=0;function c(e){o[l++]=e}for(r=0,n=0;r<i;r+=4,n+=3){a=f(e.charAt(r))<<18|f(e.charAt(r+1))<<12|f(e.charAt(r+2))<<6|f(e.charAt(r+3));c((a&16711680)>>16);c((a&65280)>>8);c(a&255)}if(s===2){a=f(e.charAt(r))<<2|f(e.charAt(r+1))>>4;c(a&255)}else if(s===1){a=f(e.charAt(r))<<10|f(e.charAt(r+1))<<4|f(e.charAt(r+2))>>2;c(a>>8&255);c(a&255)}return o}function h(e){var t,r=e.length%3,i="",a,s;function o(e){return n.charAt(e)}function u(e){return o(e>>18&63)+o(e>>12&63)+o(e>>6&63)+o(e&63)}for(t=0,s=e.length-r;t<s;t+=3){a=(e[t]<<16)+(e[t+1]<<8)+e[t+2];i+=u(a)}switch(r){case 1:a=e[e.length-1];i+=o(a>>2);i+=o(a<<4&63);i+="==";break;case 2:a=(e[e.length-2]<<8)+e[e.length-1];i+=o(a>>10);i+=o(a>>4&63);i+=o(a<<2&63);i+="=";break}return i}e.toByteArray=c;e.fromByteArray=h})(typeof r==="undefined"?this.base64js={}:r)},{}],13:[function(e,t,r){r.read=function(e,t,r,n,i){var a,s;var o=i*8-n-1;var u=(1<<o)-1;var l=u>>1;var f=-7;var c=r?i-1:0;var h=r?-1:1;var p=e[t+c];c+=h;a=p&(1<<-f)-1;p>>=-f;f+=o;for(;f>0;a=a*256+e[t+c],c+=h,f-=8){}s=a&(1<<-f)-1;a>>=-f;f+=n;for(;f>0;s=s*256+e[t+c],c+=h,f-=8){}if(a===0){a=1-l}else if(a===u){return s?NaN:(p?-1:1)*Infinity}else{s=s+Math.pow(2,n);a=a-l}return(p?-1:1)*s*Math.pow(2,a-n)};r.write=function(e,t,r,n,i,a){var s,o,u;var l=a*8-i-1;var f=(1<<l)-1;var c=f>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=n?0:a-1;var d=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){o=isNaN(t)?1:0;s=f}else{s=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-s))<1){s--;u*=2}if(s+c>=1){t+=h/u}else{t+=h*Math.pow(2,1-c)}if(t*u>=2){s++;u/=2}if(s+c>=f){o=0;s=f}else if(s+c>=1){o=(t*u-1)*Math.pow(2,i);s=s+c}else{o=t*Math.pow(2,c-1)*Math.pow(2,i);s=0}}for(;i>=8;e[r+p]=o&255,p+=d,o/=256,i-=8){}s=s<<i|o;l+=i;for(;l>0;e[r+p]=s&255,p+=d,s/=256,l-=8){}e[r+p-d]|=v*128}},{}],14:[function(e,t,r){var n=Array.isArray;var i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],15:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=n;n.EventEmitter=n;n.prototype._events=undefined;n.prototype._maxListeners=undefined;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,a,u,l;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||s(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}r=this._events[e];if(o(r))return false;if(i(r)){switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;a=new Array(n-1);for(u=1;u<n;u++)a[u-1]=arguments[u];r.apply(this,a)}}else if(s(r)){n=arguments.length;a=new Array(n-1);for(u=1;u<n;u++)a[u-1]=arguments[u];l=r.slice();n=l.length;for(u=0;u<n;u++)l[u].apply(this,a)}return true};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(s(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(s(this._events[e])&&!this._events[e].warned){var r;if(!o(this._maxListeners)){r=this._maxListeners}else{r=n.defaultMaxListeners}if(r&&r>0&&this._events[e].length>r){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=false;function n(){this.removeListener(e,n);if(!r){r=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var r,n,a,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(s(r)){for(o=a;o-->0;){if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}}if(n<0)return this;if(r.length===1){r.length=0;delete this._events[e]}else{r.splice(n,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r)){this.removeListener(e,r)}else{while(r.length)this.removeListener(e,r[r.length-1])}delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.listenerCount=function(e,t){var r;if(!e._events||!e._events[t])r=0;else if(i(e._events[t]))r=1;else r=e._events[t].length;return r};function i(e){return typeof e==="function"}function a(e){return typeof e==="number"}function s(e){return typeof e==="object"&&e!==null}function o(e){return e===void 0}},{}],16:[function(e,t,r){var n=e("http");var i=t.exports;for(var a in n){if(n.hasOwnProperty(a))i[a]=n[a]}i.request=function(e,t){if(!e)e={};e.scheme="https";return n.request.call(this,e,t)}},{http:39}],17:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function n(e,t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype;e.prototype=new r;e.prototype.constructor=e}}},{}],18:[function(e,t,r){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],19:[function(e,t,r){(function(e){function t(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var i=function(e){return n.exec(e).slice(1)};r.resolve=function(){var r="",n=false;for(var i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:e.cwd();if(typeof s!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!s){continue}r=s+"/"+r;n=s.charAt(0)==="/"}r=t(a(r.split("/"),function(e){return!!e}),!n).join("/");return(n?"/":"")+r||"."};r.normalize=function(e){var n=r.isAbsolute(e),i=s(e,-1)==="/";e=t(a(e.split("/"),function(e){return!!e}),!n).join("/");if(!e&&!n){e="."}if(e&&i){e+="/"}return(n?"/":"")+e};r.isAbsolute=function(e){return e.charAt(0)==="/"};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(a(e,function(e,t){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e}).join("/"))};r.relative=function(e,t){e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=n(e.split("/"));var a=n(t.split("/"));var s=Math.min(i.length,a.length);var o=s;for(var u=0;u<s;u++){if(i[u]!==a[u]){o=u;break}}var l=[];for(var u=o;u<i.length;u++){l.push("..")}l=l.concat(a.slice(o));return l.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){var t=i(e),r=t[0],n=t[1];if(!r&&!n){return"."}if(n){n=n.substr(0,n.length-1)}return r+n};r.basename=function(e,t){var r=i(e)[2];if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};r.extname=function(e){return i(e)[3]};function a(e,t){if(e.filter)return e.filter(t);var r=[];for(var n=0;n<e.length;n++){if(t(e[n],n,e))r.push(e[n])}return r}var s="ab".substr(-1)==="b"?function(e,t,r){return e.substr(t,r)}:function(e,t,r){if(t<0)t=e.length+t;return e.substr(t,r)}}).call(this,e("_process"))},{_process:20}],20:[function(e,t,r){var n=t.exports={};var i=[];var a=false;var s;var o=-1;function u(){a=false;if(s.length){i=s.concat(i)}else{o=-1}if(i.length){l()}}function l(){if(a){return}var e=setTimeout(u);a=true;var t=i.length;while(t){s=i;i=[];while(++o<t){s[o].run()}o=-1;t=i.length}s=null;a=false;clearTimeout(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new f(e,t));if(i.length===1&&!a){setTimeout(l,0)}};function f(e,t){this.fun=e;this.array=t}f.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function c(){}n.on=c;n.addListener=c;n.once=c;n.off=c;n.removeListener=c;n.removeAllListeners=c;n.emit=c;n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],21:[function(e,t,r){(function(e){(function(n){var i=typeof r=="object"&&r&&!r.nodeType&&r;var a=typeof t=="object"&&t&&!t.nodeType&&t;var s=typeof e=="object"&&e;if(s.global===s||s.window===s||s.self===s){n=s}var o,u=2147483647,l=36,f=1,c=26,h=38,p=700,d=72,v=128,g="-",m=/^xn--/,b=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-f,_=Math.floor,E=String.fromCharCode,j;function N(e){throw RangeError(w[e])}function I(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function S(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(y,".");var i=e.split(".");var a=I(i,t).join(".");return n+a}function R(e){var t=[],r=0,n=e.length,i,a;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){a=e.charCodeAt(r++);if((a&64512)==56320){t.push(((i&1023)<<10)+(a&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function O(e){return I(e,function(e){var t="";if(e>65535){e-=65536;t+=E(e>>>10&1023|55296);e=56320|e&1023}t+=E(e);return t}).join("")}function T(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return l}function k(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function A(e,t,r){var n=0;e=r?_(e/p):e>>1;e+=_(e/t);for(;e>x*c>>1;n+=l){e=_(e/x)}return _(n+(x+1)*e/(e+h))}function C(e){var t=[],r=e.length,n,i=0,a=v,s=d,o,h,p,m,b,y,w,x,E;o=e.lastIndexOf(g);if(o<0){o=0}for(h=0;h<o;++h){if(e.charCodeAt(h)>=128){N("not-basic")}t.push(e.charCodeAt(h))}for(p=o>0?o+1:0;p<r;){for(m=i,b=1,y=l;;y+=l){if(p>=r){N("invalid-input")}w=T(e.charCodeAt(p++));if(w>=l||w>_((u-i)/b)){N("overflow")}i+=w*b;x=y<=s?f:y>=s+c?c:y-s;if(w<x){break}E=l-x;if(b>_(u/E)){N("overflow")}b*=E}n=t.length+1;s=A(i-m,n,m==0);if(_(i/n)>u-a){N("overflow")}a+=_(i/n);i%=n;t.splice(i++,0,a)}return O(t)}function L(e){var t,r,n,i,a,s,o,h,p,m,b,y=[],w,x,j,I;e=R(e);w=e.length;t=v;r=0;a=d;for(s=0;s<w;++s){b=e[s];if(b<128){y.push(E(b))}}n=i=y.length;if(i){y.push(g)}while(n<w){for(o=u,s=0;s<w;++s){b=e[s];if(b>=t&&b<o){o=b}}x=n+1;if(o-t>_((u-r)/x)){N("overflow")}r+=(o-t)*x;t=o;for(s=0;s<w;++s){b=e[s];if(b<t&&++r>u){N("overflow")}if(b==t){for(h=r,p=l;;p+=l){m=p<=a?f:p>=a+c?c:p-a;if(h<m){break}I=h-m;j=l-m;y.push(E(k(m+I%j,0)));h=_(I/j)}y.push(E(k(h,0)));a=A(r,x,n==i);r=0;++n}}++r;++t}return y.join("")}function P(e){return S(e,function(e){return m.test(e)?C(e.slice(4).toLowerCase()):e})}function D(e){return S(e,function(e){return b.test(e)?"xn--"+L(e):e})}o={version:"1.3.2",ucs2:{decode:R,encode:O},decode:C,encode:L,toASCII:D,toUnicode:P};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return o})}else if(i&&a){if(t.exports==i){a.exports=o}else{for(j in o){o.hasOwnProperty(j)&&(i[j]=o[j])}}}else{n.punycode=o}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],22:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,a){t=t||"&";r=r||"=";var s={};if(typeof e!=="string"||e.length===0){return s}var o=/\+/g;e=e.split(t);var u=1e3;if(a&&typeof a.maxKeys==="number"){u=a.maxKeys}var l=e.length;if(u>0&&l>u){l=u}for(var f=0;f<l;++f){var c=e[f].replace(o,"%20"),h=c.indexOf(r),p,d,v,g;if(h>=0){p=c.substr(0,h);d=c.substr(h+1)}else{p=c;d=""}v=decodeURIComponent(p);g=decodeURIComponent(d);if(!n(s,v)){s[v]=g}else if(i(s[v])){s[v].push(g)}else{s[v]=[s[v],g]}}return s};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],23:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,o){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return a(s(e),function(s){var o=encodeURIComponent(n(s))+r;if(i(e[s])){return a(e[s],function(e){return o+encodeURIComponent(n(e))}).join(t)}else{return o+encodeURIComponent(n(e[s]))}}).join(t)}if(!o)return"";return encodeURIComponent(n(o))+r+encodeURIComponent(n(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function a(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var s=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},{}],24:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode");r.encode=r.stringify=e("./encode")},{"./decode":22,"./encode":23}],25:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":26}],26:[function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("process-nextick-args");var a=e("core-util-is");a.inherits=e("inherits");var s=e("./_stream_readable");var o=e("./_stream_writable");a.inherits(c,s);var u=n(o.prototype);for(var l=0;l<u.length;l++){var f=u[l];if(!c.prototype[f])c.prototype[f]=o.prototype[f]}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e);o.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}function h(){if(this.allowHalfOpen||this._writableState.ended)return;i(p,this)}function p(e){e.end()}function d(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}},{"./_stream_readable":28,"./_stream_writable":30,"core-util-is":31,inherits:17,"process-nextick-args":32}],27:[function(e,t,r){"use strict";t.exports=a;var n=e("./_stream_transform");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(a,n);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}a.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":29,"core-util-is":31,inherits:17}],28:[function(e,t,r){(function(r){"use strict";t.exports=h;var n=e("process-nextick-args");var i=e("isarray");var a=e("buffer").Buffer;h.ReadableState=c;var s=e("events").EventEmitter;if(!s.listenerCount)s.listenerCount=function(e,t){return e.listeners(t).length};var o;(function(){try{o=e("st"+"ream")}catch(t){}finally{if(!o)o=e("events").EventEmitter}})();var a=e("buffer").Buffer;var u=e("core-util-is");u.inherits=e("inherits");var l=e("util");if(l&&l.debuglog){l=l.debuglog("stream")}else{l=function(){}}var f;u.inherits(h,o);function c(t,r){var n=e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(r instanceof n)this.objectMode=this.objectMode||!!t.readableObjectMode;var i=t.highWaterMark;var a=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:a;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=t.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!f)f=e("string_decoder/").StringDecoder;this.decoder=new f(t.encoding);this.encoding=t.encoding}}function h(t){var r=e("./_stream_duplex");if(!(this instanceof h))return new h(t);this._readableState=new c(t,this);this.readable=true;if(t&&typeof t.read==="function")this._read=t.read;o.call(this)}h.prototype.push=function(e,t){var r=this._readableState;if(!r.objectMode&&typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=new a(e,t);t=""}}return p(this,r,e,t,false)};h.prototype.unshift=function(e){var t=this._readableState;return p(this,t,e,"",true)};h.prototype.isPaused=function(){return this._readableState.flowing===false};function p(e,t,r,n,i){var a=b(t,r);if(a){e.emit("error",a)}else if(r===null){t.reading=false;y(e,t)}else if(t.objectMode||r&&r.length>0){if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{if(t.decoder&&!i&&!n)r=t.decoder.write(r);if(!i)t.reading=false;if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(i)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)w(e)}_(e,t)}}else if(!i){t.reading=false}return d(t)}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}h.prototype.setEncoding=function(t){if(!f)f=e("string_decoder/").StringDecoder;this._readableState.decoder=new f(t);this._readableState.encoding=t;return this};var v=8388608;function g(e){if(e>=v){e=v}else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function m(e,t){if(t.length===0&&t.ended)return 0;if(t.objectMode)return e===0?0:1;if(e===null||isNaN(e)){if(t.flowing&&t.buffer.length)return t.buffer[0].length;else return t.length}if(e<=0)return 0;if(e>t.highWaterMark)t.highWaterMark=g(e);if(e>t.length){if(!t.ended){t.needReadable=true;return 0}else{return t.length}}return e}h.prototype.read=function(e){l("read",e);var t=this._readableState;var r=e;if(typeof e!=="number"||e>0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){l("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)T(this);else w(this);return null}e=m(e,t);if(e===0&&t.ended){if(t.length===0)T(this);return null}var n=t.needReadable;l("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;l("length less than watermark",n)}if(t.ended||t.reading){n=false;l("reading or ended",n)}if(n){l("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false}if(n&&!t.reading)e=m(r,t);var i;if(e>0)i=O(e,t);else i=null;if(i===null){t.needReadable=true;e=0}t.length-=e;if(t.length===0&&!t.ended)t.needReadable=true;if(r!==e&&t.ended&&t.length===0)T(this);if(i!==null)this.emit("data",i);return i};function b(e,t){var r=null;if(!a.isBuffer(t)&&typeof t!=="string"&&t!==null&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function y(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;w(e)}function w(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){l("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)n(x,e);else x(e)}}function x(e){l("emit readable");e.emit("readable");R(e)}function _(e,t){if(!t.readingMore){t.readingMore=true;n(E,e,t)}}function E(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){l("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}h.prototype._read=function(e){this.emit("error",new Error("not implemented"))};h.prototype.pipe=function(e,t){var a=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;l("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var f=u?h:d;if(o.endEmitted)n(f);else a.once("end",f);e.on("unpipe",c);function c(e){l("onunpipe");if(e===a){d()}}function h(){l("onend");e.end()}var p=j(a);e.on("drain",p);function d(){l("cleanup");e.removeListener("close",m);e.removeListener("finish",b);e.removeListener("drain",p);e.removeListener("error",g);e.removeListener("unpipe",c);a.removeListener("end",h);a.removeListener("end",d);a.removeListener("data",v);if(o.awaitDrain&&(!e._writableState||e._writableState.needDrain))p()}a.on("data",v);function v(t){l("ondata");var r=e.write(t);if(false===r){l("false write response, pause",a._readableState.awaitDrain);a._readableState.awaitDrain++;a.pause()}}function g(t){l("onerror",t);y();e.removeListener("error",g);if(s.listenerCount(e,"error")===0)e.emit("error",t)}if(!e._events||!e._events.error)e.on("error",g);else if(i(e._events.error))e._events.error.unshift(g);else e._events.error=[g,e._events.error];function m(){e.removeListener("finish",b);y()}e.once("close",m);function b(){l("onfinish");e.removeListener("close",m);y()}e.once("finish",b);function y(){l("unpipe");a.unpipe(e)}e.emit("pipe",a);if(!o.flowing){l("pipe resume");a.resume()}return e};function j(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&s.listenerCount(e,"data")){t.flowing=true;R(e)}}}h.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var r=t.pipes;var n=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=C(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this);return this};h.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if(e==="data"&&false!==this._readableState.flowing){this.resume()}if(e==="readable"&&this.readable){var i=this._readableState;if(!i.readableListening){i.readableListening=true;i.emittedReadable=false;i.needReadable=true;if(!i.reading){n(N,this)}else if(i.length){w(this,i)}}}return r};h.prototype.addListener=h.prototype.on;function N(e){l("readable nexttick read 0");e.read(0)}h.prototype.resume=function(){var e=this._readableState;if(!e.flowing){l("resume");e.flowing=true;I(this,e)}return this};function I(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;n(S,e,t)}}function S(e,t){if(!t.reading){l("resume read 0");e.read(0)}t.resumeScheduled=false;e.emit("resume");R(e);if(t.flowing&&!t.reading)e.read(0)}h.prototype.pause=function(){l("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){l("pause");this._readableState.flowing=false;this.emit("pause")}return this};function R(e){var t=e._readableState;l("flow",t.flowing);if(t.flowing){do{var r=e.read()}while(null!==r&&t.flowing)}}h.prototype.wrap=function(e){var t=this._readableState;var r=false;var n=this;e.on("end",function(){l("wrapped end");if(t.decoder&&!t.ended){var e=t.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});e.on("data",function(i){l("wrapped data");if(t.decoder)i=t.decoder.write(i);if(t.objectMode&&(i===null||i===undefined))return;else if(!t.objectMode&&(!i||!i.length))return;var a=n.push(i);if(!a){r=true;e.pause()}});for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}var a=["error","close","destroy","pause","resume"];A(a,function(t){e.on(t,n.emit.bind(n,t))});n._read=function(t){l("wrapped _read",t);if(r){r=false;e.resume()}};return n};h._fromList=O;function O(e,t){var r=t.buffer;var n=t.length;var i=!!t.decoder;var s=!!t.objectMode;var o;if(r.length===0)return null;if(n===0)o=null;else if(s)o=r.shift();else if(!e||e>=n){if(i)o=r.join("");else o=a.concat(r,n);r.length=0}else{if(e<r[0].length){var u=r[0];o=u.slice(0,e);r[0]=u.slice(e)}else if(e===r[0].length){o=r.shift()}else{if(i)o="";else o=new a(e);var l=0;for(var f=0,c=r.length;f<c&&l<e;f++){var u=r[0];var h=Math.min(e-l,u.length);if(i)o+=u.slice(0,h);else u.copy(o,l,0,h);if(h<u.length)r[0]=u.slice(h);else r.shift();l+=h}}}return o}function T(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");if(!t.endEmitted){t.ended=true;n(k,t,e)}}function k(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function A(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}}function C(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,e("_process"))},{"./_stream_duplex":26,_process:20,buffer:11,"core-util-is":31,events:15,inherits:17,isarray:18,"process-nextick-args":32,"string_decoder/":48,util:10}],29:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_duplex");var i=e("core-util-is");i.inherits=e("inherits");i.inherits(o,n);function a(e){this.afterTransform=function(t,r){return s(e,t,r)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function s(e,t,r){var n=e._transformState;n.transforming=false;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null;n.writecb=null;if(r!==null&&r!==undefined)e.push(r);if(i)i(t);var a=e._readableState;a.reading=false;if(a.needReadable||a.length<a.highWaterMark){e._read(a.highWaterMark)}}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e);this._transformState=new a(this);var t=this;this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(e){u(t,e)});else u(t)})}o.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};o.prototype._transform=function(e,t,r){throw new Error("not implemented")};o.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};o.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};function u(e,t){if(t)return e.emit("error",t);var r=e._writableState;var n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":26,"core-util-is":31,inherits:17}],30:[function(e,t,r){"use strict";t.exports=f;var n=e("process-nextick-args");var i=e("buffer").Buffer;f.WritableState=l;
var a=e("core-util-is");a.inherits=e("inherits");var s;(function(){try{s=e("st"+"ream")}catch(t){}finally{if(!s)s=e("events").EventEmitter}})();var i=e("buffer").Buffer;a.inherits(f,s);function o(){}function u(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function l(t,r){var n=e("./_stream_duplex");t=t||{};this.objectMode=!!t.objectMode;if(r instanceof n)this.objectMode=this.objectMode||!!t.writableObjectMode;var i=t.highWaterMark;var a=this.objectMode?16:16*1024;this.highWaterMark=i||i===0?i:a;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var s=t.decodeStrings===false;this.decodeStrings=!s;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){b(r,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}l.prototype.getBuffer=function I(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(l.prototype,"buffer",{get:e("util-deprecate")(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use "+"_writableState.getBuffer() instead.")})}catch(t){}})();function f(t){var r=e("./_stream_duplex");if(!(this instanceof f)&&!(this instanceof r))return new f(t);this._writableState=new l(t,this);this.writable=true;if(t){if(typeof t.write==="function")this._write=t.write;if(typeof t.writev==="function")this._writev=t.writev}s.call(this)}f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function c(e,t){var r=new Error("write after end");e.emit("error",r);n(t,r)}function h(e,t,r,a){var s=true;if(!i.isBuffer(r)&&typeof r!=="string"&&r!==null&&r!==undefined&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o);n(a,o);s=false}return s}f.prototype.write=function(e,t,r){var n=this._writableState;var a=false;if(typeof t==="function"){r=t;t=null}if(i.isBuffer(e))t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=o;if(n.ended)c(this,r);else if(h(this,n,e,r)){n.pendingcb++;a=d(this,n,e,t,r)}return a};f.prototype.cork=function(){var e=this._writableState;e.corked++};f.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)x(this,e)}};f.prototype.setDefaultEncoding=function S(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e};function p(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=new i(t,r)}return t}function d(e,t,r,n,a){r=p(t,r,n);if(i.isBuffer(r))n="buffer";var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(!o)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new u(r,n,a);if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}}else{v(e,t,false,s,r,n,a)}return o}function v(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function g(e,t,r,i,a){--t.pendingcb;if(r)n(a,i);else a(i);e._writableState.errorEmitted=true;e.emit("error",i)}function m(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function b(e,t){var r=e._writableState;var i=r.sync;var a=r.writecb;m(r);if(t)g(e,r,i,t,a);else{var s=_(r);if(!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){x(e,r)}if(i){n(y,e,r,s,a)}else{y(e,r,s,a)}}}function y(e,t,r,n){if(!r)w(e,t);t.pendingcb--;n();j(e,t)}function w(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function x(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=[];var i=[];while(r){i.push(r.callback);n.push(r);r=r.next}t.pendingcb++;t.lastBufferedRequest=null;v(e,t,true,t.length,n,"",function(e){for(var r=0;r<i.length;r++){t.pendingcb--;i[r](e)}})}else{while(r){var a=r.chunk;var s=r.encoding;var o=r.callback;var u=t.objectMode?1:a.length;v(e,t,false,u,a,s,o);r=r.next;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}f.prototype._write=function(e,t,r){r(new Error("not implemented"))};f.prototype._writev=null;f.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)N(this,n,r)};function _(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function E(e,t){if(!t.prefinished){t.prefinished=true;e.emit("prefinish")}}function j(e,t){var r=_(t);if(r){if(t.pendingcb===0){E(e,t);t.finished=true;e.emit("finish")}else{E(e,t)}}return r}function N(e,t,r){t.ending=true;j(e,t);if(r){if(t.finished)n(r);else e.once("finish",r)}t.ended=true}},{"./_stream_duplex":26,buffer:11,"core-util-is":31,events:15,inherits:17,"process-nextick-args":32,"util-deprecate":33}],31:[function(e,t,r){(function(e){function t(e){return Array.isArray(e)}r.isArray=t;function n(e){return typeof e==="boolean"}r.isBoolean=n;function i(e){return e===null}r.isNull=i;function a(e){return e==null}r.isNullOrUndefined=a;function s(e){return typeof e==="number"}r.isNumber=s;function o(e){return typeof e==="string"}r.isString=o;function u(e){return typeof e==="symbol"}r.isSymbol=u;function l(e){return e===void 0}r.isUndefined=l;function f(e){return c(e)&&m(e)==="[object RegExp]"}r.isRegExp=f;function c(e){return typeof e==="object"&&e!==null}r.isObject=c;function h(e){return c(e)&&m(e)==="[object Date]"}r.isDate=h;function p(e){return c(e)&&(m(e)==="[object Error]"||e instanceof Error)}r.isError=p;function d(e){return typeof e==="function"}r.isFunction=d;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=v;function g(t){return e.isBuffer(t)}r.isBuffer=g;function m(e){return Object.prototype.toString.call(e)}}).call(this,e("buffer").Buffer)},{buffer:11}],32:[function(e,t,r){(function(e){"use strict";t.exports=r;function r(t){var r=new Array(arguments.length-1);var n=0;while(n<arguments.length){r[n++]=arguments[n]}e.nextTick(function i(){t.apply(null,r)})}}).call(this,e("_process"))},{_process:20}],33:[function(e,t,r){(function(e){t.exports=r;function r(e,t){if(n("noDeprecation")){return e}var r=false;function i(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return i}function n(t){if(!e.localStorage)return false;var r=e.localStorage[t];if(null==r)return false;return String(r).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],34:[function(e,t,r){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":27}],35:[function(e,t,r){var n=function(){try{return e("st"+"ream")}catch(t){}}();r=t.exports=e("./lib/_stream_readable.js");r.Stream=n||r;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":26,"./lib/_stream_passthrough.js":27,"./lib/_stream_readable.js":28,"./lib/_stream_transform.js":29,"./lib/_stream_writable.js":30}],36:[function(e,t,r){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":29}],37:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":30}],38:[function(e,t,r){t.exports=a;var n=e("events").EventEmitter;var i=e("inherits");i(a,n);a.Readable=e("readable-stream/readable.js");a.Writable=e("readable-stream/writable.js");a.Duplex=e("readable-stream/duplex.js");a.Transform=e("readable-stream/transform.js");a.PassThrough=e("readable-stream/passthrough.js");a.Stream=a;function a(){n.call(this)}a.prototype.pipe=function(e,t){var r=this;function i(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",i);function a(){if(r.readable&&r.resume){r.resume()}}e.on("drain",a);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",o);r.on("close",u)}var s=false;function o(){if(s)return;s=true;e.end()}function u(){if(s)return;s=true;if(typeof e.destroy==="function")e.destroy()}function l(e){f();if(n.listenerCount(this,"error")===0){throw e}}r.on("error",l);e.on("error",l);function f(){r.removeListener("data",i);e.removeListener("drain",a);r.removeListener("end",o);r.removeListener("close",u);r.removeListener("error",l);e.removeListener("error",l);r.removeListener("end",f);r.removeListener("close",f);e.removeListener("close",f)}r.on("end",f);r.on("close",f);e.on("close",f);e.emit("pipe",r);return e}},{events:15,inherits:17,"readable-stream/duplex.js":25,"readable-stream/passthrough.js":34,"readable-stream/readable.js":35,"readable-stream/transform.js":36,"readable-stream/writable.js":37}],39:[function(e,t,r){var n=e("./lib/request");var i=e("xtend");var a=e("builtin-status-codes");var s=e("url");var o=r;o.request=function(e,t){if(typeof e==="string")e=s.parse(e);else e=i(e);var r=e.host?e.host.split(":")[0]:null;var a=e.host?parseInt(e.host.split(":")[1],10):null;e.method=e.method||"GET";e.headers=e.headers||{};e.path=e.path||"/";e.protocol=e.protocol||window.location.protocol;var o=e.hostname||r?e.protocol==="https:"?443:80:window.location.port;e.hostname=e.hostname||r||window.location.hostname;e.port=e.port||a||o;var u=new n(e);if(t)u.on("response",t);return u};o.get=function u(e,t){var r=o.request(e,t);r.end();return r};o.Agent=function(){};o.Agent.defaultMaxSockets=4;o.STATUS_CODES=a;o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},{"./lib/request":41,"builtin-status-codes":43,url:49,xtend:52}],40:[function(e,t,r){r.fetch=u(window.fetch)&&u(window.ReadableByteStream);r.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);r.blobConstructor=true}catch(n){}var i=new window.XMLHttpRequest;i.open("GET","/");function a(e){try{i.responseType=e;return i.responseType===e}catch(t){}return false}var s=u(window.ArrayBuffer);var o=s&&u(window.ArrayBuffer.prototype.slice);r.arraybuffer=s&&a("arraybuffer");r.msstream=o&&a("ms-stream");r.mozchunkedarraybuffer=s&&a("moz-chunked-arraybuffer");r.overrideMimeType=u(i.overrideMimeType);r.vbArray=u(window.VBArray);function u(e){return typeof e==="function"}i=null},{}],41:[function(e,t,r){(function(r,n){var i=e("./capability");var a=e("foreach");var s=e("indexof");var o=e("inherits");var u=e("object-keys");var l=e("./response");var f=e("stream");var c=l.IncomingMessage;var h=l.readyStates;function p(e){if(i.fetch){return"fetch"}else if(i.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(i.msstream){return"ms-stream"}else if(i.arraybuffer&&e){return"arraybuffer"}else if(i.vbArray&&e){return"text:vbarray"}else{return"text"}}var d=t.exports=function(e){var t=this;f.Writable.call(t);t._opts=e;t._url=e.protocol+"//"+e.hostname+":"+e.port+e.path;t._body=[];t._headers={};if(e.auth)t.setHeader("Authorization","Basic "+new n(e.auth).toString("base64"));a(u(e.headers),function(r){t.setHeader(r,e.headers[r])});var r;if(e.mode==="prefer-streaming"){r=false}else if(e.mode==="prefer-fast"){r=true}else if(!e.mode||e.mode==="default"){r=!i.overrideMimeType}else{throw new Error("Invalid value for opts.mode")}t._mode=p(r);t.on("finish",function(){t._onFinish()})};o(d,f.Writable);d.prototype.setHeader=function(e,t){var r=this;var n=e.toLowerCase();if(s(g,n)!==-1)return;r._headers[n]={name:e,value:t}};d.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value};d.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};d.prototype._onFinish=function(){var e=this;if(e._destroyed)return;var t=e._opts;var s=e._headers;var o;if(t.method==="POST"||t.method==="PUT"){if(i.blobConstructor){o=new window.Blob(e._body.map(function(e){return e.toArrayBuffer()}),{type:(s["content-type"]||{}).value||""})}else{o=n.concat(e._body).toString()}}if(e._mode==="fetch"){var l=u(s).map(function(e){return[s[e].name,s[e].value]});window.fetch(e._url,{method:e._opts.method,headers:l,body:o,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t;e._connect()}).then(undefined,function(t){e.emit("error",t)})}else{var f=e._xhr=new window.XMLHttpRequest;try{f.open(e._opts.method,e._url,true)}catch(c){r.nextTick(function(){e.emit("error",c)});return}if("responseType"in f)f.responseType=e._mode.split(":")[0];if("withCredentials"in f)f.withCredentials=!!t.withCredentials;if(e._mode==="text"&&"overrideMimeType"in f)f.overrideMimeType("text/plain; charset=x-user-defined");a(u(s),function(e){f.setRequestHeader(s[e].name,s[e].value)});e._response=null;f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:e._onXHRProgress();break}};if(e._mode==="moz-chunked-arraybuffer"){f.onprogress=function(){e._onXHRProgress()}}f.onerror=function(){if(e._destroyed)return;e.emit("error",new Error("XHR error"))};try{f.send(o)}catch(c){r.nextTick(function(){e.emit("error",c)});return}}};function v(e){try{return e.status!==null}catch(t){return false}}d.prototype._onXHRProgress=function(){var e=this;if(!v(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress()};d.prototype._connect=function(){var e=this;if(e._destroyed)return;e._response=new c(e._xhr,e._fetchResponse,e._mode);e.emit("response",e._response)};d.prototype._write=function(e,t,r){var n=this;n._body.push(e);r()};d.prototype.abort=d.prototype.destroy=function(){var e=this;e._destroyed=true;if(e._response)e._response._destroyed=true;if(e._xhr)e._xhr.abort()};d.prototype.end=function(e,t,r){var n=this;if(typeof e==="function"){r=e;e=undefined}f.Writable.prototype.end.call(n,e,t,r)};d.prototype.flushHeaders=function(){};d.prototype.setTimeout=function(){};d.prototype.setNoDelay=function(){};d.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),e("buffer").Buffer)},{"./capability":40,"./response":42,_process:20,buffer:11,foreach:44,indexof:45,inherits:17,"object-keys":46,stream:38}],42:[function(e,t,r){(function(t,n){var i=e("./capability");var a=e("foreach");var s=e("inherits");var o=e("stream");var u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var l=r.IncomingMessage=function(e,r,s){var u=this;o.Readable.call(u);u._mode=s;u.headers={};u.rawHeaders=[];u.trailers={};u.rawTrailers=[];u.on("end",function(){t.nextTick(function(){u.emit("close")})});if(s==="fetch"){u._fetchResponse=r;u.statusCode=r.status;u.statusMessage=r.statusText;for(var l,f,c=r.headers[Symbol.iterator]();l=(f=c.next()).value,!f.done;){u.headers[l[0].toLowerCase()]=l[1];u.rawHeaders.push(l[0],l[1])}var h=r.body.getReader();function p(){h.read().then(function(e){if(u._destroyed)return;if(e.done){u.push(null);return}u.push(new n(e.value));p()})}p()}else{u._xhr=e;u._pos=0;u.statusCode=e.status;u.statusMessage=e.statusText;var d=e.getAllResponseHeaders().split(/\r?\n/);a(d,function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(u.headers[r]!==undefined)u.headers[r]+=", "+t[2];else u.headers[r]=t[2];u.rawHeaders.push(t[1],t[2])}});u._charset="x-user-defined";if(!i.overrideMimeType){var v=u.rawHeaders["mime-type"];if(v){var g=v.match(/;\s*charset=([^;])(;|$)/);if(g){u._charset=g[1].toLowerCase()}}if(!u._charset)u._charset="utf-8"}}};s(l,o.Readable);l.prototype._read=function(){};l.prototype._onXHRProgress=function(){var e=this;var t=e._xhr;var r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new window.VBArray(t.responseBody).toArray()}catch(i){}if(r!==null){e.push(new n(r));break}case"text":try{r=t.responseText}catch(i){e._mode="text:vbarray";break}if(r.length>e._pos){var a=r.substr(e._pos);if(e._charset==="x-user-defined"){var s=new n(a.length);for(var o=0;o<a.length;o++)s[o]=a.charCodeAt(o)&255;e.push(s)}else{e.push(a,e._charset)}e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE)break;r=t.response;e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":r=t.response;if(t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":r=t.response;if(t.readyState!==u.LOADING)break;var l=new window.MSStreamReader;l.onprogress=function(){if(l.result.byteLength>e._pos){e.push(new n(new Uint8Array(l.result.slice(e._pos))));e._pos=l.result.byteLength}};l.onload=function(){e.push(null)};l.readAsArrayBuffer(r);break}if(e._xhr.readyState===u.DONE&&e._mode!=="ms-stream"){e.push(null)}}}).call(this,e("_process"),e("buffer").Buffer)},{"./capability":40,_process:20,buffer:11,foreach:44,inherits:17,stream:38}],43:[function(e,t,r){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],44:[function(e,t,r){var n=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;t.exports=function a(e,t,r){if(i.call(t)!=="[object Function]"){throw new TypeError("iterator must be a function")}var a=e.length;if(a===+a){for(var s=0;s<a;s++){t.call(r,e[s],s,e)}}else{for(var o in e){if(n.call(e,o)){t.call(r,e[o],o,e)}}}}},{}],45:[function(e,t,r){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r){if(e[r]===t)return r}return-1}},{}],46:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;var i=Object.prototype.toString;var a=Array.prototype.slice;var s=e("./isArguments");var o=!{toString:null}.propertyIsEnumerable("toString");var u=function(){}.propertyIsEnumerable("prototype");var l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var f=function c(e){var t=e!==null&&typeof e==="object";var r=i.call(e)==="[object Function]";var a=s(e);var f=t&&i.call(e)==="[object String]";var c=[];if(!t&&!r&&!a){throw new TypeError("Object.keys called on a non-object")}var h=u&&r;if(f&&e.length>0&&!n.call(e,0)){for(var p=0;p<e.length;++p){c.push(String(p))}}if(a&&e.length>0){for(var d=0;d<e.length;++d){c.push(String(d))}}else{for(var v in e){if(!(h&&v==="prototype")&&n.call(e,v)){c.push(String(v))}}}if(o){var g=e.constructor;var m=g&&g.prototype===e;for(var b=0;b<l.length;++b){if(!(m&&l[b]==="constructor")&&n.call(e,l[b])){c.push(l[b])}}}return c};f.shim=function h(){if(!Object.keys){Object.keys=f}else{var e=function(){return(Object.keys(arguments)||"").length===2}(1,2);if(!e){var t=Object.keys;Object.keys=function r(e){if(s(e)){return t(a.call(e))}else{return t(e)}}}}return Object.keys||f};t.exports=f},{"./isArguments":47}],47:[function(e,t,r){"use strict";var n=Object.prototype.toString;t.exports=function i(e){var t=n.call(e);var r=t==="[object Arguments]";if(!r){r=t!=="[object Array]"&&e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&n.call(e.callee)==="[object Function]"}return r}},{}],48:[function(e,t,r){var n=e("buffer").Buffer;var i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function a(e){if(e&&!i(e)){throw new Error("Unknown encoding: "+e)}}var s=r.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");a(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=u;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=o;return}this.charBuffer=new n(6);this.charReceived=0;this.charLength=0};s.prototype.write=function(e){var t="";while(this.charLength){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,r);this.charReceived+=r;if(this.charReceived<this.charLength){return""}e=e.slice(r,e.length);t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize;t="";continue}this.charReceived=this.charLength=0;if(e.length===0){return t}break}this.detectIncompleteChar(e);var i=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,i);i-=this.charReceived}t+=e.toString(this.encoding,0,i);var i=t.length-1;var n=t.charCodeAt(i);if(n>=55296&&n<=56319){var a=this.surrogateSize;this.charLength+=a;this.charReceived+=a;this.charBuffer.copy(this.charBuffer,a,0,a);e.copy(this.charBuffer,0,0,a);return t.substring(0,i)}return t};s.prototype.detectIncompleteChar=function(e){var t=e.length>=3?3:e.length;for(;t>0;t--){var r=e[e.length-t];if(t==1&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t};s.prototype.end=function(e){var t="";if(e&&e.length)t=this.write(e);if(this.charReceived){var r=this.charReceived;var n=this.charBuffer;var i=this.encoding;t+=n.slice(0,r).toString(i)}return t};function o(e){return e.toString(this.encoding)}function u(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function l(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},{buffer:11}],49:[function(e,t,r){var n=e("punycode");r.parse=y;r.resolve=x;r.resolveObject=_;r.format=w;r.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,o=["<",">",'"',"`"," ","\r","\n","	"],u=["{","}","|","\\","^","`"].concat(o),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),c=["/","?","#"],h=255,p=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},g={javascript:true,"javascript:":true},m={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},b=e("querystring");function y(e,t,r){if(e&&j(e)&&e instanceof i)return e;var n=new i;n.parse(e,t,r);return n}i.prototype.parse=function(e,t,r){if(!E(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e;i=i.trim();var s=a.exec(i);if(s){s=s[0];var o=s.toLowerCase();this.protocol=o;i=i.substr(s.length)}if(r||s||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=i.substr(0,2)==="//";if(u&&!(s&&g[s])){i=i.substr(2);this.slashes=true}}if(!g[s]&&(u||s&&!m[s])){var y=-1;for(var w=0;w<c.length;w++){var x=i.indexOf(c[w]);if(x!==-1&&(y===-1||x<y))y=x}var _,j;if(y===-1){j=i.lastIndexOf("@")}else{j=i.lastIndexOf("@",y)}if(j!==-1){_=i.slice(0,j);i=i.slice(j+1);this.auth=decodeURIComponent(_)}y=-1;for(var w=0;w<f.length;w++){var x=i.indexOf(f[w]);if(x!==-1&&(y===-1||x<y))y=x}if(y===-1)y=i.length;this.host=i.slice(0,y);i=i.slice(y);this.parseHost();this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N){var I=this.hostname.split(/\./);for(var w=0,S=I.length;w<S;w++){var R=I[w];if(!R)continue;if(!R.match(p)){var O="";for(var T=0,k=R.length;T<k;T++){if(R.charCodeAt(T)>127){O+="x"}else{O+=R[T]}}if(!O.match(p)){var A=I.slice(0,w);var C=I.slice(w+1);var L=R.match(d);if(L){A.push(L[1]);C.unshift(L[2])}if(C.length){i="/"+C.join(".")+i}this.hostname=A.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!N){var P=this.hostname.split(".");var D=[];for(var w=0;w<P.length;++w){var U=P[w];D.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+n.encode(U):U)}this.hostname=D.join(".")}var M=this.port?":"+this.port:"";var B=this.hostname||"";this.host=B+M;this.href+=this.host;if(N){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(i[0]!=="/"){i="/"+i}}}if(!v[o]){for(var w=0,S=l.length;w<S;w++){var F=l[w];var q=encodeURIComponent(F);if(q===F){q=escape(F)}i=i.split(F).join(q)}}var z=i.indexOf("#");if(z!==-1){this.hash=i.substr(z);i=i.slice(0,z)}var G=i.indexOf("?");if(G!==-1){this.search=i.substr(G);this.query=i.substr(G+1);if(t){this.query=b.parse(this.query)}i=i.slice(0,G)}else if(t){this.search="";this.query={}}if(i)this.pathname=i;if(m[o]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var M=this.pathname||"";var U=this.search||"";this.path=M+U}this.href=this.format();return this};function w(e){if(E(e))e=y(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,a="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&j(this.query)&&Object.keys(this.query).length){a=b.stringify(this.query)}var s=this.search||a&&"?"+a||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||m[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(s&&s.charAt(0)!=="?")s="?"+s;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+i+r+s+n};function x(e,t){return y(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(y(e,false,true)).format()};function _(e,t){if(!e)return t;return y(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(E(e)){var t=new i;t.parse(e,false,true);e=t}var r=new i;Object.keys(this).forEach(function(e){r[e]=this[e]},this);r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){if(t!=="protocol")r[t]=e[t]});if(m[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){Object.keys(e).forEach(function(t){r[t]=e[t]});r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!g[e.protocol]){var n=(e.pathname||"").split("/");while(n.length&&!(e.host=n.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(n[0]!=="")n.unshift("");if(n.length<2)n.unshift("");r.pathname=n.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var a=r.pathname||"";var s=r.search||"";r.path=a+s}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var o=r.pathname&&r.pathname.charAt(0)==="/",u=e.host||e.pathname&&e.pathname.charAt(0)==="/",l=u||o||r.host&&e.pathname,f=l,c=r.pathname&&r.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],h=r.protocol&&!m[r.protocol];if(h){r.hostname="";r.port=null;if(r.host){if(c[0]==="")c[0]=r.host;else c.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(n[0]==="")n[0]=e.host;else n.unshift(e.host)}e.host=null}l=l&&(n[0]===""||c[0]==="")}if(u){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;c=n}else if(n.length){if(!c)c=[];c.pop();c=c.concat(n);r.search=e.search;r.query=e.query}else if(!I(e.search)){if(h){r.hostname=r.host=c.shift();var p=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(p){r.auth=p.shift();r.host=r.hostname=p.shift()}}r.search=e.search;r.query=e.query;if(!N(r.pathname)||!N(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!c.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var d=c.slice(-1)[0];var v=(r.host||e.host)&&(d==="."||d==="..")||d==="";var b=0;for(var y=c.length;y>=0;y--){d=c[y];if(d=="."){c.splice(y,1)}else if(d===".."){c.splice(y,1);b++}else if(b){c.splice(y,1);b--}}if(!l&&!f){for(;b--;b){c.unshift("..")}}if(l&&c[0]!==""&&(!c[0]||c[0].charAt(0)!=="/")){c.unshift("")}if(v&&c.join("/").substr(-1)!=="/"){c.push("")}var w=c[0]===""||c[0]&&c[0].charAt(0)==="/";if(h){r.hostname=r.host=w?"":c.length?c.shift():"";var p=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(p){r.auth=p.shift();r.host=r.hostname=p.shift()}}l=l||r.host&&c.length;if(l&&!w){c.unshift("")}if(!c.length){r.pathname=null;r.path=null}else{r.pathname=c.join("/")}if(!N(r.pathname)||!N(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};i.prototype.parseHost=function(){var e=this.host;var t=s.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e};function E(e){return typeof e==="string"}function j(e){return typeof e==="object"&&e!==null}function N(e){return e===null}function I(e){return e==null}},{punycode:21,querystring:24}],50:[function(e,t,r){t.exports=function n(e){return e&&typeof e==="object"&&typeof e.copy==="function"&&typeof e.fill==="function"&&typeof e.readUInt8==="function"}},{}],51:[function(e,t,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!_(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(o(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var a=n.length;var s=String(e).replace(i,function(e){if(e==="%%")return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}});for(var u=n[r];r<a;u=n[++r]){if(y(u)||!I(u)){s+=" "+u}else{s+=" "+o(u)}}return s};r.deprecate=function(e,i){if(j(n.process)){return function(){return r.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var a=false;function s(){if(!a){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}a=true}return e.apply(this,arguments)}return s};var a={};var s;r.debuglog=function(e){if(j(s))s=t.env.NODE_DEBUG||"";
e=e.toUpperCase();if(!a[e]){if(new RegExp("\\b"+e+"\\b","i").test(s)){var n=t.pid;a[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else{a[e]=function(){}}}return a[e]};function o(e,t){var n={seen:[],stylize:l};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(b(t)){n.showHidden=t}else if(t){r._extend(n,t)}if(j(n.showHidden))n.showHidden=false;if(j(n.depth))n.depth=2;if(j(n.colors))n.colors=false;if(j(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=u;return c(n,e,n.depth)}r.inspect=o;o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var r=o.styles[t];if(r){return"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m"}else{return e}}function l(e,t){return e}function f(e){var t={};e.forEach(function(e,r){t[e]=true});return t}function c(e,t,n){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(n,e);if(!_(i)){i=c(e,i,n)}return i}var a=h(e,t);if(a){return a}var s=Object.keys(t);var o=f(s);if(e.showHidden){s=Object.getOwnPropertyNames(t)}if(R(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0)){return p(t)}if(s.length===0){if(O(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(S(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(R(t)){return p(t)}}var l="",b=false,y=["{","}"];if(m(t)){b=true;y=["[","]"]}if(O(t)){var w=t.name?": "+t.name:"";l=" [Function"+w+"]"}if(N(t)){l=" "+RegExp.prototype.toString.call(t)}if(S(t)){l=" "+Date.prototype.toUTCString.call(t)}if(R(t)){l=" "+p(t)}if(s.length===0&&(!b||t.length==0)){return y[0]+l+y[1]}if(n<0){if(N(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var x;if(b){x=d(e,t,n,o,s)}else{x=s.map(function(r){return v(e,t,n,o,r,b)})}e.seen.pop();return g(x,l,y)}function h(e,t){if(j(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(x(t))return e.stylize(""+t,"number");if(b(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i){var a=[];for(var s=0,o=t.length;s<o;++s){if(P(t,String(s))){a.push(v(e,t,r,n,String(s),true))}else{a.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){a.push(v(e,t,r,n,i,true))}});return a}function v(e,t,r,n,i,a){var s,o,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){o=e.stylize("[Getter/Setter]","special")}else{o=e.stylize("[Getter]","special")}}else{if(u.set){o=e.stylize("[Setter]","special")}}if(!P(n,i)){s="["+i+"]"}if(!o){if(e.seen.indexOf(u.value)<0){if(y(r)){o=c(e,u.value,null)}else{o=c(e,u.value,r-1)}if(o.indexOf("\n")>-1){if(a){o=o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{o="\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{o=e.stylize("[Circular]","special")}}if(j(s)){if(a&&i.match(/^\d+$/)){return o}s=JSON.stringify(""+i);if(s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){s=s.substr(1,s.length-2);s=e.stylize(s,"name")}else{s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");s=e.stylize(s,"string")}}return s+": "+o}function g(e,t,r){var n=0;var i=e.reduce(function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}r.isArray=m;function b(e){return typeof e==="boolean"}r.isBoolean=b;function y(e){return e===null}r.isNull=y;function w(e){return e==null}r.isNullOrUndefined=w;function x(e){return typeof e==="number"}r.isNumber=x;function _(e){return typeof e==="string"}r.isString=_;function E(e){return typeof e==="symbol"}r.isSymbol=E;function j(e){return e===void 0}r.isUndefined=j;function N(e){return I(e)&&k(e)==="[object RegExp]"}r.isRegExp=N;function I(e){return typeof e==="object"&&e!==null}r.isObject=I;function S(e){return I(e)&&k(e)==="[object Date]"}r.isDate=S;function R(e){return I(e)&&(k(e)==="[object Error]"||e instanceof Error)}r.isError=R;function O(e){return typeof e==="function"}r.isFunction=O;function T(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=T;r.isBuffer=e("./support/isBuffer");function k(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var e=new Date;var t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",L(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!I(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":50,_process:20,inherits:17}],52:[function(e,t,r){t.exports=n;function n(){var e={};for(var t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(r.hasOwnProperty(n)){e[n]=r[n]}}}return e}},{}],53:[function(e,t,r){},{}],54:[function(e,t,r){(function(r,n,i){(function(){var a=typeof r!=="undefined"&&r.versions&&r.versions.node;var s=!a&&(typeof window!=="undefined"||typeof self!=="undefined");if(s){if(typeof n==="undefined"){if(typeof window!=="undefined"){n=window}else if(typeof self!=="undefined"){n=self}else if(typeof $!=="undefined"){n=$}}}var o=function(t){t.compact=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(r===null){return t.nextTick(function(){i(new k("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))})}if(e===null){return t.nextTick(function(){i(null,null)})}if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("compactArrays"in n)){n.compactArrays=true}if(!("graph"in n)){n.graph=false}if(!("skipExpansion"in n)){n.skipExpansion=false}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("link"in n)){n.link=false}if(n.link){n.skipExpansion=true}var a=function(e,r,n){t.nextTick(function(){if(r.skipExpansion){return n(null,e)}t.expand(e,r,n)})};a(e,n,function(e,a){if(e){return i(new k("Could not expand input before compaction.","jsonld.CompactError",{cause:e}))}var o=fe(n);t.processContext(o,r,n,function(e,t){if(e){return i(new k("Could not process context before compaction.","jsonld.CompactError",{cause:e}))}var r;try{r=(new A).compact(t,null,a,n)}catch(o){return i(o)}s(null,r,t,n)})});function s(e,t,n,a){if(e){return i(e)}if(a.compactArrays&&!a.graph&&de(t)){if(t.length===1){t=t[0]}else if(t.length===0){t={}}}else if(a.graph&&he(t)){t=[t]}if(he(r)&&"@context"in r){r=r["@context"]}r=Re(r);if(!de(r)){r=[r]}var s=r;r=[];for(var o=0;o<s.length;++o){if(!he(s[o])||Object.keys(s[o]).length>0){r.push(s[o])}}var u=r.length>0;if(r.length===1){r=r[0]}if(de(t)){var l=ie(n,"@graph");var f=t;t={};if(u){t["@context"]=r}t[l]=f}else if(he(t)&&u){var f=t;t={"@context":r};for(var c in f){t[c]=f[c]}}i(null,t,n)}};t.expand=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not expand, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}if(!("keepFreeFloatingNodes"in r)){r.keepFreeFloatingNodes=false}t.nextTick(function(){if(typeof e==="string"){var t=function(e,t){if(e){return n(e)}try{if(!t.document){throw new k("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return n(new k("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}i(t)};var a=r.documentLoader(e,t);if(a&&"then"in a){a.then(t.bind(null,null),t)}return}i({contextUrl:null,documentUrl:null,document:e})});function i(e){if(!("base"in r)){r.base=e.documentUrl||""}var t={document:Re(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in r){var i=Re(r.expandContext);if(typeof i==="object"&&"@context"in i){t.expandContext=i}else{t.expandContext={"@context":i}}}Te(t,r,function(e,t){if(e){return n(e)}var i;try{var a=new A;var s=fe(r);var o=t.document;var u=t.remoteContext["@context"];if(t.expandContext){s=a.processContext(s,t.expandContext["@context"],r)}if(u){s=a.processContext(s,u,r)}i=a.expand(s,null,o,r,false);if(he(i)&&"@graph"in i&&Object.keys(i).length===1){i=i["@graph"]}else if(i===null){i=[]}if(!de(i)){i=[i]}}catch(l){return n(l)}n(null,i)})}};t.flatten=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new k("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}var s;try{s=(new A).flatten(a)}catch(o){return i(o)}if(r===null){return i(null,s)}n.graph=true;n.skipExpansion=true;t.compact(s,r,n,function(e,t){if(e){return i(new k("Could not compact flattened output.","jsonld.FlattenError",{cause:e}))}i(null,t)})})};t.frame=function(e,r,n,i){if(arguments.length<2){return t.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))})}if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(!("embed"in n)){n.embed="@last"}n.explicit=n.explicit||false;if(!("requireAll"in n)){n.requireAll=true}n.omitDefault=n.omitDefault||false;t.nextTick(function(){if(typeof r==="string"){var e=function(e,t){if(e){return i(e)}try{if(!t.document){throw new k("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(typeof t.document==="string"){t.document=JSON.parse(t.document)}}catch(r){return i(new k("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:r,remoteDoc:t}))}a(t)};var t=n.documentLoader(r,e);if(t&&"then"in t){t.then(e.bind(null,null),e)}return}a({contextUrl:null,documentUrl:null,document:r})});function a(r){var a=r.document;var s;if(a){s=a["@context"];if(r.contextUrl){if(!s){s=r.contextUrl}else if(de(s)){s.push(r.contextUrl)}else{s=[s,r.contextUrl]}a["@context"]=s}else{s=s||{}}}else{s={}}t.expand(e,n,function(e,r){if(e){return i(new k("Could not expand input before framing.","jsonld.FrameError",{cause:e}))}var o=Re(n);o.isFrame=true;o.keepFreeFloatingNodes=true;t.expand(a,o,function(e,n){if(e){return i(new k("Could not expand frame before framing.","jsonld.FrameError",{cause:e}))}var a;try{a=(new A).frame(r,n,o)}catch(u){return i(u)}o.graph=true;o.skipExpansion=true;o.link={};t.compact(a,s,o,function(e,t,r){if(e){return i(new k("Could not compact framed output.","jsonld.FrameError",{cause:e}))}var n=ie(r,"@graph");o.link={};t[n]=te(r,t[n],o);i(null,t)})})})}};t.link=function(e,r,n,i){var a={};if(r){a["@context"]=r}a["@embed"]="@link";t.frame(e,a,n,i)};t.objectify=function(e,r,n,i){if(typeof n==="function"){i=n;n={}}n=n||{};if(!("base"in n)){n.base=typeof e==="string"?e:""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}t.expand(e,n,function(e,a){if(e){return i(new k("Could not expand input before linking.","jsonld.LinkError",{cause:e}))}var s;try{s=(new A).flatten(a)}catch(o){return i(o)}n.graph=true;n.skipExpansion=true;t.compact(s,r,n,function(e,r,n){if(e){return i(new k("Could not compact flattened output before linking.","jsonld.LinkError",{cause:e}))}var a=ie(n,"@graph");var s=r[a][0];var o=function(e){if(!he(e)&&!de(e)){return}if(he(e)){if(o.visited[e["@id"]]){return}o.visited[e["@id"]]=true}for(var r in e){var i=e[r];var a=t.getContextValue(n,r,"@type")==="@id";if(!de(i)&&!he(i)&&!a){continue}if(ge(i)&&a){e[r]=i=s[i];o(i)}else if(de(i)){for(var u=0;u<i.length;++u){if(ge(i[u])&&a){i[u]=s[i[u]]}else if(he(i[u])&&"@id"in i[u]){i[u]=s[i[u]["@id"]]}o(i[u])}}else if(he(i)){var l=i["@id"];e[r]=i=s[l];o(i)}}};o.visited={};o(s);r.of_type={};for(var u in s){if(!("@type"in s[u])){continue}var l=s[u]["@type"];if(!de(l)){l=[l]}for(var f=0;f<l.length;++f){if(!(l[f]in r.of_type)){r.of_type[l[f]]=[]}r.of_type[l[f]].push(s[u])}}i(null,r)})})};t.normalize=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not normalize, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}var i=Re(r);delete i.format;i.produceGeneralizedRdf=false;t.toRDF(e,i,function(e,t){if(e){return n(new k("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e}))}(new A).normalize(t,r,n)})};t.fromRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert from RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("useRdfType"in r)){r.useRdfType=false}if(!("useNativeTypes"in r)){r.useNativeTypes=false}if(!("format"in r)&&ge(e)){if(!("format"in r)){r.format="application/nquads"}}t.nextTick(function(){var t;if(r.format){t=r.rdfParser||h[r.format];if(!t){return n(new k("Unknown input format.","jsonld.UnknownFormat",{format:r.format}))}}else{t=function(){return e}}var i=false;try{e=t(e,function(e,t){i=true;if(e){return n(e)}s(t,r,n)})}catch(a){if(!i){return n(a)}throw a}if(e){if("then"in e){return e.then(function(e){s(e,r,n)},n)}s(e,r,n)}function s(e,t,r){(new A).fromRDF(e,t,r)}})};t.toRDF=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not convert to RDF, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new k("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}))}var i;try{i=A.prototype.toRDF(t,r);if(r.format){if(r.format==="application/nquads"){return n(null,Ae(i))}throw new k("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}}catch(a){return n(a)}n(null,i)})};t.createNodeMap=function(e,r,n){if(arguments.length<1){return t.nextTick(function(){n(new TypeError("Could not create node map, too few arguments."))})}if(typeof r==="function"){n=r;r={}}r=r||{};if(!("base"in r)){r.base=typeof e==="string"?e:""}if(!("documentLoader"in r)){r.documentLoader=t.loadDocument}t.expand(e,r,function(e,t){if(e){return n(new k("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}))}var i;try{i=(new A).createNodeMap(t,r)}catch(a){return n(a)}n(null,i)})};t.merge=function(e,r,n,i){if(arguments.length<1){return t.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))})}if(!de(e)){return t.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))})}if(typeof n==="function"){i=n;n={}}else if(typeof r==="function"){i=r;r=null;n={}}n=n||{};var a=[];var s=null;var o=e.length;for(var u=0;u<e.length;++u){var l={};for(var f in n){l[f]=n[f]}t.expand(e[u],l,c)}function c(e,t){if(s){return}if(e){s=e;return i(new k("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}))}a.push(t);if(--o===0){h(a)}}function h(e){var a=true;if("mergeNodes"in n){a=n.mergeNodes}var s=n.namer||new Pe("_:b");var o={"@default":{}};var u;try{for(var l=0;l<e.length;++l){var f=e[l];f=t.relabelBlankNodes(f,{namer:new Pe("_:b"+l+"-")});var c=a||l===0?o:{"@default":{}};V(f,c,"@default",s);if(c!==o){for(var h in c){var p=c[h];if(!(h in o)){o[h]=p;continue}var d=o[h];for(var v in p){if(!(v in d)){d[v]=p[v]}}}}}u=H(o)}catch(g){return i(g)}var m=[];var b=Object.keys(u).sort();for(var y=0;y<b.length;++y){var w=u[b[y]];if(!Ee(w)){m.push(w)}}if(r===null){return i(null,m)}n.graph=true;n.skipExpansion=true;t.compact(m,r,n,function(e,t){if(e){return i(new k("Could not compact merged output.","jsonld.MergeError",{cause:e}))}i(null,t)})}};t.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||new Pe("_:b");return L(r,e)};t.documentLoader=function(e,r){var n=new k("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});if(a){return r(n,{contextUrl:null,documentUrl:e,document:null})}return t.promisify(function(e){e(n)})};t.loadDocument=function(e,r){var n=t.documentLoader(e,r);if(n&&"then"in n){n.then(r.bind(null,null),r)}};t.promises=function(r){r=r||{};var i=Array.prototype.slice;var a=t.promisify;var s=r.api||{};var o=r.version||"jsonld.js";if(typeof r.api==="string"){if(!r.version){o=r.api}s={}}s.expand=function(e){if(arguments.length<1){throw new TypeError("Could not expand, too few arguments.")}return a.apply(null,[t.expand].concat(i.call(arguments)))};s.compact=function(e,r){if(arguments.length<2){throw new TypeError("Could not compact, too few arguments.")}var n=function(e,r,n,i){t.compact(e,r,n,function(e,t){i(e,t)})};return a.apply(null,[n].concat(i.call(arguments)))};s.flatten=function(e){if(arguments.length<1){throw new TypeError("Could not flatten, too few arguments.")}return a.apply(null,[t.flatten].concat(i.call(arguments)))};s.frame=function(e,r){if(arguments.length<2){throw new TypeError("Could not frame, too few arguments.")}return a.apply(null,[t.frame].concat(i.call(arguments)))};s.fromRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert from RDF, too few arguments.")}return a.apply(null,[t.fromRDF].concat(i.call(arguments)))};s.toRDF=function(e){if(arguments.length<1){throw new TypeError("Could not convert to RDF, too few arguments.")}return a.apply(null,[t.toRDF].concat(i.call(arguments)))};s.normalize=function(e){if(arguments.length<1){throw new TypeError("Could not normalize, too few arguments.")}return a.apply(null,[t.normalize].concat(i.call(arguments)))};if(o==="jsonld.js"){s.link=function(e,r){if(arguments.length<2){throw new TypeError("Could not link, too few arguments.")}return a.apply(null,[t.link].concat(i.call(arguments)))};s.objectify=function(e){return a.apply(null,[t.objectify].concat(i.call(arguments)))};s.createNodeMap=function(e){return a.apply(null,[t.createNodeMap].concat(i.call(arguments)))};s.merge=function(e){return a.apply(null,[t.merge].concat(i.call(arguments)))}}try{t.Promise=n.Promise||e("es6-promise").Promise}catch(u){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var f in s){s[f]=l}}return s};t.promisify=function(r){if(!t.Promise){try{t.Promise=n.Promise||e("es6-promise").Promise}catch(i){throw new Error("Unable to find a Promise implementation.")}}var a=Array.prototype.slice.call(arguments,1);return new t.Promise(function(e,t){r.apply(null,a.concat(function(r,n){if(!r){e(n)}else{t(r)}}))})};t.promises({api:t.promises});function o(){}o.prototype=t.promises({version:"json-ld-1.0"});o.prototype.toString=function(){if(this instanceof o){return"[object JsonLdProcessor]"}return"[object JsonLdProcessorPrototype]"};t.JsonLdProcessor=o;var u=!!Object.defineProperty;if(u){try{Object.defineProperty({},"x",{})}catch(l){u=false}}if(u){Object.defineProperty(o,"prototype",{writable:false,enumerable:false});Object.defineProperty(o.prototype,"constructor",{writable:true,enumerable:false,configurable:true,value:o})}if(s&&typeof n.JsonLdProcessor==="undefined"){if(u){Object.defineProperty(n,"JsonLdProcessor",{writable:true,enumerable:false,configurable:true,value:o})}else{n.JsonLdProcessor=o}}var f=typeof setImmediate==="function"&&setImmediate;var c=f?function(e){f(e)}:function(e){setTimeout(e,0)};if(typeof r==="object"&&typeof r.nextTick==="function"){t.nextTick=r.nextTick}else{t.nextTick=c}t.setImmediate=f?c:t.nextTick;t.parseLinkHeader=function(e){var t={};var r=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g);var n=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/;for(var i=0;i<r.length;++i){var a=r[i].match(n);if(!a){continue}var s={target:a[1]};var o=a[2];var u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;while(a=u.exec(o)){s[a[1]]=a[2]===undefined?a[3]:a[2]}var l=s["rel"]||"";if(de(t[l])){t[l].push(s)}else if(l in t){t[l]=[t[l],s]}else{t[l]=s}}return t};t.DocumentCache=function(e){this.order=[];this.cache={};this.size=e||50;this.expires=30*1e3};t.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date){return t.ctx}delete this.cache[e];this.order.splice(this.order.indexOf(e),1)}return null};t.DocumentCache.prototype.set=function(e,t){if(this.order.length===this.size){delete this.cache[this.order.shift()]}this.order.push(e);this.cache[e]={ctx:t,expires:+new Date+this.expires}};t.ActiveContextCache=function(e){this.order=[];this.cache={};this.size=e||100};t.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e);var n=JSON.stringify(t);var i=this.cache[r];if(i&&n in i){return i[n]}return null};t.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e);var a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a});if(!(i in this.cache)){this.cache[i]={}}this.cache[i][a]=Re(r)};t.cache={activeCtx:new t.ActiveContextCache};t.documentLoaders={};t.documentLoaders.jquery=function(e,r){r=r||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new k('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(r.secure&&n.indexOf("https")!==0){return i(new k("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}e.ajax({url:n,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:true,success:function(e,r,a){var s={contextUrl:null,documentUrl:n,document:e};var o=a.getResponseHeader("Content-Type");var u=a.getResponseHeader("Link");if(u&&o!=="application/ld+json"){u=t.parseLinkHeader(u)[O];if(de(u)){return i(new k("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),s)}if(u){s.contextUrl=u.target}}i(null,s)},error:function(e,t,r){i(new k("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:r}),{contextUrl:null,documentUrl:n,document:null})}})};var i=typeof Promise!=="undefined";if("usePromise"in r){i=r.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.documentLoaders.node=function(r){r=r||{};var n="strictSSL"in r?r.strictSSL:true;var i="maxRedirects"in r?r.maxRedirects:-1;var a=e("request");var s=e("http");var o=new t.DocumentCache;function u(e,l,f){if(e.indexOf("http:")!==0&&e.indexOf("https:")!==0){return f(new k('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}if(r.secure&&e.indexOf("https")!==0){return f(new k("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:e}),{contextUrl:null,documentUrl:e,document:null})}var c=o.get(e);if(c!==null){return f(null,c)}a({url:e,headers:{Accept:"application/ld+json, application/json"},strictSSL:n,followRedirect:false},h);function h(r,n,a){c={contextUrl:null,documentUrl:e,document:a||null};if(r){return f(new k("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:r}),c)}var h=s.STATUS_CODES[n.statusCode];if(n.statusCode>=400){return f(new k("URL could not be dereferenced: "+h,"jsonld.InvalidUrl",{code:"loading document failed",url:e,httpStatusCode:n.statusCode}),c)}if(n.headers.link&&n.headers["content-type"]!=="application/ld+json"){var p=t.parseLinkHeader(n.headers.link)[O];if(de(p)){return f(new k("URL could not be dereferenced, it has more than one associated "+"HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:e}),c)}if(p){c.contextUrl=p.target}}if(n.statusCode>=300&&n.statusCode<400&&n.headers.location){if(l.length===i){return f(new k("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}if(l.indexOf(e)!==-1){return f(new k("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:e,httpStatusCode:n.statusCode,redirects:l}),c)}l.push(e);return u(n.headers.location,l,f)}l.push(e);for(var d=0;d<l.length;++d){o.set(l[d],{contextUrl:null,documentUrl:l[d],document:a})}f(r,c)}}var l=function(e,t){u(e,[],t)};if(r.usePromise){return function(e){return t.promisify(l,e)}}return l};t.documentLoaders.xhr=function(e){var r=/(^|(\r\n))link:/i;e=e||{};var n=function(n,i){if(n.indexOf("http:")!==0&&n.indexOf("https:")!==0){return i(new k('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}if(e.secure&&n.indexOf("https")!==0){return i(new k("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})}var a=e.xhr||XMLHttpRequest;var s=new a;s.onload=function(e){if(s.status>=400){return i(new k("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:s.status}),{contextUrl:null,documentUrl:n,document:null})}var a={contextUrl:null,documentUrl:n,document:s.response};var o=s.getResponseHeader("Content-Type");var u;if(r.test(s.getAllResponseHeaders())){u=s.getResponseHeader("Link")}if(u&&o!=="application/ld+json"){u=t.parseLinkHeader(u)[O];if(de(u)){return i(new k("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),a)}if(u){a.contextUrl=u.target}}i(null,a)};s.onerror=function(){i(new k("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})};s.open("GET",n,true);s.setRequestHeader("Accept","application/ld+json, application/json");s.send()};var i=typeof Promise!=="undefined";if("usePromise"in e){i=e.usePromise}if(i){return function(e){return t.promisify(n,e)}}return n};t.useDocumentLoader=function(e){if(!(e in t.documentLoaders)){throw new k('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e})}t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))};t.processContext=function(e,r){var n={};var i=2;if(arguments.length>3){n=arguments[2]||{};i+=1}var a=arguments[i];if(!("base"in n)){n.base=""}if(!("documentLoader"in n)){n.documentLoader=t.loadDocument}if(r===null){return a(null,fe(n))}r=Re(r);if(!(he(r)&&"@context"in r)){r={"@context":r}}Te(r,n,function(t,r){if(t){return a(t)}try{r=(new A).processContext(e,r,n)}catch(i){return a(i)}a(null,r)})};t.hasProperty=function(e,t){var r=false;if(t in e){var n=e[t];r=!de(n)||n.length>0}return r};t.hasValue=function(e,r,n){var i=false;if(t.hasProperty(e,r)){var a=e[r];var s=Ne(a);if(de(a)||s){if(s){a=a["@list"]}for(var o=0;o<a.length;++o){if(t.compareValues(n,a[o])){i=true;break}}}else if(!de(n)){i=t.compareValues(n,a)}}return i};t.addValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}if(!("allowDuplicate"in i)){i.allowDuplicate=true}if(de(n)){if(n.length===0&&i.propertyIsArray&&!(r in e)){e[r]=[]}for(var a=0;a<n.length;++a){t.addValue(e,r,n[a],i)}}else if(r in e){var s=!i.allowDuplicate&&t.hasValue(e,r,n);if(!de(e[r])&&(!s||i.propertyIsArray)){e[r]=[e[r]]}if(!s){e[r].push(n)}}else{e[r]=i.propertyIsArray?[n]:n}};t.getValues=function(e,t){var r=e[t]||[];if(!de(r)){r=[r]}return r};t.removeProperty=function(e,t){delete e[t]};t.removeValue=function(e,r,n,i){i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}var a=t.getValues(e,r).filter(function(e){return!t.compareValues(e,n)});if(a.length===0){t.removeProperty(e,r)}else if(a.length===1&&!i.propertyIsArray){e[r]=a[0]}else{e[r]=a}};t.compareValues=function(e,t){if(e===t){return true}if(je(e)&&je(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]){return true}if(he(e)&&"@id"in e&&he(t)&&"@id"in t){return e["@id"]===t["@id"]}return false};t.getContextValue=function(e,t,r){var n=null;if(t===null){return n}if(r==="@language"&&r in e){n=e[r]}if(e.mappings[t]){var i=e.mappings[t];if(xe(r)){n=i}else if(r in i){n=i[r]}}return n};var h={};t.registerRDFParser=function(e,t){h[e]=t};t.unregisterRDFParser=function(e){delete h[e]};if(a){if(typeof p==="undefined"){var p=null}if(typeof d==="undefined"){var d={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}}var v="http://www.w3.org/2001/XMLSchema#boolean";var g="http://www.w3.org/2001/XMLSchema#double";var m="http://www.w3.org/2001/XMLSchema#integer";var b="http://www.w3.org/2001/XMLSchema#string";var y="http://www.w3.org/1999/02/22-rdf-syntax-ns#";var w=y+"List";var x=y+"first";var _=y+"rest";var E=y+"nil";var j=y+"type";var N=y+"PlainLiteral";var I=y+"XMLLiteral";var S=y+"object";var R=y+"langString";var O="http://www.w3.org/ns/json-ld#context";var T=10;var k=function(e,t,r){if(a){Error.call(this);Error.captureStackTrace(this,this.constructor)}else if(typeof Error!=="undefined"){this.stack=(new Error).stack}this.name=t||"jsonld.Error";this.message=e||"An unspecified JSON-LD error occurred.";this.details=r||{}};if(a){e("util").inherits(k,Error)}else if(typeof Error!=="undefined"){k.prototype=new Error}var A=function(){};A.prototype.compact=function(e,r,n,i){if(de(n)){var a=[];for(var s=0;s<n.length;++s){var o=this.compact(e,r,n[s],i);if(o!==null){a.push(o)}}if(i.compactArrays&&a.length===1){var u=t.getContextValue(e,r,"@container");if(u===null){a=a[0]}}return a}if(he(n)){if(i.link&&"@id"in n&&n["@id"]in i.link){var l=i.link[n["@id"]];for(var s=0;s<l.length;++s){if(l[s].expanded===n){return l[s].compacted}}}if(je(n)||Ee(n)){var a=ae(e,r,n);if(i.link&&Ee(n)){if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}return a}var f=r==="@reverse";var a={};if(i.link&&"@id"in n){
if(!(n["@id"]in i.link)){i.link[n["@id"]]=[]}i.link[n["@id"]].push({expanded:n,compacted:a})}var c=Object.keys(n).sort();for(var h=0;h<c.length;++h){var p=c[h];var d=n[p];if(p==="@id"||p==="@type"){var v;if(ge(d)){v=ie(e,d,null,{vocab:p==="@type"})}else{v=[];for(var g=0;g<d.length;++g){v.push(ie(e,d[g],null,{vocab:true}))}}var m=ie(e,p);var b=de(v)&&d.length===0;t.addValue(a,m,v,{propertyIsArray:b});continue}if(p==="@reverse"){var v=this.compact(e,"@reverse",d,i);for(var y in v){if(e.mappings[y]&&e.mappings[y].reverse){var w=v[y];var u=t.getContextValue(e,y,"@container");var x=u==="@set"||!i.compactArrays;t.addValue(a,y,w,{propertyIsArray:x});delete v[y]}}if(Object.keys(v).length>0){var m=ie(e,p);t.addValue(a,m,v)}continue}if(p==="@index"){var u=t.getContextValue(e,r,"@container");if(u==="@index"){continue}var m=ie(e,p);t.addValue(a,m,d);continue}if(p!=="@graph"&&p!=="@list"&&ce(p)){var m=ie(e,p);t.addValue(a,m,d);continue}if(d.length===0){var _=ie(e,p,d,{vocab:true},f);t.addValue(a,_,d,{propertyIsArray:true})}for(var g=0;g<d.length;++g){var E=d[g];var _=ie(e,p,E,{vocab:true},f);var u=t.getContextValue(e,_,"@container");var j=Ne(E);var N=null;if(j){N=E["@list"]}var I=this.compact(e,_,j?N:E,i);if(j){if(!de(I)){I=[I]}if(u!=="@list"){var S={};S[ie(e,"@list")]=I;I=S;if("@index"in E){I[ie(e,"@index")]=E["@index"]}}else if(_ in a){throw new k('JSON-LD compact error; property has a "@list" @container '+"rule but there is more than a single @list that matches "+"the compacted term in the document. Compaction might mix "+"unwanted items into the list.","jsonld.SyntaxError",{code:"compaction to list of lists"})}}if(u==="@language"||u==="@index"){var R;if(_ in a){R=a[_]}else{a[_]=R={}}if(u==="@language"&&je(I)){I=I["@value"]}t.addValue(R,E[u],I)}else{var b=!i.compactArrays||u==="@set"||u==="@list"||de(I)&&I.length===0||p==="@list"||p==="@graph";t.addValue(a,_,I,{propertyIsArray:b})}}}return a}return n};A.prototype.expand=function(e,r,n,i,a){var s=this;if(n===null||n===undefined){return null}if(!de(n)&&!he(n)){if(!a&&(r===null||oe(e,r,{vocab:true})==="@graph")){return null}return P(e,r,n)}if(de(n)){var o=[];var u=t.getContextValue(e,r,"@container");a=a||u==="@list";for(var l=0;l<n.length;++l){var f=s.expand(e,r,n[l],i);if(a&&(de(f)||Ne(f))){throw new k("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}if(f!==null){if(de(f)){o=o.concat(f)}else{o.push(f)}}}return o}if("@context"in n){e=s.processContext(e,n["@context"],i)}var c=oe(e,r,{vocab:true});var o={};var h=Object.keys(n).sort();for(var p=0;p<h.length;++p){var d=h[p];var v=n[d];var g;if(d==="@context"){continue}var m=oe(e,d,{vocab:true});if(m===null||!(Se(m)||ce(m))){continue}if(ce(m)){if(c==="@reverse"){throw new k("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse "+"property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:v})}if(m in o){throw new k("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:m})}}if(m==="@id"&&!ge(v)){if(!i.isFrame){throw new k('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:v})}if(!he(v)){throw new k('Invalid JSON-LD syntax; "@id" value must be a string or an '+"object.","jsonld.SyntaxError",{code:"invalid @id value",value:v})}}if(m==="@type"){ve(v)}if(m==="@graph"&&!(he(v)||de(v))){throw new k('Invalid JSON-LD syntax; "@graph" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid @graph value",value:v})}if(m==="@value"&&(he(v)||de(v))){throw new k('Invalid JSON-LD syntax; "@value" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid value object value",value:v})}if(m==="@language"){if(v===null){continue}if(!ge(v)){throw new k('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:v})}v=v.toLowerCase()}if(m==="@index"){if(!ge(v)){throw new k('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:v})}}if(m==="@reverse"){if(!he(v)){throw new k('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:v})}g=s.expand(e,"@reverse",v,i);if("@reverse"in g){for(var b in g["@reverse"]){t.addValue(o,b,g["@reverse"][b],{propertyIsArray:true})}}var y=o["@reverse"]||null;for(var b in g){if(b==="@reverse"){continue}if(y===null){y=o["@reverse"]={}}t.addValue(y,b,[],{propertyIsArray:true});var w=g[b];for(var x=0;x<w.length;++x){var _=w[x];if(je(_)||Ne(_)){throw new k('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(y,b,_,{propertyIsArray:true})}}continue}var u=t.getContextValue(e,d,"@container");if(u==="@language"&&he(v)){g=C(v)}else if(u==="@index"&&he(v)){g=function R(t){var r=[];var n=Object.keys(v).sort();for(var a=0;a<n.length;++a){var o=n[a];var u=v[o];if(!de(u)){u=[u]}u=s.expand(e,t,u,i,false);for(var l=0;l<u.length;++l){var f=u[l];if(!("@index"in f)){f["@index"]=o}r.push(f)}}return r}(d)}else{var E=m==="@list";if(E||m==="@set"){var j=r;if(E&&c==="@graph"){j=null}g=s.expand(e,j,v,i,E);if(E&&Ne(g)){throw new k("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}}else{g=s.expand(e,d,v,i,false)}}if(g===null&&m!=="@value"){continue}if(m!=="@list"&&!Ne(g)&&u==="@list"){g=de(g)?g:[g];g={"@list":g}}if(e.mappings[d]&&e.mappings[d].reverse){var y=o["@reverse"]=o["@reverse"]||{};if(!de(g)){g=[g]}for(var x=0;x<g.length;++x){var _=g[x];if(je(_)||Ne(_)){throw new k('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:g})}t.addValue(y,m,_,{propertyIsArray:true})}continue}var N=["@index","@id","@type","@value","@language"].indexOf(m)===-1;t.addValue(o,m,g,{propertyIsArray:N})}h=Object.keys(o);var I=h.length;if("@value"in o){if("@type"in o&&"@language"in o){throw new k('Invalid JSON-LD syntax; an element containing "@value" may not '+'contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:o})}var S=I-1;if("@type"in o){S-=1}if("@index"in o){S-=1}if("@language"in o){S-=1}if(S!==0){throw new k('Invalid JSON-LD syntax; an element containing "@value" may only '+'have an "@index" property and at most one other property '+'which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:o})}if(o["@value"]===null){o=null}else if("@language"in o&&!ge(o["@value"])){throw new k("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:o})}else if("@type"in o&&(!Se(o["@type"])||o["@type"].indexOf("_:")===0)){throw new k('Invalid JSON-LD syntax; an element containing "@value" and "@type" '+'must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:o})}}else if("@type"in o&&!de(o["@type"])){o["@type"]=[o["@type"]]}else if("@set"in o||"@list"in o){if(I>1&&!(I===2&&"@index"in o)){throw new k('Invalid JSON-LD syntax; if an element has the property "@set" '+'or "@list", then it can have at most one other property that is '+'"@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:o})}if("@set"in o){o=o["@set"];h=Object.keys(o);I=h.length}}else if(I===1&&"@language"in o){o=null}if(he(o)&&!i.keepFreeFloatingNodes&&!a&&(r===null||c==="@graph")){if(I===0||"@value"in o||"@list"in o||I===1&&"@id"in o){o=null}}return o};A.prototype.createNodeMap=function(e,t){t=t||{};var r=t.namer||new Pe("_:b");var n={"@default":{}};V(e,n,"@default",r);return H(n)};A.prototype.flatten=function(e){var t=this.createNodeMap(e);var r=[];var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=t[n[i]];if(!Ee(a)){r.push(a)}}return r};A.prototype.frame=function(e,t,r){var n={options:r,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}};var i=new Pe("_:b");V(e,n.graphs,"@merged",i);n.subjects=n.graphs["@merged"];var a=[];X(n,Object.keys(n.subjects).sort(),t,a,null);return a};A.prototype.normalize=function(e,r,n){var i=[];var a={};for(var s in e){var o=e[s];if(s==="@default"){s=null}for(var u=0;u<o.length;++u){var l=o[u];if(s!==null){if(s.indexOf("_:")===0){l.name={type:"blank node",value:s}}else{l.name={type:"IRI",value:s}}}i.push(l);var f=["subject","object","name"];for(var c=0;c<f.length;++c){var h=f[c];if(l[h]&&l[h].type==="blank node"){var p=l[h].value;if(p in a){a[p].quads.push(l)}else{a[p]={quads:[l]}}}}}}var d=new Pe("_:c14n");return v(Object.keys(a));function v(e){var r=[];var n={};var i={};t.setImmediate(function(){s(0)});function s(o){if(o===e.length){return g(i,n,r)}var u=e[o];var l=q(u,a);if(l in n){n[l].push(u);r.push(u)}else if(l in i){n[l]=[i[l],u];r.push(i[l]);r.push(u);delete i[l]}else{i[l]=u}t.setImmediate(function(){s(o+1)})}}function g(e,t,r){var n=false;var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var s=e[i[a]];d.getName(s);n=true}if(n){v(r)}else{m(t)}}function m(e){var t=Object.keys(e).sort();r(0);function r(i){if(i===t.length){return b()}var s=e[t[i]];var o=[];u(s,0);function u(e,t){if(t===e.length){o.sort(function(e,t){e=e.hash;t=t.hash;return e<t?-1:e>t?1:0});for(var s=0;s<o.length;++s){for(var l in o[s].pathNamer.existing){d.getName(l)}}return r(i+1)}var f=e[t];if(d.isNamed(f)){return u(e,t+1)}var c=new Pe("_:b");c.getName(f);z(f,a,d,c,function(r,i){if(r){return n(r)}o.push(i);u(e,t+1)})}}}function b(){var e=[];for(var t=0;t<i.length;++t){var a=i[t];var s=["subject","object","name"];for(var o=0;o<s.length;++o){var u=s[o];if(a[u]&&a[u].type==="blank node"&&a[u].value.indexOf("_:c14n")!==0){a[u].value=d.getName(a[u].value)}}e.push(Ce(a,a.name?a.name.value:null))}e.sort();if(r.format){if(r.format==="application/nquads"){return n(null,e.join(""))}return n(new k("Unknown output format.","jsonld.UnknownFormat",{format:r.format}))}n(null,ke(e.join("")))}};A.prototype.fromRDF=function(e,r,n){var i={};var a={"@default":i};var s={};for(var o in e){var u=e[o];if(!(o in a)){a[o]={}}if(o!=="@default"&&!(o in i)){i[o]={"@id":o}}var l=a[o];for(var f=0;f<u.length;++f){var c=u[f];var h=c.subject.value;var p=c.predicate.value;var d=c.object;if(!(h in l)){l[h]={"@id":h}}var v=l[h];var g=d.type==="IRI"||d.type==="blank node";if(g&&!(d.value in l)){l[d.value]={"@id":d.value}}if(p===j&&!r.useRdfType&&g){t.addValue(v,"@type",d.value,{propertyIsArray:true});continue}var m=B(d,r.useNativeTypes);t.addValue(v,p,m,{propertyIsArray:true});if(g){if(d.value===E){var b=l[d.value];if(!("usages"in b)){b.usages=[]}b.usages.push({node:v,property:p,value:m})}else if(d.value in s){s[d.value]=false}else{s[d.value]={node:v,property:p,value:m}}}}}for(var o in a){var y=a[o];if(!(E in y)){continue}var N=y[E];for(var I=0;I<N.usages.length;++I){var S=N.usages[I];var v=S.node;var R=S.property;var O=S.value;var T=[];var k=[];var A=Object.keys(v).length;while(R===_&&he(s[v["@id"]])&&de(v[x])&&v[x].length===1&&de(v[_])&&v[_].length===1&&(A===3||A===4&&de(v["@type"])&&v["@type"].length===1&&v["@type"][0]===w)){T.push(v[x][0]);k.push(v["@id"]);S=s[v["@id"]];v=S.node;R=S.property;O=S.value;A=Object.keys(v).length;if(v["@id"].indexOf("_:")!==0){break}}if(R===x){if(v["@id"]===E){continue}O=y[O["@id"]][_][0];T.pop();k.pop()}delete O["@id"];O["@list"]=T.reverse();for(var C=0;C<k.length;++C){delete y[k[C]]}}delete N.usages}var L=[];var P=Object.keys(i).sort();for(var I=0;I<P.length;++I){var D=P[I];var v=i[D];if(D in a){var u=v["@graph"]=[];var y=a[D];var U=Object.keys(y).sort();for(var M=0;M<U.length;++M){var F=y[U[M]];if(!Ee(F)){u.push(F)}}}if(!Ee(v)){L.push(v)}}n(null,L)};A.prototype.toRDF=function(e,t){var r=new Pe("_:b");var n={"@default":{}};V(e,n,"@default",r);var i={};var a=Object.keys(n).sort();for(var s=0;s<a.length;++s){var o=a[s];if(o==="@default"||Se(o)){i[o]=D(n[o],r,t)}}return i};A.prototype.processContext=function(e,r,n){if(he(r)&&"@context"in r&&de(r["@context"])){r=r["@context"]}var i=de(r)?r:[r];if(i.length===0){return e.clone()}var a=e;for(var s=0;s<i.length;++s){var o=i[s];if(o===null){a=e=fe(n);continue}if(he(o)&&"@context"in o){o=o["@context"]}if(!he(o)){throw new k("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:o})}if(t.cache.activeCtx){var u=t.cache.activeCtx.get(e,o);if(u){a=e=u;continue}}e=a;a=a.clone();var l={};if("@base"in o){var f=o["@base"];if(f===null){f=null}else if(!ge(f)){throw new k('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid base IRI",context:o})}else if(f!==""&&!Se(f)){throw new k('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be an absolute IRI or the empty string.","jsonld.SyntaxError",{code:"invalid base IRI",context:o})}if(f!==null){f=t.url.parse(f||"")}a["@base"]=f;l["@base"]=true}if("@vocab"in o){var c=o["@vocab"];if(c===null){delete a["@vocab"]}else if(!ge(c)){throw new k('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:o})}else if(!Se(c)){throw new k('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:o})}else{a["@vocab"]=c}l["@vocab"]=true}if("@language"in o){var c=o["@language"];if(c===null){delete a["@language"]}else if(!ge(c)){throw new k('Invalid JSON-LD syntax; the value of "@language" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid default language",context:o})}else{a["@language"]=c.toLowerCase()}l["@language"]=true}for(var h in o){se(a,o,h,l)}if(t.cache.activeCtx){t.cache.activeCtx.set(e,o,a)}}return a};function C(e){var t=[];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];var a=e[i];if(!de(a)){a=[a]}for(var s=0;s<a.length;++s){var o=a[s];if(!ge(o)){throw new k("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e})}t.push({"@value":o,"@language":i.toLowerCase()})}}return t}function L(e,t){if(de(t)){for(var r=0;r<t.length;++r){t[r]=L(e,t[r])}}else if(Ne(t)){t["@list"]=L(e,t["@list"])}else if(he(t)){if(Ie(t)){t["@id"]=e.getName(t["@id"])}var n=Object.keys(t).sort();for(var i=0;i<n.length;++i){var a=n[i];if(a!=="@id"){t[a]=L(e,t[a])}}}return t}function P(e,r,n){if(n===null||n===undefined){return null}var i=oe(e,r,{vocab:true});if(i==="@id"){return oe(e,n,{base:true})}else if(i==="@type"){return oe(e,n,{vocab:true,base:true})}var a=t.getContextValue(e,r,"@type");if(a==="@id"||i==="@graph"&&ge(n)){return{"@id":oe(e,n,{base:true})}}if(a==="@vocab"){return{"@id":oe(e,n,{vocab:true,base:true})}}if(ce(i)){return n}var s={};if(a!==null){s["@type"]=a}else if(ge(n)){var o=t.getContextValue(e,r,"@language");if(o!==null){s["@language"]=o}}if(["boolean","number","string"].indexOf(typeof n)===-1){n=n.toString()}s["@value"]=n;return s}function D(e,t,r){var n=[];var i=Object.keys(e).sort();for(var a=0;a<i.length;++a){var s=i[a];var o=e[s];var u=Object.keys(o).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=o[f];if(f==="@type"){f=j}else if(ce(f)){continue}for(var h=0;h<c.length;++h){var p=c[h];var d={};d.type=s.indexOf("_:")===0?"blank node":"IRI";d.value=s;if(!Se(s)){continue}var v={};v.type=f.indexOf("_:")===0?"blank node":"IRI";v.value=f;if(!Se(f)){continue}if(v.type==="blank node"&&!r.produceGeneralizedRdf){continue}if(Ne(p)){U(p["@list"],t,d,v,n)}else{var g=M(p);if(g){n.push({subject:d,predicate:v,object:g})}}}}}return n}function U(e,t,r,n,i){var a={type:"IRI",value:x};var s={type:"IRI",value:_};var o={type:"IRI",value:E};for(var u=0;u<e.length;++u){var l=e[u];var f={type:"blank node",value:t.getName()};i.push({subject:r,predicate:n,object:f});r=f;n=a;var c=M(l);if(c){i.push({subject:r,predicate:n,object:c})}n=s}i.push({subject:r,predicate:n,object:o})}function M(e){var t={};if(je(e)){t.type="literal";var r=e["@value"];var n=e["@type"]||null;if(we(r)){t.value=r.toString();t.datatype=n||v}else if(be(r)||n===g){if(!be(r)){r=parseFloat(r)}t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E");t.datatype=n||g}else if(me(r)){t.value=r.toFixed(0);t.datatype=n||m}else if("@language"in e){t.value=r;t.datatype=n||R;t.language=e["@language"]}else{t.value=r;t.datatype=n||b}}else{var i=he(e)?e["@id"]:e;t.type=i.indexOf("_:")===0?"blank node":"IRI";t.value=i}if(t.type==="IRI"&&!Se(t.value)){return null}return t}function B(e,t){if(e.type==="IRI"||e.type==="blank node"){return{"@id":e.value}}var r={"@value":e.value};if(e.language){r["@language"]=e.language}else{var n=e.datatype;if(!n){n=b}if(t){if(n===v){if(r["@value"]==="true"){r["@value"]=true}else if(r["@value"]==="false"){r["@value"]=false}}else if(ye(r["@value"])){if(n===m){var i=parseInt(r["@value"],10);if(i.toFixed(0)===r["@value"]){r["@value"]=i}}else if(n===g){r["@value"]=parseFloat(r["@value"])}}if([v,m,g,b].indexOf(n)===-1){r["@type"]=n}}else if(n!==b){r["@type"]=n}}return r}function F(e,t){var r=["subject","predicate","object"];for(var n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value){return false}}if(e.object.language!==t.object.language){return false}if(e.object.datatype!==t.object.datatype){return false}return true}function q(e,t){if("hash"in t[e]){return t[e].hash}var r=t[e].quads;var n=[];for(var i=0;i<r.length;++i){n.push(Ce(r[i],r[i].name?r[i].name.value:null,e))}n.sort();var a=t[e].hash=Ue.hash(n);return a}function z(e,r,n,i,a){var s=Ue.create();var o={};var u;var l=r[e].quads;t.setImmediate(function(){f(0)});function f(a){if(a===l.length){u=Object.keys(o).sort();return c(0)}var s=l[a];var h=G(s.subject,e);var p=null;if(h!==null){p="p"}else{h=G(s.object,e);if(h!==null){p="r"}}if(h!==null){var d;if(n.isNamed(h)){d=n.getName(h)}else if(i.isNamed(h)){d=i.getName(h)}else{d=q(h,r)}var v=Ue.create();v.update(p);v.update(s.predicate.value);v.update(d);var g=v.digest();if(g in o){o[g].push(h)}else{o[g]=[h]}}t.setImmediate(function(){f(a+1)})}function c(e){if(e===u.length){return a(null,{hash:s.digest(),pathNamer:i})}var l=u[e];s.update(l);var f=null;var h=null;var p=new De(o[l]);t.setImmediate(function(){d()});function d(){var o=p.next();var u=i.clone();var l="";var v=[];for(var g in o){var m=o[g];if(n.isNamed(m)){l+=n.getName(m)}else{if(!u.isNamed(m)){v.push(m)}l+=u.getName(m)}if(f!==null&&l.length>=f.length&&l>f){return y(true)}}b(0);function b(e){if(e===v.length){return y(false)}var t=v[e];z(t,r,n,u,function(r,n){if(r){return a(r)}l+=u.getName(t)+"<"+n.hash+">";u=n.pathNamer;if(f!==null&&l.length>=f.length&&l>f){return y(true)}b(e+1)})}function y(r){if(!r&&(f===null||l<f)){f=l;h=u}if(p.hasNext()){t.setImmediate(function(){d()})}else{s.update(f);i=h;c(e+1)}}}}}function G(e,t){return e.type==="blank node"&&e.value!==t?e.value:null}function V(e,r,n,i,a,s){if(de(e)){for(var o=0;o<e.length;++o){V(e[o],r,n,i,undefined,s)}return}if(!he(e)){if(s){s.push(e)}return}if(je(e)){if("@type"in e){var u=e["@type"];if(u.indexOf("_:")===0){e["@type"]=u=i.getName(u)}}if(s){s.push(e)}return}if("@type"in e){var l=e["@type"];for(var o=0;o<l.length;++o){var u=l[o];if(u.indexOf("_:")===0){i.getName(u)}}}if(xe(a)){a=Ie(e)?i.getName(e["@id"]):e["@id"]}if(s){s.push({"@id":a})}var f=r[n];var c=f[a]=f[a]||{};c["@id"]=a;var h=Object.keys(e).sort();for(var p=0;p<h.length;++p){var d=h[p];if(d==="@id"){continue}if(d==="@reverse"){var v={"@id":a};var g=e["@reverse"];for(var m in g){var b=g[m];for(var y=0;y<b.length;++y){var w=b[y];var x=w["@id"];if(Ie(w)){x=i.getName(x)}V(w,r,n,i,x);t.addValue(f[x],m,v,{propertyIsArray:true,allowDuplicate:false})}}continue}if(d==="@graph"){if(!(a in r)){r[a]={}}var _=n==="@merged"?n:a;V(e[d],r,_,i);continue}if(d!=="@type"&&ce(d)){if(d==="@index"&&d in c&&(e[d]!==c[d]||e[d]["@id"]!==c[d]["@id"])){throw new k("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:c})}c[d]=e[d];continue}var E=e[d];if(d.indexOf("_:")===0){d=i.getName(d)}if(E.length===0){t.addValue(c,d,[],{propertyIsArray:true});continue}for(var j=0;j<E.length;++j){var N=E[j];if(d==="@type"){N=N.indexOf("_:")===0?i.getName(N):N}if(_e(N)||Ee(N)){var I=Ie(N)?i.getName(N["@id"]):N["@id"];t.addValue(c,d,{"@id":I},{propertyIsArray:true,allowDuplicate:false});V(N,r,n,i,I)}else if(Ne(N)){var S=[];V(N["@list"],r,n,i,a,S);N={"@list":S};t.addValue(c,d,N,{propertyIsArray:true,allowDuplicate:false})}else{V(N,r,n,i,a);t.addValue(c,d,N,{propertyIsArray:true,allowDuplicate:false})}}}}function H(e){var t=e["@default"];var r=Object.keys(e).sort();for(var n=0;n<r.length;++n){var i=r[n];if(i==="@default"){continue}var a=e[i];var s=t[i];if(!s){t[i]=s={"@id":i,"@graph":[]}}else if(!("@graph"in s)){s["@graph"]=[]}var o=s["@graph"];var u=Object.keys(a).sort();for(var l=0;l<u.length;++l){var f=a[u[l]];if(!Ee(f)){o.push(f)}}}return t}function X(e,t,r,n,i){W(r);r=r[0];var a=e.options;var s={embed:Y(r,a,"embed"),explicit:Y(r,a,"explicit"),requireAll:Y(r,a,"requireAll")};var o=Z(e,t,r,s);var u=Object.keys(o).sort();for(var l=0;l<u.length;++l){var f=u[l];var c=o[f];if(s.embed==="@link"&&f in e.link){ee(n,i,e.link[f]);continue}if(i===null){e.uniqueEmbeds={}}var h={};h["@id"]=f;e.link[f]=h;if(s.embed==="@never"||$(c,e.subjectStack)){ee(n,i,h);continue}if(s.embed==="@last"){if(f in e.uniqueEmbeds){Q(e,f)}e.uniqueEmbeds[f]={parent:n,property:i}}e.subjectStack.push(c);var p=Object.keys(c).sort();for(var d=0;d<p.length;d++){var v=p[d];if(ce(v)){h[v]=Re(c[v]);continue}if(s.explicit&&!(v in r)){continue}var g=c[v];for(var m=0;m<g.length;++m){var b=g[m];if(Ne(b)){var y={"@list":[]};ee(h,v,y);var w=b["@list"];for(var x in w){b=w[x];if(Ee(b)){var _=v in r?r[v][0]["@list"]:J(s);X(e,[b["@id"]],_,y,"@list")}else{ee(y,"@list",Re(b))}}continue}if(Ee(b)){var _=v in r?r[v]:J(s);X(e,[b["@id"]],_,h,v)}else{ee(h,v,Re(b))}}}var p=Object.keys(r).sort();for(var d=0;d<p.length;++d){var v=p[d];if(ce(v)){continue}var E=r[v][0];var j=Y(E,a,"omitDefault");if(!j&&!(v in h)){var N="@null";if("@default"in E){N=Re(E["@default"])}if(!de(N)){N=[N]}h[v]=[{"@preserve":N}]}}ee(n,i,h);e.subjectStack.pop()}}function J(e){var t={};for(var r in e){if(e[r]!==undefined){t["@"+r]=[e[r]]}}return[t]}function $(e,t){for(var r=t.length-1;r>=0;--r){if(t[r]["@id"]===e["@id"]){return true}}return false}function Y(e,t,r){var n="@"+r;var i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===true){i="@last"}else if(i===false){i="@never"}else if(i!=="@always"&&i!=="@never"&&i!=="@link"){i="@last"}}return i}function W(e){if(!de(e)||e.length!==1||!he(e[0])){throw new k("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}}function Z(e,t,r,n){var i={};for(var a=0;a<t.length;++a){var s=t[a];var o=e.subjects[s];if(K(o,r,n)){i[s]=o}}return i}function K(e,r,n){if("@type"in r&&!(r["@type"].length===1&&he(r["@type"][0]))){var i=r["@type"];for(var a=0;a<i.length;++a){if(t.hasValue(e,"@type",i[a])){return true}}return false}var s=true;var o=false;for(var u in r){if(ce(u)){if(u!=="@id"&&u!=="@type"){continue}s=false;if(u==="@id"&&ge(r[u])){if(e[u]!==r[u]){return false}o=true;continue}}s=false;if(u in e){if(de(r[u])&&r[u].length===0&&e[u]!==undefined){return false}o=true;continue}var l=de(r[u])&&he(r[u][0])&&"@default"in r[u][0];if(n.requireAll&&!l){return false}}return s||o}function Q(e,r){var n=e.uniqueEmbeds;var i=n[r];var a=i.parent;var s=i.property;var o={"@id":r};if(de(a)){for(var u=0;u<a.length;++u){if(t.compareValues(a[u],o)){a[u]=o;break}}}else{var l=de(a[s]);t.removeValue(a,s,o,{propertyIsArray:l});t.addValue(a,s,o,{propertyIsArray:l})}var f=function(e){var t=Object.keys(n);for(var r=0;r<t.length;++r){var i=t[r];if(i in n&&he(n[i].parent)&&n[i].parent["@id"]===e){delete n[i];f(i)}}};f(r)}function ee(e,r,n){if(he(e)){t.addValue(e,r,n,{propertyIsArray:true})}else{e.push(n)}}function te(e,r,n){if(de(r)){var i=[];for(var a=0;a<r.length;++a){var s=te(e,r[a],n);if(s!==null){i.push(s)}}r=i}else if(he(r)){if("@preserve"in r){if(r["@preserve"]==="@null"){return null}return r["@preserve"]}if(je(r)){return r}if(Ne(r)){r["@list"]=te(e,r["@list"],n);return r}var o=ie(e,"@id");if(o in r){var u=r[o];if(u in n.link){var l=n.link[u].indexOf(r);if(l===-1){n.link[u].push(r)}else{return n.link[u][l]}}else{n.link[u]=[r]}}for(var f in r){var s=te(e,r[f],n);var c=t.getContextValue(e,f,"@container");if(n.compactArrays&&de(s)&&s.length===1&&c===null){s=s[0]}r[f]=s}}return r}function re(e,t){if(e.length<t.length){return-1}if(t.length<e.length){return 1}if(e===t){return 0}return e<t?-1:1}function ne(e,t,r,n,i,a){if(a===null){a="@null"}var s=[];if((a==="@id"||a==="@reverse")&&Ee(r)){if(a==="@reverse"){s.push("@reverse")}var o=ie(e,r["@id"],null,{vocab:true});if(o in e.mappings&&e.mappings[o]&&e.mappings[o]["@id"]===r["@id"]){s.push.apply(s,["@vocab","@id"])}else{s.push.apply(s,["@id","@vocab"])}}else{s.push(a)}s.push("@none");var u=e.inverse[t];for(var l=0;l<n.length;++l){var f=n[l];if(!(f in u)){continue}var c=u[f][i];for(var h=0;h<s.length;++h){var p=s[h];if(!(p in c)){continue}return c[p]}}return null}function ie(e,t,r,n,i){if(t===null){return t}if(xe(r)){r=null}if(xe(i)){i=false}n=n||{};if(ce(t)){n.vocab=true}if(n.vocab&&t in e.getInverse()){var a=e["@language"]||"@none";var s=[];if(he(r)&&"@index"in r){s.push("@index")}var o="@language";var u="@null";if(i){o="@type";u="@reverse";s.push("@set")}else if(Ne(r)){if(!("@index"in r)){s.push("@list")}var l=r["@list"];var f=l.length===0?a:null;var c=null;for(var h=0;h<l.length;++h){var p=l[h];var d="@none";var v="@none";if(je(p)){if("@language"in p){d=p["@language"]}else if("@type"in p){v=p["@type"]}else{d="@null"}}else{v="@id"}if(f===null){f=d}else if(d!==f&&je(p)){f="@none"}if(c===null){c=v}else if(v!==c){c="@none"}if(f==="@none"&&c==="@none"){break}}f=f||"@none";c=c||"@none";if(c!=="@none"){o="@type";u=c}else{u=f}}else{if(je(r)){if("@language"in r&&!("@index"in r)){s.push("@language");u=r["@language"]}else if("@type"in r){o="@type";u=r["@type"]}}else{o="@type";u="@id"}s.push("@set")}s.push("@none");var g=ne(e,t,r,s,o,u);if(g!==null){return g}}if(n.vocab){if("@vocab"in e){var m=e["@vocab"];if(t.indexOf(m)===0&&t!==m){var b=t.substr(m.length);if(!(b in e.mappings)){return b}}}}var y=null;for(var g in e.mappings){if(g.indexOf(":")!==-1){continue}var w=e.mappings[g];if(!w||w["@id"]===t||t.indexOf(w["@id"])!==0){continue}var x=g+":"+t.substr(w["@id"].length);var _=!(x in e.mappings)||r===null&&e.mappings[x]&&e.mappings[x]["@id"]===t;if(_&&(y===null||re(x,y)<0)){y=x}}if(y!==null){return y}if(!n.vocab){return le(e["@base"],t)}return t}function ae(e,r,n){if(je(n)){var i=t.getContextValue(e,r,"@type");var a=t.getContextValue(e,r,"@language");var s=t.getContextValue(e,r,"@container");var o="@index"in n&&s!=="@index";if(!o){if(n["@type"]===i||n["@language"]===a){return n["@value"]}}var u=Object.keys(n).length;var l=u===1||u===2&&"@index"in n&&!o;var f="@language"in e;var c=ge(n["@value"]);var h=e.mappings[r]&&e.mappings[r]["@language"]===null;if(l&&(!f||!c||h)){return n["@value"]}var p={};if(o){p[ie(e,"@index")]=n["@index"]}if("@type"in n){p[ie(e,"@type")]=ie(e,n["@type"],null,{vocab:true})}else if("@language"in n){p[ie(e,"@language")]=n["@language"]}p[ie(e,"@value")]=n["@value"];return p}var d=oe(e,r,{vocab:true});var i=t.getContextValue(e,r,"@type");var v=ie(e,n["@id"],null,{vocab:i==="@vocab"});if(i==="@id"||i==="@vocab"||d==="@graph"){return v}var p={};p[ie(e,"@id")]=v;return p}function se(e,t,r,n){if(r in n){if(n[r]){return}throw new k("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n[r]=false;if(ce(r)){throw new k("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}if(r===""){throw new k("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}if(e.mappings[r]){delete e.mappings[r]}var i=t[r];if(i===null||he(i)&&i["@id"]===null){e.mappings[r]=null;n[r]=true;return}if(ge(i)){i={"@id":i}}if(!he(i)){throw new k("Invalid JSON-LD syntax; @context property values must be "+"strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}var a=e.mappings[r]={};a.reverse=false;if("@reverse"in i){if("@id"in i){throw new k("Invalid JSON-LD syntax; a @reverse term definition must not "+"contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}var s=i["@reverse"];if(!ge(s)){throw new k("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}var o=oe(e,s,{vocab:true,base:false},t,n);if(!Se(o)){throw new k("Invalid JSON-LD syntax; a @context @reverse value must be an "+"absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}a["@id"]=o;a.reverse=true}else if("@id"in i){var o=i["@id"];if(!ge(o)){throw new k("Invalid JSON-LD syntax; a @context @id value must be an array "+"of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}if(o!==r){o=oe(e,o,{vocab:true,base:false},t,n);if(!Se(o)&&!ce(o)){throw new k("Invalid JSON-LD syntax; a @context @id value must be an "+"absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}a["@id"]=o}}if(!("@id"in a)){var u=r.indexOf(":");if(u!==-1){var l=r.substr(0,u);if(l in t){se(e,t,l,n)}if(e.mappings[l]){var f=r.substr(u+1);a["@id"]=e.mappings[l]["@id"]+f}else{a["@id"]=r}}else{if(!("@vocab"in e)){throw new k("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r})}a["@id"]=e["@vocab"]+r}}n[r]=true;if("@type"in i){var c=i["@type"];if(!ge(c)){throw new k("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c!=="@id"&&c!=="@vocab"){c=oe(e,c,{vocab:true,base:false},t,n);if(!Se(c)){throw new k("Invalid JSON-LD syntax; an @context @type value must be an "+"absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}if(c.indexOf("_:")===0){throw new k("Invalid JSON-LD syntax; an @context @type values must be an IRI, "+"not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}}a["@type"]=c}if("@container"in i){var h=i["@container"];if(h!=="@list"&&h!=="@set"&&h!=="@index"&&h!=="@language"){throw new k("Invalid JSON-LD syntax; @context @container value must be "+"one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}if(a.reverse&&h!=="@index"&&h!=="@set"&&h!==null){throw new k("Invalid JSON-LD syntax; @context @container value for a @reverse "+"type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t})}a["@container"]=h}if("@language"in i&&!("@type"in i)){var p=i["@language"];if(p!==null&&!ge(p)){throw new k("Invalid JSON-LD syntax; @context @language value must be "+"a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t})}if(p!==null){p=p.toLowerCase()}a["@language"]=p}var o=a["@id"];if(o==="@context"||o==="@preserve"){throw new k("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}}function oe(e,t,r,n,i){if(t===null||ce(t)){return t}t=String(t);if(n&&t in n&&i[t]!==true){se(e,n,t,i)}r=r||{};if(r.vocab){var a=e.mappings[t];if(a===null){return null}if(a){return a["@id"]}}var s=t.indexOf(":");if(s!==-1){var o=t.substr(0,s);var u=t.substr(s+1);if(o==="_"||u.indexOf("//")===0){return t}if(n&&o in n){se(e,n,o,i)}var a=e.mappings[o];if(a){return a["@id"]+u}return t}if(r.vocab&&"@vocab"in e){return e["@vocab"]+t;
}var l=t;if(r.base){l=ue(e["@base"],l)}return l}function ue(e,r){if(e===null){return r}if(r.indexOf(":")!==-1){return r}if(ge(e)){e=t.url.parse(e||"")}var n=t.url.parse(r);var i={protocol:e.protocol||""};if(n.authority!==null){i.authority=n.authority;i.path=n.path;i.query=n.query}else{i.authority=e.authority;if(n.path===""){i.path=e.path;if(n.query!==null){i.query=n.query}else{i.query=e.query}}else{if(n.path.indexOf("/")===0){i.path=n.path}else{var a=e.path;if(n.path!==""){a=a.substr(0,a.lastIndexOf("/")+1);if(a.length>0&&a.substr(-1)!=="/"){a+="/"}a+=n.path}i.path=a}i.query=n.query}}i.path=qe(i.path,!!i.authority);var s=i.protocol;if(i.authority!==null){s+="//"+i.authority}s+=i.path;if(i.query!==null){s+="?"+i.query}if(n.fragment!==null){s+="#"+n.fragment}if(s===""){s="./"}return s}function le(e,r){if(e===null){return r}if(ge(e)){e=t.url.parse(e||"")}var n="";if(e.href!==""){n+=(e.protocol||"")+"//"+(e.authority||"")}else if(r.indexOf("//")){n+="//"}if(r.indexOf(n)!==0){return r}var i=t.url.parse(r.substr(n.length));var a=e.normalizedPath.split("/");var s=i.normalizedPath.split("/");var o=i.fragment||i.query?0:1;while(a.length>0&&s.length>o){if(a[0]!==s[0]){break}a.shift();s.shift()}var u="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l){u+="../"}}u+=s.join("/");if(i.query!==null){u+="?"+i.query}if(i.fragment!==null){u+="#"+i.fragment}if(u===""){u="./"}return u}function fe(e){var r=t.url.parse(e.base||"");return{"@base":r,mappings:{},inverse:null,getInverse:n,clone:a};function n(){var e=this;if(e.inverse){return e.inverse}var t=e.inverse={};var r=e["@language"]||"@none";var n=e.mappings;var a=Object.keys(n).sort(re);for(var s=0;s<a.length;++s){var o=a[s];var u=n[o];if(u===null){continue}var l=u["@container"]||"@none";var f=u["@id"];if(!de(f)){f=[f]}for(var c=0;c<f.length;++c){var h=f[c];var p=t[h];if(!p){t[h]=p={}}if(!p[l]){p[l]={"@language":{},"@type":{}}}p=p[l];if(u.reverse){i(u,o,p["@type"],"@reverse")}else if("@type"in u){i(u,o,p["@type"],u["@type"])}else if("@language"in u){var d=u["@language"]||"@null";i(u,o,p["@language"],d)}else{i(u,o,p["@language"],r);i(u,o,p["@type"],"@none");i(u,o,p["@language"],"@none")}}}return t}function i(e,t,r,n){if(!(n in r)){r[n]=t}}function a(){var e={};e["@base"]=this["@base"];e.mappings=Re(this.mappings);e.clone=this.clone;e.inverse=null;e.getInverse=this.getInverse;if("@language"in this){e["@language"]=this["@language"]}if("@vocab"in this){e["@vocab"]=this["@vocab"]}return e}}function ce(e){if(!ge(e)){return false}switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return true}return false}function he(e){return Object.prototype.toString.call(e)==="[object Object]"}function pe(e){return he(e)&&Object.keys(e).length===0}function de(e){return Array.isArray(e)}function ve(e){if(ge(e)||pe(e)){return}var t=false;if(de(e)){t=true;for(var r=0;r<e.length;++r){if(!ge(e[r])){t=false;break}}}if(!t){throw new k('Invalid JSON-LD syntax; "@type" value must a string, an array of '+"strings, or an empty object.","jsonld.SyntaxError",{code:"invalid type value",value:e})}}function ge(e){return typeof e==="string"||Object.prototype.toString.call(e)==="[object String]"}function me(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function be(e){return me(e)&&String(e).indexOf(".")!==-1}function ye(e){return!isNaN(parseFloat(e))&&isFinite(e)}function we(e){return typeof e==="boolean"||Object.prototype.toString.call(e)==="[object Boolean]"}function xe(e){return typeof e==="undefined"}function _e(e){var t=false;if(he(e)&&!("@value"in e||"@set"in e||"@list"in e)){var r=Object.keys(e).length;t=r>1||!("@id"in e)}return t}function Ee(e){return he(e)&&Object.keys(e).length===1&&"@id"in e}function je(e){return he(e)&&"@value"in e}function Ne(e){return he(e)&&"@list"in e}function Ie(e){var t=false;if(he(e)){if("@id"in e){t=e["@id"].indexOf("_:")===0}else{t=Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}}return t}function Se(e){return ge(e)&&e.indexOf(":")!==-1}function Re(e){if(e&&typeof e==="object"){var t;if(de(e)){t=[];for(var r=0;r<e.length;++r){t[r]=Re(e[r])}}else if(he(e)){t={};for(var n in e){t[n]=Re(e[n])}}else{t=e.toString()}return t}return e}function Oe(e,t,r,n){var i=Object.keys(t).length;if(de(e)){for(var a=0;a<e.length;++a){Oe(e[a],t,r,n)}return i<Object.keys(t).length}else if(he(e)){for(var s in e){if(s!=="@context"){Oe(e[s],t,r,n);continue}var o=e[s];if(de(o)){var u=o.length;for(var a=0;a<u;++a){var l=o[a];if(ge(l)){l=ue(n,l);if(r){l=t[l];if(de(l)){Array.prototype.splice.apply(o,[a,1].concat(l));a+=l.length-1;u=o.length}else{o[a]=l}}else if(!(l in t)){t[l]=false}}}}else if(ge(o)){o=ue(n,o);if(r){e[s]=t[o]}else if(!(o in t)){t[o]=false}}}return i<Object.keys(t).length}return false}function Te(e,t,r){var n=null;var i=t.documentLoader;var a=function(e,t,r,i,s){if(Object.keys(t).length>T){n=new k("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:T});return s(n)}var o={};var u=function(){Oe(e,o,true,i);s(null,e)};if(!Oe(e,o,false,i)){u()}var l=[];for(var f in o){if(o[f]===false){l.push(f)}}var c=l.length;for(var h=0;h<l.length;++h){(function(e){if(e in t){n=new k("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e});return s(n)}var i=Re(t);i[e]=true;var l=function(t,l){if(n){return}var f=l?l.document:null;if(!t&&ge(f)){try{f=JSON.parse(f)}catch(h){t=h}}if(t){t=new k("Dereferencing a URL did not result in a valid JSON-LD object. "+"Possible causes are an inaccessible URL perhaps due to "+"a same-origin policy (ensure the server uses CORS if you are "+"using client-side JavaScript), too many redirects, a "+"non-JSON response, or more than one HTTP Link Header was "+"provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}else if(!he(f)){t=new k("Dereferencing a URL did not result in a JSON object. The "+"response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e,cause:t})}if(t){n=t;return s(n)}if(!("@context"in f)){f={"@context":{}}}else{f={"@context":f["@context"]}}if(l.contextUrl){if(!de(f["@context"])){f["@context"]=[f["@context"]]}f["@context"].push(l.contextUrl)}a(f,i,r,e,function(t,r){if(t){return s(t)}o[e]=r["@context"];c-=1;if(c===0){u()}})};var f=r(e,l);if(f&&"then"in f){f.then(l.bind(null,null),l)}})(l[h])}};a(e,{},i,t.base,r)}if(!Object.keys){Object.keys=function(e){if(e!==Object(e)){throw new TypeError("Object.keys called on non-object")}var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r)}}return t}}function ke(e){var t="(?:<([^:]+:[^>]*)>)";var r="(_:(?:[A-Za-z0-9]+))";var n='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"';var i="(?:\\^\\^"+t+")";var a="(?:@([a-z]+(?:-[a-z0-9]+)*))";var s="(?:"+n+"(?:"+i+"|"+a+")?)";var o="[ \\t]+";var u="[ \\t]*";var l=/(?:\r\n)|(?:\n)|(?:\r)/g;var f=new RegExp("^"+u+"$");var c="(?:"+t+"|"+r+")"+o;var h=t+o;var p="(?:"+t+"|"+r+"|"+s+")"+u;var d="(?:\\.|(?:(?:"+t+"|"+r+")"+u+"\\.))";var v=new RegExp("^"+u+c+h+p+d+u+"$");var g={};var m=e.split(l);var y=0;for(var w=0;w<m.length;++w){var x=m[w];y++;if(f.test(x)){continue}var _=x.match(v);if(_===null){throw new k("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:y})}var E={};if(!xe(_[1])){E.subject={type:"IRI",value:_[1]}}else{E.subject={type:"blank node",value:_[2]}}E.predicate={type:"IRI",value:_[3]};if(!xe(_[4])){E.object={type:"IRI",value:_[4]}}else if(!xe(_[5])){E.object={type:"blank node",value:_[5]}}else{E.object={type:"literal"};if(!xe(_[7])){E.object.datatype=_[7]}else if(!xe(_[8])){E.object.datatype=R;E.object.language=_[8]}else{E.object.datatype=b}var j=_[6].replace(/\\"/g,'"').replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");E.object.value=j}var N="@default";if(!xe(_[9])){N=_[9]}else if(!xe(_[10])){N=_[10]}if(!(N in g)){g[N]=[E]}else{var I=true;var S=g[N];for(var O=0;I&&O<S.length;++O){if(F(S[O],E)){I=false}}if(I){S.push(E)}}}return g}t.registerRDFParser("application/nquads",ke);function Ae(e){var t=[];for(var r in e){var n=e[r];for(var i=0;i<n.length;++i){var a=n[i];if(r==="@default"){r=null}t.push(Ce(a,r))}}t.sort();return t.join("")}function Ce(e,t,r){var n=e.subject;var i=e.predicate;var a=e.object;var s=t;var o="";if(n.type==="IRI"){o+="<"+n.value+">"}else if(r){o+=n.value===r?"_:a":"_:z"}else{o+=n.value}o+=" ";if(i.type==="IRI"){o+="<"+i.value+">"}else if(r){o+="_:p"}else{o+=i.value}o+=" ";if(a.type==="IRI"){o+="<"+a.value+">"}else if(a.type==="blank node"){if(r){o+=a.value===r?"_:a":"_:z"}else{o+=a.value}}else{var u=a.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');o+='"'+u+'"';if(a.datatype===R){if(a.language){o+="@"+a.language}}else if(a.datatype!==b){o+="^^<"+a.datatype+">"}}if(s!==null){if(s.indexOf("_:")!==0){o+=" <"+s+">"}else if(r){o+=" _:g"}else{o+=" "+s}}o+=" .\n";return o}function Le(e){var t={};t["@default"]=[];var r=e.getSubjects();for(var n=0;n<r.length;++n){var i=r[n];if(i===null){continue}var a=e.getSubjectTriples(i);if(a===null){continue}var s=a.predicates;for(var o in s){var u=s[o].objects;for(var l=0;l<u.length;++l){var f=u[l];var c={};if(i.indexOf("_:")===0){c.subject={type:"blank node",value:i}}else{c.subject={type:"IRI",value:i}}if(o.indexOf("_:")===0){c.predicate={type:"blank node",value:o}}else{c.predicate={type:"IRI",value:o}}var h=f.value;if(f.type===I){if(!p){Fe()}var v=new p;h="";for(var g=0;g<f.value.length;g++){if(f.value[g].nodeType===d.ELEMENT_NODE){h+=v.serializeToString(f.value[g])}else if(f.value[g].nodeType===d.TEXT_NODE){h+=f.value[g].nodeValue}}}c.object={};if(f.type===S){if(f.value.indexOf("_:")===0){c.object.type="blank node"}else{c.object.type="IRI"}}else{c.object.type="literal";if(f.type===N){if(f.language){c.object.datatype=R;c.object.language=f.language}else{c.object.datatype=b}}else{c.object.datatype=f.type}}c.object.value=h;t["@default"].push(c)}}}return t}t.registerRDFParser("rdfa-api",Le);function Pe(e){this.prefix=e;this.counter=0;this.existing={}}t.UniqueNamer=Pe;Pe.prototype.clone=function(){var e=new Pe(this.prefix);e.counter=this.counter;e.existing=Re(this.existing);return e};Pe.prototype.getName=function(e){if(e&&e in this.existing){return this.existing[e]}var t=this.prefix+this.counter;this.counter+=1;if(e){this.existing[e]=t}return t};Pe.prototype.isNamed=function(e){return e in this.existing};var De=function(e){this.list=e.sort();this.done=false;this.left={};for(var t=0;t<e.length;++t){this.left[e[t]]=true}};De.prototype.hasNext=function(){return!this.done};De.prototype.next=function(){var e=this.list.slice();var t=null;var r=0;var n=this.list.length;for(var i=0;i<n;++i){var a=this.list[i];var s=this.left[a];if((t===null||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&i<n-1&&a>this.list[i+1])){t=a;r=i}}if(t===null){this.done=true}else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o];this.list[o]=t;for(var i=0;i<n;++i){if(this.list[i]>t){this.left[this.list[i]]=!this.left[this.list[i]]}}}return e};var Ue=t.sha1={};if(a){var Me=e("crypto");Ue.create=function(){var e=Me.createHash("sha1");return{update:function(t){e.update(t,"utf8")},digest:function(){return e.digest("hex")}}}}else{Ue.create=function(){return new Ue.MessageDigest}}Ue.hash=function(e){var t=Ue.create();for(var r=0;r<e.length;++r){t.update(e[r])}return t.digest()};if(!a){Ue.Buffer=function(){this.data="";this.read=0};Ue.Buffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};Ue.Buffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};Ue.Buffer.prototype.bytes=function(){return this.data.slice(this.read)};Ue.Buffer.prototype.length=function(){return this.data.length-this.read};Ue.Buffer.prototype.compact=function(){this.data=this.data.slice(this.read);this.read=0};Ue.Buffer.prototype.toHex=function(){var e="";for(var t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);if(r<16){e+="0"}e+=r.toString(16)}return e};Ue.MessageDigest=function(){if(!Be.initialized){Be.init()}this.blockLength=64;this.digestLength=20;this.messageLength=0;this.input=new Ue.Buffer;this.words=new Array(80);this.state={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520}};Ue.MessageDigest.prototype.update=function(e){e=unescape(encodeURIComponent(e));this.messageLength+=e.length;this.input.data+=e;Be.update(this.state,this.words,this.input);if(this.input.read>2048||this.input.length()===0){this.input.compact()}};Ue.MessageDigest.prototype.digest=function(){var e=this.messageLength;var t=new Ue.Buffer;t.data+=this.input.bytes();t.data+=Be.padding.substr(0,64-(e+8)%64);t.putInt32(e>>>29&255);t.putInt32(e<<3&4294967295);Be.update(this.state,this.words,t);var r=new Ue.Buffer;r.putInt32(this.state.h0);r.putInt32(this.state.h1);r.putInt32(this.state.h2);r.putInt32(this.state.h3);r.putInt32(this.state.h4);return r.toHex()};var Be={padding:null,initialized:false};Be.init=function(){Be.padding=String.fromCharCode(128);var e=String.fromCharCode(0);var t=64;while(t>0){if(t&1){Be.padding+=e}t>>>=1;if(t>0){e+=e}}Be.initialized=true};Be.update=function(e,t,r){var n,i,a,s,o,u,l,f;var c=r.length();while(c>=64){i=e.h0;a=e.h1;s=e.h2;o=e.h3;u=e.h4;for(f=0;f<16;++f){n=r.getInt32();t[f]=n;l=o^a&(s^o);n=(i<<5|i>>>27)+l+u+1518500249+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}for(;f<20;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=o^a&(s^o);n=(i<<5|i>>>27)+l+u+1518500249+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}for(;f<32;++f){n=t[f-3]^t[f-8]^t[f-14]^t[f-16];n=n<<1|n>>>31;t[f]=n;l=a^s^o;n=(i<<5|i>>>27)+l+u+1859775393+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}for(;f<40;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^s^o;n=(i<<5|i>>>27)+l+u+1859775393+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}for(;f<60;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a&s|o&(a^s);n=(i<<5|i>>>27)+l+u+2400959708+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}for(;f<80;++f){n=t[f-6]^t[f-16]^t[f-28]^t[f-32];n=n<<2|n>>>30;t[f]=n;l=a^s^o;n=(i<<5|i>>>27)+l+u+3395469782+n;u=o;o=s;s=a<<30|a>>>2;a=i;i=n}e.h0+=i;e.h1+=a;e.h2+=s;e.h3+=o;e.h4+=u;c-=64}}}if(!p){var Fe=function(){p=e("xmldom").XMLSerializer}}t.url={};t.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.url.parse=function(e,r){var n={};var i=t.url.parsers[r||"full"];var a=i.regex.exec(e);var s=i.keys.length;while(s--){n[i.keys[s]]=a[s]===undefined?null:a[s]}n.normalizedPath=qe(n.path,!!n.authority);return n};function qe(e,t){var r="";if(e.indexOf("/")===0){r="/"}var n=e.split("/");var i=[];while(n.length>0){if(n[0]==="."||n[0]===""&&n.length>1){n.shift();continue}if(n[0]===".."){n.shift();if(t||i.length>0&&i[i.length-1]!==".."){i.pop()}else{i.push("..")}continue}i.push(n.shift())}return r+i.join("/")}if(a){t.useDocumentLoader("node")}else if(typeof XMLHttpRequest!=="undefined"){t.useDocumentLoader("xhr")}if(a){t.use=function(r){switch(r){case"request":t.request=e("./request");break;default:throw new k("Unknown extension.","jsonld.UnknownExtension",{extension:r})}};var ze={exports:{},filename:i};e("pkginfo")(ze,"version");t.version=ze.exports.version}return t};var u=function(){return o(function(){return u()})};if(!a&&(typeof define==="function"&&define.amd)){define([],function(){o(u);return u})}else{o(u);if(typeof e==="function"&&typeof t!=="undefined"&&t.exports){t.exports=u}if(s){if(typeof jsonld==="undefined"){jsonld=jsonldjs=u}else{jsonldjs=u}}}return u})()}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},"/node_modules/jsonld/js")},{"./request":53,_process:20,crypto:53,"es6-promise":56,http:53,pkginfo:57,request:53,util:53,xmldom:53}],55:[function(e,t,r){var n=typeof t!=="undefined";function i(){}i.attach=function(e,t){if(n){var r=e.location.href}function i(){}i.SCHEME=new RegExp("^[A-Za-z][A-Za-z0-9+-.]*:");i.prototype.parseURI=function(e){if(n){e=e||r}var t=i.SCHEME.exec(e);if(!t){if(n){throw new Error("Bad URI value, no scheme: "+e)}throw"Bad URI value, no scheme: "+e}var a={spec:e};a.scheme=t[0].substring(0,t[0].length-1);a.schemeSpecificPart=a.spec.substring(t[0].length);if(a.schemeSpecificPart.charAt(0)=="/"&&a.schemeSpecificPart.charAt(1)=="/"){this.parseGeneric(a)}else{a.isGeneric=false}a.normalize=function(){if(!this.isGeneric){return}if(this.segments.length==0){return}if(this.path.length>1&&this.path.substring(this.path.length-2)=="/."){this.path=this.path.substring(0,this.path.length-1);this.segments.splice(this.segments.length-1,1);this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart;return}var e=this.path.charAt(this.path.length-1);if(e!="/"){e=""}for(var t=0;t<this.segments.length;t++){if(t>0&&this.segments[t]==".."){this.segments.splice(t-1,2);t-=2}if(this.segments[t]=="."){this.segments.splice(t,1);t--}}this.path=this.segments.length==0?"/":"/"+this.segments.join("/")+e;this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart};a.resolve=function(e){if(!e){return this.spec}if(e.charAt(0)=="#"){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric){throw"Cannot resolve uri against non-generic URI: "+this.spec}var r=e.indexOf(":");if(e.charAt(0)=="/"){return this.scheme+"://"+this.authority+e}else if(e.charAt(0)=="."&&e.charAt(1)=="/"){if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e.substring(2)}else{var n=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,n)+e.substring(1)}}else if(i.SCHEME.test(e)){return e}else if(e.charAt(0)=="?"){return this.scheme+"://"+this.authority+this.path+e}else{if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e}else{var n=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,n+1)+e}}};a.relativeTo=function(e){if(e.scheme!=this.scheme){return this.spec}if(!this.isGeneric){throw"A non generic URI cannot be made relative: "+this.spec}if(!e.isGeneric){throw"Cannot make a relative URI against a non-generic URI: "+e.spec}if(e.authority!=this.authority){return this.spec}var t=0;for(;t<this.segments.length&&t<e.segments.length;t++){if(this.segments[t]!=e.segments[t]){var r="";for(var n=t;n<e.segments.length;n++){r+="../"}for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}}if(this.segments.length==e.segments.length){return this.hash?this.hash:this.query?this.query:""}else if(t<this.segments.length){var r="";for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}else{throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec}};return a};i.prototype.parseGeneric=function(e){if(e.schemeSpecificPart.charAt(0)!="/"||e.schemeSpecificPart.charAt(1)!="/"){throw"Generic URI values should start with '//':"+e.spec}var t=e.schemeSpecificPart.substring(2);var r=t.indexOf("/");e.authority=r<0?t:t.substring(0,r);e.path=r<0?"":t.substring(r);var n=e.path.indexOf("#");if(n>=0){e.fragment=e.path.substring(n+1);e.path=e.path.substring(0,n)}var i=e.path.indexOf("?");if(i>=0){e.query=e.path.substring(i+1);e.path=e.path.substring(0,i)}if(e.path=="/"||e.path==""){e.segments=[]}else{e.segments=e.path.split(/\//);if(e.segments.length>0&&e.segments[0]==""&&e.path.length>1&&e.path.charAt(1)!="/"){e.segments.shift()}if(e.segments.length>0&&e.path.length>0&&e.path.charAt(e.path.length-1)=="/"&&e.segments[e.segments.length-1]==""){if(e.path.length>1&&e.path.charAt(e.path.length-2)!="/"){e.segments.pop()}}}e.isGeneric=true};Object.size=function(e){var t=0;for(var r in e){if(e.hasOwnProperty(r)){t++}}return t};s.prototype=new i;s.prototype.constructor=s;function s(e){this.target=e;this.target.tripleCount=0;this.target.triplesGraph={};this.target.prefixes={};this.target.terms={};this.language=null;this.vocabulary=null;this.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";this.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object";this.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral";this.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral";this.blankCounter=0;this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.inXHTMLMode=false;this.absURIRE=/[\w\_\-]+:\S+/}s.prototype.newBlankNode=function(){this.blankCounter++;return"_:"+this.blankCounter};s.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";s.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";s.NCNAME=new RegExp("^"+s.nameStartChar+s.nameChar+"*$");s.prototype.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};s.prototype.tokenize=function(e){return this.trim(e).split(/\s+/)};s.prototype.parseSafeCURIEOrCURIEOrURI=function(e,t,r){e=this.trim(e);if(e.charAt(0)=="["&&e.charAt(e.length-1)=="]"){e=e.substring(1,e.length-1);e=e.trim(e);if(e.length==0){return null}return this.parseCURIE(e,t,r)}else{return this.parseCURIEOrURI(e,t,r)}};s.prototype.parseCURIE=function(e,t,r){var n=e.indexOf(":");if(n>=0){var i=e.substring(0,n);if(i==""){var a=t[""];return a?a+e.substring(n+1):null}else if(i=="_"){return"_:"+e.substring(n+1)}else if(s.NCNAME.test(i)){var a=t[i];if(a){return a+e.substring(n+1)}}}return null};s.prototype.parseCURIEOrURI=function(e,t,r){var n=this.parseCURIE(e,t,r);if(n){return n}return this.resolveAndNormalize(r,e)};s.prototype.parsePredicate=function(e,t,r,n,i){var a=this.parseTermOrCURIEOrAbsURI(e,t,r,n,i);if(a&&a.indexOf("_:")==0){return null}return a};s.prototype.parseTermOrCURIEOrURI=function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a){return a}else{var s=r[e];if(s){return s}var o=e.toLowerCase();s=r[o];if(s){return s}if(t&&!this.absURIRE.exec(e)){return t+e}}return this.resolveAndNormalize(i,e)};s.prototype.parseTermOrCURIEOrAbsURI=function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a){return a}else{if(t&&!this.absURIRE.exec(e)){return t+e}var s=r[e];if(s){return s}var o=e.toLowerCase();s=r[o];if(s){return s}}if(this.absURIRE.exec(e)){return this.resolveAndNormalize(i,e)}return null};s.prototype.resolveAndNormalize=function(e,t){var r=e.resolve(t);var n=this.parseURI(r);n.normalize();return n.spec};s.prototype.parsePrefixMappings=function(e,t){var r=this.tokenize(e);var n=null;var i=null;for(var a=0;a<r.length;a++){if(r[a][r[a].length-1]==":"){n=r[a].substring(0,r[a].length-1)}else if(n){t[n]=r[a];n=null}}};s.prototype.copyMappings=function(e){var t={};for(var r in e){t[r]=e[r]}return t};s.prototype.ancestorPath=function(e){var t="";while(e&&e.nodeType!=a.DOCUMENT_NODE){t="/"+e.localName+t;e=e.parentNode}return t};s.prototype.setContext=function(e){if(e.localName=="html"&&e.getAttribute("version")=="XHTML+RDFa 1.1"){this.setXHTMLContext()}else if(e.localName=="html"||e.namespaceURI=="http://www.w3.org/1999/xhtml"){this.setHTMLContext()}else{this.setXMLContext()}};s.prototype.setInitialContext=function(){this.vocabulary=null;this.target.prefixes={};this.target.terms={};this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.target.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#";this.target.prefixes["grddl"]="http://www.w3.org/2003/g/data-view#";this.target.prefixes["ma"]="http://www.w3.org/ns/ma-ont#";this.target.prefixes["owl"]="http://www.w3.org/2002/07/owl#";this.target.prefixes["rdf"]="http://www.w3.org/1999/02/22-rdf-syntax-ns#";this.target.prefixes["rdfa"]="http://www.w3.org/ns/rdfa#";this.target.prefixes["rdfs"]="http://www.w3.org/2000/01/rdf-schema#";this.target.prefixes["rif"]="http://www.w3.org/2007/rif#";this.target.prefixes["skos"]="http://www.w3.org/2004/02/skos/core#";this.target.prefixes["skosxl"]="http://www.w3.org/2008/05/skos-xl#";this.target.prefixes["wdr"]="http://www.w3.org/2007/05/powder#";this.target.prefixes["void"]="http://rdfs.org/ns/void#";this.target.prefixes["wdrs"]="http://www.w3.org/2007/05/powder-s#";this.target.prefixes["xhv"]="http://www.w3.org/1999/xhtml/vocab#";this.target.prefixes["xml"]="http://www.w3.org/XML/1998/namespace";this.target.prefixes["xsd"]="http://www.w3.org/2001/XMLSchema#";this.target.prefixes["sd"]="http://www.w3.org/ns/sparql-service-description#";this.target.prefixes["org"]="http://www.w3.org/ns/org#";this.target.prefixes["gldp"]="http://www.w3.org/ns/people#";this.target.prefixes["cnt"]="http://www.w3.org/2008/content#";this.target.prefixes["dcat"]="http://www.w3.org/ns/dcat#";this.target.prefixes["earl"]="http://www.w3.org/ns/earl#";this.target.prefixes["ht"]="http://www.w3.org/2006/http#";this.target.prefixes["ptr"]="http://www.w3.org/2009/pointers#";this.target.prefixes["cc"]="http://creativecommons.org/ns#";this.target.prefixes["ctag"]="http://commontag.org/ns#";this.target.prefixes["dc"]="http://purl.org/dc/terms/";this.target.prefixes["dcterms"]="http://purl.org/dc/terms/";this.target.prefixes["foaf"]="http://xmlns.com/foaf/0.1/";this.target.prefixes["gr"]="http://purl.org/goodrelations/v1#";this.target.prefixes["ical"]="http://www.w3.org/2002/12/cal/icaltzd#";this.target.prefixes["og"]="http://ogp.me/ns#";this.target.prefixes["rev"]="http://purl.org/stuff/rev#";this.target.prefixes["sioc"]="http://rdfs.org/sioc/ns#";this.target.prefixes["v"]="http://rdf.data-vocabulary.org/#";this.target.prefixes["vcard"]="http://www.w3.org/2006/vcard/ns#";this.target.prefixes["schema"]="http://schema.org/";this.target.terms["describedby"]="http://www.w3.org/2007/05/powder-s#describedby";this.target.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license";this.target.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role"};s.prototype.setXMLContext=function(){this.setInitialContext();this.inXHTMLMode=false};s.prototype.setHTMLContext=function(){this.setInitialContext();this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}];this.contentAttributes=["value","datetime","content"];this.inXHTMLMode=false};s.prototype.setXHTMLContext=function(){this.setInitialContext();this.inXHTMLMode=true;this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}];this.contentAttributes=["content"];this.target.terms["alternate"]="http://www.w3.org/1999/xhtml/vocab#alternate";this.target.terms["appendix"]="http://www.w3.org/1999/xhtml/vocab#appendix";this.target.terms["bookmark"]="http://www.w3.org/1999/xhtml/vocab#bookmark";this.target.terms["cite"]="http://www.w3.org/1999/xhtml/vocab#cite";this.target.terms["chapter"]="http://www.w3.org/1999/xhtml/vocab#chapter";this.target.terms["contents"]="http://www.w3.org/1999/xhtml/vocab#contents";this.target.terms["copyright"]="http://www.w3.org/1999/xhtml/vocab#copyright";this.target.terms["first"]="http://www.w3.org/1999/xhtml/vocab#first";this.target.terms["glossary"]="http://www.w3.org/1999/xhtml/vocab#glossary";this.target.terms["help"]="http://www.w3.org/1999/xhtml/vocab#help";this.target.terms["icon"]="http://www.w3.org/1999/xhtml/vocab#icon";this.target.terms["index"]="http://www.w3.org/1999/xhtml/vocab#index";this.target.terms["last"]="http://www.w3.org/1999/xhtml/vocab#last";this.target.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license";this.target.terms["meta"]="http://www.w3.org/1999/xhtml/vocab#meta";this.target.terms["next"]="http://www.w3.org/1999/xhtml/vocab#next";this.target.terms["prev"]="http://www.w3.org/1999/xhtml/vocab#prev";this.target.terms["previous"]="http://www.w3.org/1999/xhtml/vocab#previous";this.target.terms["section"]="http://www.w3.org/1999/xhtml/vocab#section";this.target.terms["stylesheet"]="http://www.w3.org/1999/xhtml/vocab#stylesheet";this.target.terms["subsection"]="http://www.w3.org/1999/xhtml/vocab#subsection";this.target.terms["start"]="http://www.w3.org/1999/xhtml/vocab#start";this.target.terms["top"]="http://www.w3.org/1999/xhtml/vocab#top";this.target.terms["up"]="http://www.w3.org/1999/xhtml/vocab#up";this.target.terms["p3pv1"]="http://www.w3.org/1999/xhtml/vocab#p3pv1";this.target.terms["related"]="http://www.w3.org/1999/xhtml/vocab#related";this.target.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role";this.target.terms["transformation"]="http://www.w3.org/1999/xhtml/vocab#transformation"};s.prototype.getTransferGraph=function(){var e={};for(var t in this.target.triplesGraph){var r=this.target.triplesGraph[t];var n={subject:t,predicates:{}};e[t]=n;for(var i in r.predicates){var s=r.predicates[i];var o={predicate:i,objects:[]};n.predicates[i]=o;for(var u=0;u<s.objects.length;u++){var l=s.objects[u];if(l.type==this.XMLLiteralURI){var f=new XMLSerializer;var c="";for(var h=0;h<l.value.length;h++){if(l.value[h].nodeType==a.ELEMENT_NODE){c+=f.serializeToString(l.value[h])}else if(l.value[h].nodeType==a.TEXT_NODE){c+=l.value[h].nodeValue}}o.objects.push({type:l.type,value:c})}else{o.objects.push({type:l.type,value:l.value})}}}}return e};s.prototype.newSubject=function(e,t,r){var n=e.triplesGraph[r];if(!n){n={subject:r,predicates:{},origins:[]};e.triplesGraph[r]=n}for(var i=0;i<n.origins.length;i++){if(n.origins[i]==t){return n}}n.origins.push(t);return n};s.prototype.addTriple=function(e,t,r,n,i){var a=e.triplesGraph;var s=this.newSubject(e,t,r);var o=s.predicates[n];if(!o){o={predicate:n,objects:[]};s.predicates[n]=o}for(var u=0;u<o.objects.length;u++){if(o.objects[u].type==i.type&&o.objects[u].value==i.value){return}}e.tripleCount++;o.objects.push(i);i.origin=t};s.prototype.process=function(e){if(e.parentNode.nodeType==a.DOCUMENT_NODE){this.setContext(e)}var t=[];t.push({current:e,context:this.push(null,e.baseURI)});while(t.length>0){var r=t.shift();if(r.parent){if(r.context.parent&&r.context.parent.listMapping==r.listMapping){continue}for(var n in r.listMapping){var i=r.listMapping[n];if(i.length==0){this.addTriple(this.target,r.parent,r.subject,n,{type:this.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});continue}var s=[];for(var o=0;o<i.length;o++){s.push(this.newBlankNode());this.newSubject(this.target,r.parent,s[o])}for(var o=0;o<s.length;o++){this.addTriple(this.target,r.parent,s[o],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",i[o]);
this.addTriple(this.target,r.parent,s[o],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:this.objectURI,value:o+1<s.length?s[o+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}this.addTriple(this.target,r.parent,r.subject,n,{type:this.objectURI,value:s[0]})}continue}var u=r.current;var l=r.context;var f=false;var c=null;var h=null;var p=null;var d=l.prefixes;var v=false;var g=[];var m=l.listMapping;var b=l.parent?false:true;var y=l.language;var w=l.vocabulary;var x=this.parseURI(u.baseURI);u.subject=null;var _=u.getAttributeNode("vocab");if(_){var E=this.trim(_.value);if(E.length>0){w=E;var j=x.spec;this.newSubject(this.target,u,j);this.addTriple(this.target,u,j,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:this.objectURI,value:w})}else{w=this.vocabulary}}for(var o=0;o<u.attributes.length;o++){var N=u.attributes[o];if(N.nodeName.charAt(0)=="x"&&N.nodeName.indexOf("xmlns:")==0){if(!v){d=this.copyMappings(d);v=true}var I=N.nodeName.substring(6);d[I]=this.trim(N.value)}}var S=u.getAttributeNode("prefix");if(S){if(!v){d=this.copyMappings(d);v=true}this.parsePrefixMappings(S.value,d)}var R=null;for(var o=0;!R&&o<this.langAttributes.length;o++){R=u.getAttributeNodeNS(this.langAttributes[o].namespaceURI,this.langAttributes[o].localName)}if(R){var E=this.trim(R.value);if(E.length>0){y=E}}var O=u.getAttributeNode("rel");var T=u.getAttributeNode("rev");var k=u.getAttributeNode("typeof");var A=u.getAttributeNode("property");var C=u.getAttributeNode("datatype");var L=null;for(var o=0;!L&&o<this.contentAttributes.length;o++){L=u.getAttributeNode(this.contentAttributes[o])}var P=u.getAttributeNode("about");var D=u.getAttributeNode("src");var U=u.getAttributeNode("resource");var M=u.getAttributeNode("href");var B=u.getAttributeNode("inlist");if(O||T){if(P){c=this.parseSafeCURIEOrCURIEOrURI(P.value,d,x)}if(k){p=c}if(!c){if(u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI}else if(l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}}if(U){h=this.parseSafeCURIEOrCURIEOrURI(U.value,d,x)}if(!h){if(M){h=this.resolveAndNormalize(x,M.value)}else if(D){h=this.resolveAndNormalize(x,D.value)}else if(k&&!P&&!(this.inXHTMLMode&&(u.localName=="head"||u.localName=="body"))){h=this.newBlankNode()}}if(k&&!P&&this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){p=c}else if(k&&!P){p=h}}else if(A&&!L&&!C){if(P){c=this.parseSafeCURIEOrCURIEOrURI(P.value,d,x);if(k){p=c}}if(!c&&u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI;if(k){p=c}}else if(!c&&l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}if(k&&!p){if(U){p=this.parseSafeCURIEOrCURIEOrURI(U.value,d,x)}if(!p&&M){p=this.resolveAndNormalize(x,M.value)}if(!p&&D){p=this.resolveAndNormalize(x,D.value)}if(!p&&this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){p=c}if(!p){p=this.newBlankNode()}h=p}}else{if(P){c=this.parseSafeCURIEOrCURIEOrURI(P.value,d,x)}if(!c&&U){c=this.parseSafeCURIEOrCURIEOrURI(U.value,d,x)}if(!c&&M){c=this.resolveAndNormalize(x,M.value)}if(!p&&D){c=this.resolveAndNormalize(x,D.value)}if(!c){if(u.parentNode.nodeType==a.DOCUMENT_NODE){c=u.baseURI}else if(this.inXHTMLMode&&(u.localName=="head"||u.localName=="body")){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject}else if(k){c=this.newBlankNode()}else if(l.parentObject){c=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject;if(!A){f=true}}}if(k){p=c}}if(c){this.newSubject(this.target,u,c);u.subject=c}if(p){var F=this.tokenize(k.value);for(var o=0;o<F.length;o++){var q=this.parseTermOrCURIEOrAbsURI(F[o],w,l.terms,d,x);if(q){this.addTriple(this.target,u,p,this.typeURI,{type:this.objectURI,value:q})}}}if(c&&c!=l.parentObject){m={};b=true}if(h){if(O&&B){var F=this.tokenize(O.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){var i=m[n];if(!i){i=[];m[n]=i}i.push({type:this.objectURI,value:h})}}}else if(O){var F=this.tokenize(O.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){this.addTriple(this.target,u,c,n,{type:this.objectURI,value:h})}}}if(T){var F=this.tokenize(T.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){this.addTriple(this.target,u,h,n,{type:this.objectURI,value:c})}}}}else{if(c&&!h&&(O||T)){h=this.newBlankNode()}if(O&&B){var F=this.tokenize(O.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){var i=m[n];if(!i){i=[];m[n]=i}g.push({predicate:n,list:i})}}}else if(O){var F=this.tokenize(O.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){g.push({predicate:n,forward:true})}}}if(T){var F=this.tokenize(T.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){g.push({predicate:n,forward:false})}}}}if(A){var z=null;var G=null;if(C){z=C.value==""?this.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(C.value,w,l.terms,d,x);G=z==this.XMLLiteralURI?null:L?L.value:u.textContent}else if(L){z=this.PlainLiteralURI;G=L.value}else if(!O&&!T&&!L){if(U){G=this.parseSafeCURIEOrCURIEOrURI(U.value,d,x)}if(!G&&M){G=this.resolveAndNormalize(x,M.value)}else if(!G&&D){G=this.resolveAndNormalize(x,D.value)}if(G){z=this.objectURI}}if(!z){if(k&&!P){z=this.objectURI;G=p}else{z=this.PlainLiteralURI;G=u.textContent}}var F=this.tokenize(A.value);for(var o=0;o<F.length;o++){var n=this.parsePredicate(F[o],w,l.terms,d,x);if(n){if(B){var i=m[n];if(!i){i=[];m[n]=i}i.push(z==this.XMLLiteralURI?{type:this.XMLLiteralURI,value:u.childNodes}:{type:z?z:this.PlainLiteralURI,value:G,language:y})}else{if(z==this.XMLLiteralURI){this.addTriple(this.target,u,c,n,{type:this.XMLLiteralURI,value:u.childNodes})}else{this.addTriple(this.target,u,c,n,{type:z?z:this.PlainLiteralURI,value:G,language:y})}}}}}if(c&&!f){for(var o=0;o<l.incomplete.length;o++){if(l.incomplete[o].list){l.incomplete[o].list.push({type:this.objectURI,value:c})}else if(l.incomplete[o].forward){this.addTriple(this.target,u,l.subject,l.incomplete[o].predicate,{type:this.objectURI,value:c})}else{this.addTriple(this.target,u,c,l.incomplete[o].predicate,{type:this.objectURI,value:l.subject})}}}var V=null;var H=c;if(f){V=this.push(l,l.subject);V.parentObject=u.parentNode.baseURI==l.parentObject?u.baseURI:l.parentObject;V.incomplete=l.incomplete;V.language=y;V.prefixes=d;V.vocabulary=w}else{V=this.push(l,c);V.parentObject=h?h:c?c:l.subject;V.prefixes=d;V.incomplete=g;if(h){H=h;m={};b=true}V.listMapping=m;V.language=y;V.vocabulary=w}if(b){t.unshift({parent:u,context:l,subject:H,listMapping:m})}for(var X=u.lastChild;X;X=X.previousSibling){if(X.nodeType==a.ELEMENT_NODE){t.unshift({current:X,context:V})}}}for(var J in this.target.triplesGraph){var $=this.target.triplesGraph[J];if(Object.size($.predicates)==0){delete this.target.triplesGraph[J]}}};s.prototype.push=function(e,t){return{parent:e,subject:t?t:e?e.subject:null,parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.prefixes,terms:e?e.terms:this.target.terms,vocabulary:e?e.voabulary:this.vocabulary}};function o(e){this.query=function(t,r){if(!t){return e.getProjections(r)}var n=[];for(var i in e._data_.triplesGraph){var a=e._data_.triplesGraph[i];for(var s in t){var o=e._data_.curieParser.parse(s,true);var u=a.predicates[o];if(!u){a=null;break}var f=e._data_.curieParser.parse(t[s],false);var c=null;for(var h=0;!c&&h<u.objects.length;h++){if(u.objects[h].value==f){c=u.objects[h]}}if(!c){a=null;break}}if(a){n.push(l.toProjection(e,a,r))}}return n}}function u(e,t){this._data_={owner:e,subject:t,properties:{}}}u.prototype.getProperties=function(){var e=[];for(var t in this._data_.properties){e.push(t)}return e};u.prototype.getSubject=function(){return this._data_.subject};u.prototype.get=function(e){var t=this._data_.owner._data_.curieParser.parse(e,true);var r=this._data_.properties[t];return r?r[0]:null};u.prototype.getAll=function(e){var t=this._data_.owner._data_.curieParser.parse(e,true);return this._data_.properties[t]};l.prototype=new i;l.prototype.constructor=l;function l(e){this._data_={tripleCount:0,triplesGraph:{},prefixes:{},terms:{},baseURI:this.parseURI(e)};var t=this._data_;this._data_.curieParser={trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(e,r){e=this.trim(e);if(e.charAt(0)=="["&&e.charAt(e.length-1)=="]"){e=e.substring(1,e.length-1)}var n=e.indexOf(":");if(n>=0){var i=e.substring(0,n);if(i==""){var a=t.prefixes[""];return a?a+e.substring(n+1):null}else if(i=="_"){return"_:"+e.substring(n+1)}else if(l.NCNAME.test(i)){var a=t.prefixes[i];if(a){return a+e.substring(n+1)}}}return r?t.baseURI.resolve(e):e}};Object.defineProperty(this,"rdfa",{value:new o(this),writable:false,configurable:false,enumerable:true})}l.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]";l.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]";l.NCNAME=new RegExp("^"+s.nameStartChar+s.nameChar+"*$");l.toProjection=function(e,t,r){var n=new u(e,t.subject);for(var i in t.predicates){var a=t.predicates[i];var s=[];n._data_.properties[i]=s;for(var o=0;o<a.objects.length;o++){s.push(a.objects[o].value)}}if(r){for(var l in r){var i=r[l];i=e._data_.curieParser.parse(i,true);var s=n._data_.properties[i];if(s){n[l]=s.length==1?s[0]:s}}}return n};l.prototype.getProperties=function(e){var t=[];if(e){e=this._data_.curieParser.parse(e,true);i=this._data_.triplesGraph[e];if(i){for(var r in i.predicates){t.push(r)}}}else{var n={};for(var e in this._data_.triplesGraph){var i=this._data_.triplesGraph[e];if(i){for(var r in i.predicates){if(!n[r]){n[r]=true;t.push(r)}}}}}return t};l.prototype.getSubjects=function(e,t){var r=[];if(e){e=this._data_.curieParser.parse(e,true)}if(e&&t){var n=this._data_.curieParser.parse(t,true);for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];var s=a.predicates[e];if(s){for(var o=0;o<s.objects.length;o++){if(s.objects[o].value==t||s.objects[o].value==n){r.push(i);break}}}}}else if(e){for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];var s=a.predicates[e];if(s){r.push(i)}}}else if(t){var n=this._data_.curieParser.parse(t,true);for(var i in this._data_.triplesGraph){var a=this._data_.triplesGraph[i];for(var u in a.predicates){var s=i.predicates[u];if(s){var l=null;for(var o=0;!l&&o<s.objects.length;o++){if(s.objects[o].value==t||node.objects[o].value==n){l=s.objects[o]}}if(l){r.push(i);break}}}}}else{for(var i in this._data_.triplesGraph){r.push(i)}}return r};l.prototype.getValues=function(e,t){var r=[];if(t){t=this._data_.curieParser.parse(t,true)}if(e){e=this._data_.curieParser.parse(e,true);var n=this._data_.triplesGraph[e];if(n){if(t){var i=n.predicates[t];if(i){for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}else{for(var s in n.predicates){var i=n.predicates[s];for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}}else if(t){for(var e in this._data_.triplesGraph){var n=this._data_.triplesGraph[e];var i=n.predicates[t];if(i){for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}else{for(var e in this._data_.triplesGraph){var n=this._data_.triplesGraph[e];for(var s in n.predicates){var i=n.predicates[s];for(var a=0;a<i.objects.length;a++){r.push(i.objects[a].value)}}}}return r};l.prototype.setMapping=function(e,t){this._data_.prefixes[e]=t};l.prototype.getSubjectTriples=function(e){if(!e){return null}e=this._data_.curieParser.parse(e,true);var t={subject:e,predicates:{}};var r=this._data_.triplesGraph[e];if(!r){return null}for(var n in r.predicates){var i=r.predicates[n];var s=[];t.predicates[n]={predicate:n,objects:s};for(var o=0;o<i.objects.length;o++){var u=i.objects[o];if(u.type==this.XMLLiteralURI){var l=new XMLSerializer;var f="";for(var c=0;c<u.value.length;c++){if(u.value[c].nodeType==a.ELEMENT_NODE){f+=l.serializeToString(u.value[c])}else if(u.value[c].nodeType==a.TEXT_NODE){f+=u.value[c].nodeValue}}s.push({type:u.type,value:f})}else{s.push({type:u.type,value:u.value})}}}return t};l.prototype.getProjection=function(e,t){if(!e){return null}e=this._data_.curieParser.parse(e,true);var r=this._data_.triplesGraph[e];if(!r){return null}return l.toProjection(this,r,t)};l.prototype.getProjections=function(e,t,r){if(e){e=this._data_.curieParser.parse(e,true)}var n=[];if(typeof t=="undefined"&&typeof r=="undefined"){r=e}if(e&&t){var i=this._data_.curieParser.parse(t,true);for(var a in this._data_.triplesGraph){var s=this._data_.triplesGraph[a];var o=s.predicates[e];if(o){for(var u=0;u<o.objects.length;u++){if(o.objects[u].value==t||o.objects[u].value==i){n.push(l.toProjection(this,s,r));break}}}}}else if(e){for(var a in this._data_.triplesGraph){var s=this._data_.triplesGraph[a];if(s.predicates[e]){n.push(l.toProjection(this,s,r))}}}else{for(var a in this._data_.triplesGraph){var s=this._data_.triplesGraph[a];n.push(l.toProjection(this,s,r))}}return n};l.attach=function(e){Object.defineProperty(e,"data",{value:new l(e.baseURI||e.location.href),writable:false,configurable:false,enumerable:true});e.getElementsByType=function(e){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",e)};e.getElementsBySubject=function(e){var t=[];t.item=function(e){return this[e]};e=this.data._data_.curieParser.parse(e,true);var r=this.data._data_.triplesGraph[e];if(r){for(var n=0;n<r.origins.length;n++){t.push(r.origins[n])}}return t};e.getElementsByProperty=function(e,t){var r=[];r.item=function(e){return this[e]};if(t){t=this.data._data_.curieParser.parse(t,false)}var n=typeof t=="undefined";e=this.data._data_.curieParser.parse(e,true);for(var i in this.data._data_.triplesGraph){var a=this.data._data_.triplesGraph[i];var s=a.predicates[e];if(s){for(var o=0;o<s.objects.length;o++){if(n||s.objects[o].value==t){r.push(s.objects[o].origin)}}}}return r};e.getElementSubject=function(e){for(var t in this.data._data_.triplesGraph){var r=this.data._data_.triplesGraph[t];for(predicate in r.predicates){var n=r.predicates[predicate];for(var i=0;i<n.objects.length;i++){if(n.objects[i].origin==e){return t}}}}return null}};var f=e.implementation.hasFeature;e.implementation.hasFeature=function(e,t){if(e=="RDFaAPI"&&t=="1.1"){return true}return f(e,t)};var c=e.data?true:false;if(e.head&&!n){var h=e.createElement("meta");h.setAttribute("name","green-turtle-rdfa-message");e.head.appendChild(h);var p=function(){var t=e.createEvent("Event");t.initEvent("green-turtle-rdfa-extension",true,true);return t};h.addEventListener("green-turtle-rdfa-document",function(t){var r=JSON.parse(h.getAttribute("content"));if(r.type=="status"){var n=p();h.setAttribute("content",'{ "type": "status", "loaded": '+c+', "count": '+e.data._data_.tripleCount+" }");setTimeout(function(){h.dispatchEvent(n)},1)}else if(r.type=="get-subjects"){var i=e.data.getSubjects();h.setAttribute("content",'{ "type": "subjects", "subjects": '+JSON.stringify(i)+" }");var t=p();setTimeout(function(){h.dispatchEvent(t)},1)}else if(r.type=="get-subject"){var a=null;if(e.data.getSubjectTriples){a=e.data.getSubjectTriples(r.subject)}else{var i={};var s=e.data.getSubjects();for(var o=0;o<s.length;o++){i[s[o]]=true}a={subject:r.subject,predicates:{}};var u=e.data.getProjection(r.subject);var l=u.getProperties();for(var o=0;o<l.length;o++){var f=[];a.predicates[l[o]]={predicate:predicate,objects:f};var d=u.getAll(l[o]);for(var v=0;v<d.length;v++){if(i[d[v]]){f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:d[v]})}else{f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:d[v]})}}}}var g={type:"subject",subject:r.subject,triples:a};h.setAttribute("content",JSON.stringify(g));var t=p();setTimeout(function(){h.dispatchEvent(t)},1)}},false)}if(t||!e.data){if(!t){l.attach(e)}var d=new s(e.data._data_);d.process(e.documentElement);c=true}};if(n){t.exports=i;if(typeof a==="undefined"){var a={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9}}}else{if(document.readyState=="loading"){window.addEventListener("load",function(){i.attach(document)},false)}else{i.attach(document)}}},{}],56:[function(e,t,r){(function(e,r){(function(){"use strict";function n(e){return typeof e==="function"||typeof e==="object"&&e!==null}function i(e){return typeof e==="function"}function a(e){return typeof e==="object"&&e!==null}var s;if(!Array.isArray){s=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{s=Array.isArray}var o=s;var u=Date.now||function(){return(new Date).getTime()};function l(){}var f=Object.create||function(e){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof e!=="object"){throw new TypeError("Argument must be an object")}l.prototype=e;return new l};var c=0;var h=function se(e,t){w[c]=e;w[c+1]=t;c+=2;if(c===2){_()}};var p=typeof window!=="undefined"?window:{};var d=p.MutationObserver||p.WebKitMutationObserver;var v=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function g(){return function(){e.nextTick(x)}}function m(){var e=0;var t=new d(x);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function b(){var e=new MessageChannel;e.port1.onmessage=x;return function(){e.port2.postMessage(0)}}function y(){return function(){setTimeout(x,1)}}var w=new Array(1e3);function x(){for(var e=0;e<c;e+=2){var t=w[e];var r=w[e+1];t(r);w[e]=undefined;w[e+1]=undefined}c=0}var _;if(typeof e!=="undefined"&&{}.toString.call(e)==="[object process]"){_=g()}else if(d){_=m()}else if(v){_=b()}else{_=y()}function E(){}var j=void 0;var N=1;var I=2;var S=new q;function R(){return new TypeError("You cannot resolve a promise with itself")}function O(){return new TypeError("A promises callback cannot return that same promise.")}function T(e){try{return e.then}catch(t){S.error=t;return S}}function k(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function A(e,t,r){h(function(e){var n=false;var i=k(r,t,function(r){if(n){return}n=true;if(t!==r){P(e,r)}else{U(e,r)}},function(t){if(n){return}n=true;M(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;M(e,i)}},e)}function C(e,t){if(t._state===N){U(e,t._result)}else if(e._state===I){M(e,t._result)}else{B(t,undefined,function(t){P(e,t)},function(t){M(e,t)})}}function L(e,t){if(t.constructor===e.constructor){C(e,t)}else{var r=T(t);if(r===S){M(e,S.error)}else if(r===undefined){U(e,t)}else if(i(r)){A(e,t,r)}else{U(e,t)}}}function P(e,t){if(e===t){M(e,R())}else if(n(t)){L(e,t)}else{U(e,t)}}function D(e){if(e._onerror){e._onerror(e._result)}F(e)}function U(e,t){if(e._state!==j){return}e._result=t;e._state=N;if(e._subscribers.length===0){}else{h(F,e)}}function M(e,t){if(e._state!==j){return}e._state=I;e._result=t;h(D,e)}function B(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+N]=r;i[a+I]=n;if(a===0&&e._state){h(F,e)}}function F(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,i,a=e._result;for(var s=0;s<t.length;s+=3){n=t[s];i=t[s+r];if(n){V(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function q(){this.error=null}var z=new q;function G(e,t){try{return e(t)}catch(r){z.error=r;return z}}function V(e,t,r,n){var a=i(r),s,o,u,l;if(a){s=G(r,n);if(s===z){l=true;o=s.error;s=null}else{u=true}if(t===s){M(t,O());return}}else{s=n;u=true}if(t._state!==j){}else if(a&&u){P(t,s)}else if(l){M(t,o)}else if(e===N){U(t,s)}else if(e===I){M(t,s)}}function H(e,t){try{t(function n(t){P(e,t)},function i(t){M(e,t)})}catch(r){M(e,r)}}function X(e,t,r){if(e===N){return{state:"fulfilled",value:r}}else{return{state:"rejected",reason:r}}}function J(e,t,r,n){this._instanceConstructor=e;this.promise=new e(E,n);this._abortOnReject=r;if(this._validateInput(t)){this._input=t;this.length=t.length;this._remaining=t.length;this._init();if(this.length===0){U(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){U(this.promise,this._result)}}}else{M(this.promise,this._validationError())}}J.prototype._validateInput=function(e){return o(e)};J.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};J.prototype._init=function(){this._result=new Array(this.length)};var $=J;J.prototype._enumerate=function(){var e=this.length;var t=this.promise;var r=this._input;for(var n=0;t._state===j&&n<e;n++){this._eachEntry(r[n],n)}};J.prototype._eachEntry=function(e,t){var r=this._instanceConstructor;if(a(e)){if(e.constructor===r&&e._state!==j){e._onerror=null;this._settledAt(e._state,t,e._result)}else{this._willSettleAt(r.resolve(e),t)}}else{this._remaining--;this._result[t]=this._makeResult(N,t,e)}};J.prototype._settledAt=function(e,t,r){var n=this.promise;if(n._state===j){this._remaining--;if(this._abortOnReject&&e===I){M(n,r)}else{this._result[t]=this._makeResult(e,t,r)}}if(this._remaining===0){U(n,this._result)}};J.prototype._makeResult=function(e,t,r){return r};J.prototype._willSettleAt=function(e,t){var r=this;B(e,undefined,function(e){r._settledAt(N,t,e)},function(e){r._settledAt(I,t,e)})};var Y=function oe(e,t){return new $(this,e,true,t).promise};var W=function ue(e,t){var r=this;var n=new r(E,t);if(!o(e)){M(n,new TypeError("You must pass an array to race."));return n}var i=e.length;function a(e){P(n,e)}function s(e){M(n,e)}for(var u=0;n._state===j&&u<i;u++){B(r.resolve(e[u]),undefined,a,s)}return n};var Z=function le(e,t){var r=this;if(e&&typeof e==="object"&&e.constructor===r){return e}var n=new r(E,t);P(n,e);return n};var K=function fe(e,t){var r=this;var n=new r(E,t);M(n,e);return n};var Q=0;function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var re=ne;function ne(e){this._id=Q++;this._state=undefined;this._result=undefined;this._subscribers=[];if(E!==e){if(!i(e)){ee()}if(!(this instanceof ne)){te()}H(this,e)}}ne.all=Y;ne.race=W;ne.resolve=Z;ne.reject=K;ne.prototype={constructor:ne,then:function(e,t){var r=this;var n=r._state;if(n===N&&!e||n===I&&!t){return this}var i=new this.constructor(E);var a=r._result;if(n){var s=arguments[n-1];h(function(){V(n,i,s,a)})}else{B(r,i,e,t)}return i},"catch":function(e){return this.then(null,e)}};var ie=function ce(){var e;if(typeof r!=="undefined"){e=r}else if(typeof window!=="undefined"&&window.document){e=window}else{e=self}var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;new e.Promise(function(e){t=e});return i(t)}();if(!t){e.Promise=re}};var ae={Promise:re,polyfill:ie};if(typeof define==="function"&&define["amd"]){define(function(){return ae})}else if(typeof t!=="undefined"&&t["exports"]){t["exports"]=ae}else if(typeof this!=="undefined"){this["ES6Promise"]=ae}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:20}],57:[function(e,t,r){(function(r){var n=e("fs"),i=e("path");var a=t.exports=function(e,t){var r=[].slice.call(arguments,2).filter(function(e){return typeof e==="string"});if(Array.isArray(t)){t={include:t}}else if(typeof t==="string"){t={include:[t]}}t=t||{};t.include=t.include||[];if(r.length>0){t.include=t.include.concat(r)}var n=a.read(e,t.dir).package;Object.keys(n).forEach(function(r){if(t.include.length>0&&!~t.include.indexOf(r)){return}if(!e.exports[r]){e.exports[r]=n[r]}});return a};a.find=function(e,t){if(!t){t=i.dirname(e.filename)}var r=n.readdirSync(t);if(~r.indexOf("package.json")){return i.join(t,"package.json")}if(t==="/"){throw new Error("Could not find package.json up from: "+t)}else if(!t||t==="."){throw new Error("Cannot find package.json from unspecified directory")}return a.find(e,i.dirname(t))};a.read=function(e,t){t=a.find(e,t);var r=n.readFileSync(t).toString();return{dir:t,"package":JSON.parse(r)}};a(t,{dir:r,include:["version"],target:a})}).call(this,"/node_modules/jsonld/node_modules/pkginfo/lib")},{fs:9,path:19}],58:[function(e,t,r){"use strict";var n=function(e){var t={};t.options={convertStringUrls:true};t.urlRegEx=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;var r=function(n){if(!n){return undefined}if(Array.isArray(n)){return n.map(function(e){return r(e)})}if(typeof n==="object"&&n.interfaceName){return n}if(typeof n==="string"){if(t.options.convertStringUrls&&t.urlRegEx.test(n)){return e.createNamedNode(n)}else{return e.createLiteral(n)}}else if(typeof n==="number"){return e.createLiteral(n+"")}else{throw"unknown type"}};var n=function(e,t,i){if(Array.isArray(e)){return e.map(function(e){return n(e,t,i)})}e=r(e);e.graph=t;e.graphIri=i;return e};var i=function(e,t){return t.some(function(t){return t.equals(e)})};var a=function(e){if(!e){return undefined}if(!Array.isArray(e)){return[e]}return e};t.Graph=function(e,n){if(!(this instanceof t.Graph)){return new t.Graph(e,n)}var s=this;this.context=r(a(n));var o=function(t,n,s,o){var u=[];n=r(a(n));e.forEach(function(e){if(t!==null&&!i(e.subject,t)){return}if(n!==null&&!i(e.predicate,n)){return}if(s!==null&&!i(e.object,s)){return}u.push(e[o])});return u};this.graph=function(){return e};this.node=function(r){return t.Graph(e,r)};this.in=function(r){return t.Graph(e,o(null,r,this.context,"subject"))};this.out=function(r){return t.Graph(e,o(this.context,r,null,"object"))};this.nodes=function(){if(!this.context){return[]}return this.context};this.literal=function(){if(!this.context){return undefined}return this.context.map(function(e){return e.toString()})};this.removeIn=function(t){if(t){t=r(a(t))}this.nodes().forEach(function(r){if(t){t.forEach(function(t){e.removeMatches(null,t,r)})}else{e.removeMatches(null,null,r)}});return this};this.removeOut=function(t){if(t){t=r(a(t))}this.nodes().forEach(function(r){if(t){t.forEach(function(t){e.removeMatches(r,t,null)})}else{e.removeMatches(r,null,null)}});return this};this.toArray=function(){return this.nodes().map(this.node)};this.forEach=function(e){return this.toArray().forEach(e)};this.map=function(e){return this.toArray().map(e)};this.toString=function(){return this.literal().join()}};t.Store=function(e,r){if(!(this instanceof t.Store)){return new t.Store(e,r)}var i=this;this.context=a(r);this.store=function(){return e};this.graphs=function(){var e=[];this.nodes().forEach(function(t){if(e.indexOf(t.graph)===-1){e.push(t.graph)}});return e};this.node=function(r,i,a){i=i||r.graphIri||r;return e.graph(i).then(function(s){if(a){return Promise.resolve(a(t.Store(e,n(r,s,i))))}else{return t.Store(e,n(r,s,i))}})};this.in=function(r){var i=[];this.nodes().forEach(function(e){i=i.concat(t.Graph(e.graph,e).in(r).nodes().map(function(t){return n(t,e.graph,e.graphIri)}))});return t.Store(e,i)};this.out=function(r){var i=[];this.nodes().forEach(function(e){i=i.concat(t.Graph(e.graph,e).out(r).nodes().map(function(t){return n(t,e.graph,e.graphIri)}))});return t.Store(e,i)};this.jump=function(r){return Promise.all(this.nodes().map(function(t){return e.graph(t.nominalValue).then(function(e){return n(t,e,t.nominalValue)})})).then(function(n){if(r){return Promise.resolve(r(t.Store(e,n)))}else{return t.Store(e,n)}})};this.nodes=function(){if(!this.context){return[]}return this.context};this.literal=function(){if(!this.context){return undefined}return this.context.map(function(e){return e.toString()})};this.toArray=function(){return this.nodes().map(function(r){return t.Store(e,r)})};this.forEach=function(e){return this.toArray().forEach(e)};this.map=function(e){return this.toArray().map(e)};this.toString=function(){return this.literal().join()}};e.cf=t};t.exports=n},{}],59:[function(e,t,r){"use strict";var n=function(e){var t={};this.graph=function(r,n){var i=null;if(r===undefined){i=e.createGraph();this.forEach(function(e){i.addAll(e)})}else if(r in t){i=t[r]}n(i)};this.match=function(e,t,r,n,i,a){this.graph(e,function(e){if(!e){i(null)}else{i(e.match(t,r,n,a))}})};this.add=function(r,n,i){t[r]=e.createGraph();t[r].addAll(n);i(n)};this.merge=function(e,r,n){if(e in t){t[e].addAll(r)}else{t[e]=r}n(r)};this.remove=function(r,n,i){if(r in t){t[r]=e.Graph.difference(t[r],n)}i(true)};this.removeMatches=function(e,r,n,i,a){if(e in t){t[e].removeMatches(r,n,i)}a(true)};this.delete=function(e,r){if(e in t){delete t[e]}r(true)};this.forEach=function(e){Object.keys(t).forEach(function(r){e(t[r],r)})}};t.exports=function(e){e.InMemoryStore=n.bind(null,e);e.createStore=function(){return new e.InMemoryStore}}},{}],60:[function(e,t,r){"use strict";var n=e("jsonld"),i=e("jsonld/js/rdfa");var a=function(e,t){t=t||{};if(!("importPrefixMap"in t)){t.importPrefixMap=true}var r=function(e,t,r){n.expand(e,{base:t},function(e,t){if(e){return r(null,e.message)}n.flatten(t,{},function(e,t){if(e){return r(null,e.message)}if(!("@graph"in t)){return r(null)}r(t["@graph"])})})};var i=function(e){e=e||[];if(Array.isArray(e)){return e}return[e]};this.process=function(n,a,s,o,u){if(typeof n==="string"){n=JSON.parse(n)}s=s||"";o=o||function(){return true};u=u||function(){};var l=function(t){var r=null,n=null;if("@type"in t){r=c(t["@type"])}if("@language"in t){n=t["@language"]}return e.createLiteral(t["@value"],n,r)};var f={};var c=function(t){if(t in f){return f[t]}if(!t){return e.createBlankNode()}if(t.indexOf("_:")===0){return f[t]=e.createBlankNode()}return f[t]=e.createNamedNode(t)};var h=function(t,r,n){var i=e.createTriple(t,r,n);if(o(i)){a(i)}};var p=function(t){var r=t["@id"],n=i(t["@type"]);n.forEach(function(t){h(c(r),c(e.ns.type),c(t))});for(var a in t){if(a.indexOf("@")===0){continue}d(r,a,i(t[a]))}};var d=function(e,t,r){r.forEach(function(r){h(c(e),c(t),v(r))})};var v=function(t){if(typeof t==="string"){return e.createLiteral(t)}if("@id"in t){return c(t["@id"])}if("@list"in t){return g(t["@list"])}return l(t)};var g=function(e){var t=c(),r=t,n;e.forEach(function(t,i){if(i!==e.length-1){n=c()}else{n=c("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}h(r,c("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),c(t["@id"]));h(r,c("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),n);r=n});return t};if(t.importPrefixMap&&"@context"in n&&typeof n["@context"]==="object"){var m=n["@context"];Object.keys(m).forEach(function(t){if(t.slice(1)!=="@"&&typeof m[t]==="string"){e.prefixes[t]=m[t]}})}r(n,s,function(e,t){if(t){return u(false,t)}if(!e){return u(true)}e.forEach(function(e){p(e)});u(true)});return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e,t){r(e?a:null,t)})}};var s=function(e){var t=new a(e);this.parse=function(r,a,s,o,u){if(typeof r==="string"){try{r=e.parseHtml(r)}catch(l){a(null,l);return false}}u=u||e.createGraph();r.location={href:s};i.attach(r);n.fromRDF(r.data,{format:"rdfa-api"},function(e,r){if(e){a(null,e)}else{t.process(r,function(e){u.add(e)},s,o,function(e,t){a(e?u:null,t)})}});return true}};t.exports=function(e){e.JsonLdParser=a.bind(null,e);var t=new a(e);e.parseJsonLd=t.parse.bind(t);e.utils.mimeTypeParserMap["application/ld+json"]=e.parseJsonLd;e.RdfaParser=s.bind(null,e);var r=new s(e);e.parseRdfa=r.parse.bind(r)}},{jsonld:54,"jsonld/js/rdfa":55}],61:[function(e,t,r){"use strict";var n=e("jsonld");var i=function(e){var t=e.createNamedNode("http://www.w3.org/2001/XMLSchema#string");this.serialize=function(e,r){r=r||function(){};var n=[];var i={};var a=function(e){var t=e.valueOf();if(typeof i[t]==="undefined"){if(e.interfaceName=="BlankNode"){
n.push({"@id":"_:"+t})}else{n.push({"@id":t})}i[t]=n.length-1}return i[t]};var s=function(e){if(e.interfaceName=="NamedNode"){return{"@id":e.valueOf()}}else if(e.interfaceName=="BlankNode"){return{"@id":"_:"+e.valueOf()}}else{if(e.language){return{"@language":e.language,"@value":e.valueOf()}}else if("datatype"in e&&e.datatype&&!t.equals(e.datatype)){return{"@type":e.datatype.valueOf(),"@value":e.valueOf()}}else{return e.valueOf()}}};e.forEach(function(e){var t=a(e.subject);var r=e.predicate.valueOf();if(r=="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"){if(typeof n[t]["@type"]==="undefined"){n[t]["@type"]=[]}n[t]["@type"].push(e.object.valueOf())}else{if(typeof n[t][r]==="undefined"){n[t][r]=s(e.object)}else{if(!Array.isArray(n[t][r])){n[t][r]=[n[t][r]]}n[t][r].push(s(e.object))}}});r(n);return n}};t.exports=function(e){e.JsonLdSerializer=i.bind(null,e);var t=new i(e);e.serializeJsonLd=t.serialize.bind(t)}},{jsonld:54}],62:[function(e,t,r){"use strict";var n=function(e,t){var r=this;t=t||{};r.parsers=t.parsers||n.defaultParsers(e);r.serializers=t.serializers||n.defaultSerializers(e);r.defaultParser=t.defaultParser||"text/turtle";r.defaultSerializer=t.defaultSerializer||"text/turtle";r.defaultPatchSerializer=t.defaultPatchSerializer||t.defaultSerializer||"text/turtle";r.request=t.request||e.defaultRequest;var i=function(){var e=null;for(var t in r.parsers){if(!e){e=t}else{e+=", "+t}}return e};var a=function(e){return e>=200&&e<300};r.graph=function(e,t,n){n=n||{};r.request("GET",e,{Accept:i()},null,function(i,s,o,u){if(u){return t(null,"request error: "+u)}if(!a(i)){if(i!==0){return t(null,"status code error: "+i)}}var l=r.defaultParser;if("content-type"in s&&s["content-type"]in r.parsers){l=s["content-type"]}if("forceContentType"in n&&n.forceContentType in r.parsers){l=n.forceContentType}r.parsers[l](o,function(e,r){if(r){return t(null,"parser error: "+r)}if("useEtag"in n&&n.useEtag&&"etag"in s){e.etag=s.etag}t(e)},e)})};r.match=function(e,t,n,i,a,s){r.graph(e,function(e,r){if(r){return a(null,r)}a(e.match(t,n,i,s))})};r.add=function(e,t,n,i){var s="PUT",o=r.defaultSerializer,u={};i=i||{};u["Content-Type"]=o;if("method"in i){s=i.method}if("etag"in i){u["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){u["If-Match"]=t.etag}r.serializers[o](t,function(i,o){if(o){return n(null,o)}r.request(s,e,u,i,function(e,r,i,s){if(s){return n(null,s)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.merge=function(e,t,n,i){var s=r.defaultPatchSerializer,o={};i=i||{};o["Content-Type"]=s;if("etag"in i){o["If-Match"]=i.etag}if("useEtag"in i&&i.useEtag&&"etag"in t){o["If-Match"]=t.etag}r.serializers[s](t,function(i,s){if(s){return n(null,s)}r.request("PATCH",e,o,i,function(e,r,i,s){if(s){return n(null,s)}if(!a(e)){return n(null,"status code error: "+e)}n(t)})})};r.remove=function(e,t,r){};r.removeMatches=function(e,t,r,n,i){};r.delete=function(e,t){r.request("DELETE",e,{},null,function(e,r,n,i){if(i){return t(false,"request error: "+i)}if(!a(e)){return t(false,"status code error: "+e)}t(true)})}};n.serializeSparqlUpdate=function(e,t,r){e.serializeNTriples(t,function(e,t){if(t){return r(null,t)}r("INSERT DATA { "+e+" }")})};n.defaultParsers=function(e){return{"application/ld+json":e.parseJsonLd,"application/n-triples":e.parseTurtle,"text/turtle":e.parseTurtle}};n.defaultSerializers=function(e){return{"application/ld+json":e.serializeJsonLd,"application/n-triples":e.serializeNTriples,"application/sparql-update":n.serializeSparqlUpdate.bind(null,e),"text/turtle":e.serializeNTriples}};t.exports=function(e){e.LdpStore=n.bind(null,e)}},{}],63:[function(e,t,r){"use strict";var n=e("./uri-resolver");var i=function(){this.blankCounter=0;this.vocabularies=[{namespaceURI:"http://schema.org/",isMember:function(e){return e.indexOf(this.namespaceURI)===0},getProperty:function(e){return this.namespaceURI+e}}]};i.prototype=new n;i.prototype.constructor=i;i.typeNode=rdf.createNamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");i.integerNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#integer");i.doubleNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#double");i.timeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#time");i.dateTimeNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#dateTime");i.durationNode=rdf.createNamedNode("http://www.w3.org/2001/XMLSchema#duration");i.absoluteURIRE=/[\w\_\-]+:\S+/;i.prototype.resolve=function(e){return e};i.trim=function(e){e=e||"";return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};i.tokenize=function(e){return i.trim(e).split(/\s+/).reduce(function(e,t){if(t){e.push(t)}return e},[])};i.prototype.getVocabulary=function(e){for(var t=0;t<this.vocabularies.length;t++){if(this.vocabularies[t].isMember(e)){return this.vocabularies[t]}}var r=function(e){return{namespaceURI:e,getProperty:function(e){return this.namespaceURI+e}}};var n=e.indexOf("#");if(n>=0){return r(e.substring(0,n+1))}var i=e.lastIndexOf("/");if(i>=0){return r(e.substring(0,i+1))}return r(e)};i.prototype.getProperty=function(e,t){if(i.absoluteURIRE.exec(e)){return e}return t?t.getProperty(e):base.resolve("#"+e)};i.valueMappings={link:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("href")))},media:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("src")))},meta:function(e){var t=e.getAttribute("content"),r=e.getAttribute("lang");return rdf.createLiteral(t,r?r:null)},number:function(e){var t=e.getAttribute("value");if(t===parseInt(t).toString()){return rdf.createLiteral(t,null,i.integerNode)}else if(t===parseFloat(t).toString()){return rdf.createLiteral(t,null,i.doubleNode)}else{return rdf.createLiteral(t)}},object:function(e,t){return rdf.createNamedNode(t.resolve(e.getAttribute("data")))},time:function(e){var t=e.getAttribute("datetime"),r=e.getAttribute("lang");if(t.length===9){return rdf.createLiteral(t,null,i.timeNode)}else if(t.length===20){return rdf.createLiteral(t,null,i.dateTimeNode)}else if(t.substr(0,1)==="P"){return rdf.createLiteral(t,null,i.durationNode)}else{return rdf.createLiteral(t,r?r:null)}}};i.valueMappings.a=i.valueMappings.link;i.valueMappings.area=i.valueMappings.a;i.valueMappings.audio=i.valueMappings.media;i.valueMappings.data=i.valueMappings.number;i.valueMappings.embed=i.valueMappings.media;i.valueMappings.iframe=i.valueMappings.media;i.valueMappings.img=i.valueMappings.media;i.valueMappings.meter=i.valueMappings.number;i.valueMappings.source=i.valueMappings.media;i.valueMappings.track=i.valueMappings.media;i.valueMappings.video=i.valueMappings.media;i.prototype.getValue=function(e,t){var r=i.valueMappings[e.localName];if(r){return r(e,t)}return rdf.createLiteral(e.textContent)};i.prototype.process=function(e,t,r){var n=this;if(e.nodeType===e.DOCUMENT_NODE){e=e.documentElement}r=n.parseURI(r);var a=function(e,t,r,n){return{memory:e?e:{},subject:t,type:r,vocabulary:n}};var s=function(e,s){var o,l,f,c,h,p;for(var d=e.item.firstChild;d;d=d.nextSibling){if(d.nodeType!==d.ELEMENT_NODE){continue}l=d.getAttribute("itemprop");f=d.hasAttribute("itemscope");o=a(e.context.memory,e.context.subject,s,e.context.vocabulary);h=u({item:d,context:o});if(l){i.tokenize(l).forEach(function(a){if(i.absoluteURIRE.test(a)){c=rdf.createNamedNode(a)}else if(o.vocabulary){c=rdf.createNamedNode(o.vocabulary+a)}else{c=rdf.createNamedNode(r.resolve("#"+a))}p=n.getValue(d,r);if(f){p=h}t(rdf.createTriple(e.context.subject,c,p))})}}};var o=function(e){var a=e.item.getAttribute("itemtype"),o,u;i.tokenize(a).forEach(function(n){if(!i.absoluteURIRE.test(n)){return}if(!o){o=n}t(rdf.createTriple(e.context.subject,i.typeNode,rdf.createNamedNode(r.resolve(n))))});if(!o){o=e.context.type}if(o){u=n.getVocabulary(o);u=u?u.namespaceURI:null}if(u){e.context.vocabulary=u}s(e,o)};var u=function(e){var t=e.item.getAttribute("id"),n=e.item.getAttribute("itemid"),a=e.item.getAttribute("itemref"),s=e.item.hasAttribute("itemscope");if(t in e.context.memory){e.context.memory[t].forEach(function(t){o({item:e.item,context:t})})}else{if(s){if(n){e.context.subject=rdf.createNamedNode(r.resolve(n))}else{e.context.subject=rdf.createBlankNode()}i.tokenize(a).forEach(function(t){if(!(t in e.context.memory)){e.context.memory[t]=[]}e.context.memory[t].push(e.context)})}o(e)}return e.context.subject};u({item:e,context:a(null,null,null,null)})};var a=function(e){var t=new i;this.process=function(r,n,i,a,s){i=i||"";a=a||function(){return true};s=s||function(){};t.process(e.parseHtml(r,i),n,i);s(true);return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e){r(e?a:null)})}};t.exports=function(e){e.MicrodataParser=a.bind(null,e);var t=new a(e);e.parseMicrodata=t.parse.bind(t)}},{"./uri-resolver":72}],64:[function(e,t,r){"use strict";var n=function(e){this.serialize=function(t,r){r=r||function(){};var n=e.Graph.toString(t);r(n);return n}};t.exports=function(e){e.NTriplesSerializer=n.bind(null,e);var t=new n(e);e.serializeNTriples=t.serialize.bind(t)}},{}],65:[function(e,t,r){"use strict";var n=function(e,t){return function(){var r=arguments;return new t(function(t,n){var i=function(e,r){if(r){n(r)}else{t(e)}};e(r,i)})}};var i=function(e,t){this.process=n(function(e,r){t.process(e[0],e[1],e[2],e[3],r)},e);this.parse=n(function(e,r){t.parse(e[0],r,e[1],e[2],e[3])},e);this.parser=function(){return t}};var a=function(e,t){this.serialize=n(function(e,r){t.serialize(e[0],r)},e);this.serializer=function(){return t}};var s=function(e,t){this.graph=n(function(e,r){t.graph(e[0],r)},e);this.match=n(function(e,r){t.match(e[0],e[1],e[2],e[3],r,e[5])},e);this.add=n(function(e,r){t.add(e[0],e[1],r)},e);this.merge=n(function(e,r){t.merge(e[0],e[1],r)},e);this.remove=n(function(e,r){t.remove(e[0],e[1],r)},e);this.removeMatches=n(function(e,r){t.removeMatches(e[0],e[1],e[2],e[3],r)},e);this.delete=n(function(e,r){t.delete(e[0],r)},e);this.store=function(){return t}};var o=function(e,t){return n(function(e,r){t(e[0],r,e[1],e[2],e[3])},e)};t.exports=function(e){e.promise={};e.promise.Parser=i.bind(null,e.Promise);e.promise.Serializer=a.bind(null,e.Promise);e.promise.Store=s.bind(null,e.Promise);e.promise.parse=o.bind(null,e.Promise)}},{}],66:[function(e,t,r){"use strict";var n=function(e){var t=this,r=e.rdf;t.graph=function(t,r){e.graph(t,function(e,t){if(e){r(t)}else{r(null)}})};t.match=function(e,r,n,i,a,s){t.graph(e,function(e){if(!e){a(null)}else{a(e.match(r,n,i,s))}})};t.add=function(t,r,n){e.clear(t,function(){e.insert(r,t,function(e){if(e){n(r)}else{n(null,"couldn'n insert graph")}})})};t.merge=function(t,r,n){e.insert(r,t,function(e){if(e){n(r)}else{n(null,"couldn'n insert graph")}})};t.remove=function(e,n,i){t.graph(e,function(a){var s=r.Graph.difference(a,n);t.add(e,s,function(e){i(!!e)})})};t.removeMatches=function(e,r,n,i,a){t.graph(e,function(s){var o=s.removeMatches(r,n,i);t.add(e,o,function(e){a(!!e)})})};t.delete=function(t,r){e.clear(t,function(e){if(e){r(true)}else{r(null,"couldn'n delete graph")}})}};t.exports=function(e){e.RdfstoreStore=n}},{}],67:[function(e,t,r){var n=function(e){var t={};t.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"};t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};this.frameFactory=function(e,r,n){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:false,terminateFrame:function(){if(this.collection){this.node.close()}},addSymbol:function(e,t){t=i(t,this.base);this.node=this.store.sym(t);this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection){this.parent.parent.node.append(this.node)}else{this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why)}if(this.parent.rdfid!=null){var e=this.store.sym(i("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why);this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return this.parent!=null&&this.parent.parent!=null&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e);if(this.isTripleToLoad()){this.loadTriple()}},addCollection:function(){this.nodeType=this.NODE;this.node=this.store.collection();this.collection=true;if(this.isTripleToLoad()){this.loadTriple()}},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){if(e!=null){if(this.parser.bnodes[e]!=null){this.node=this.parser.bnodes[e]}else{this.node=this.parser.bnodes[e]=this.store.bnode()}}else{this.node=this.store.bnode()}this.nodeType=this.NODE;if(this.isTripleToLoad()){this.loadTriple()}},addArc:function(e){if(e===t.ns.RDF+"li"){e=t.ns.RDF+"_"+this.parent.listIndex;this.parent.listIndex++}this.addSymbol(this.ARC,e)},addLiteral:function(e){if(this.parent.datatype){this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype))}else{this.node=this.store.literal(e,this.lang)}this.nodeType=this.NODE;if(this.isTripleToLoad()){this.loadTriple()}}}};this.getAttributeNodeNS=function(e,t,r){var n=null;if(e.getAttributeNodeNS){n=e.getAttributeNodeNS(t,r)}else{var i=e.attributes;var a,s;for(var o=0;o<i.length;++o){a=i[o];if(a.namespaceURI===t){s=a.prefix?a.prefix+":"+r:r;if(s===a.nodeName){n=a;break}}}}return n};this.store=e;this.bnodes={};this.why=null;this.reify=false;this.parse=function(e,r,n){var i=e.childNodes;this.cleanParser();var a;if(e.nodeType===t.nodeType.DOCUMENT){for(var s=0;s<i.length;s++){if(i[s].nodeType===t.nodeType.ELEMENT){a=i[s];break}}}else if(e.nodeType===t.nodeType.ELEMENT){a=e}else{throw new Error("RDFParser: can't find root in "+r+". Halting. ")}this.why=n;var o=this.frameFactory(this);this.base=r;o.base=r;o.lang="";this.parseDOM(this.buildFrame(o,a));return true};this.parseDOM=function(e){var r;var n=function(e){var t="";if(e.namespaceURI==null){throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base)}if(e.namespaceURI){t=t+e.namespaceURI}if(e.localName){t=t+e.localName}else if(e.nodeName){if(e.nodeName.indexOf(":")>=0)t=t+e.nodeName.split(":")[1];else t=t+e.nodeName}return t}.bind(this);var a=true;while(e.parent){var s=e.element;var o=s.attributes;if(s.nodeType===t.nodeType.TEXT||s.nodeType===t.nodeType.CDATA_SECTION){if(e.parent.nodeType==e.NODE){e.addArc(t.ns.RDF+"value");e=this.buildFrame(e)}e.addLiteral(s.nodeValue)}else if(n(s)!==t.ns.RDF+"RDF"){if(e.parent&&e.parent.collection){e.addCollectionArc();e=this.buildFrame(e,e.element);e.parent.element=null}if(!e.parent||!e.parent.nodeType||e.parent.nodeType===e.ARC){var u=this.getAttributeNodeNS(s,t.ns.RDF,"about");r=this.getAttributeNodeNS(s,t.ns.RDF,"ID");if(u&&r){throw new Error("RDFParser: "+s.nodeName+" has both rdf:id and rdf:about."+" Halting. Only one of these"+" properties may be specified on a"+" node.")}if(!u&&r){e.addNode("#"+r.nodeValue);s.removeAttributeNode(r)}else if(u==null&&r==null){var l=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");if(l){e.addBNode(l.nodeValue);s.removeAttributeNode(l)}else{e.addBNode()}}else{e.addNode(u.nodeValue);s.removeAttributeNode(u)}var f=this.getAttributeNodeNS(s,t.ns.RDF,"type");if(t.ns.RDF+"Description"!==n(s)){f={nodeValue:n(s)}}if(f!=null){this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(i(f.nodeValue,e.base)),this.why);if(f.nodeName){s.removeAttributeNode(f)}}for(var c=o.length-1;c>=0;c--){this.store.add(e.node,this.store.sym(n(o[c])),this.store.literal(o[c].nodeValue,e.lang),this.why)}}else{e.addArc(n(s));if(this.reify){r=this.getAttributeNodeNS(s,t.ns.RDF,"ID");if(r){e.rdfid=r.nodeValue;s.removeAttributeNode(r)}}var h=this.getAttributeNodeNS(s,t.ns.RDF,"parseType");var p=this.getAttributeNodeNS(s,t.ns.RDF,"datatype");if(p){e.datatype=p.nodeValue;s.removeAttributeNode(p)}if(h){var d=h.nodeValue;if(d==="Literal"){e.datatype=t.ns.RDF+"XMLLiteral";e=this.buildFrame(e);e.addLiteral(s);a=false}else if(d==="Resource"){e=this.buildFrame(e,e.element);e.parent.element=null;e.addBNode()}else if(d==="Collection"){e=this.buildFrame(e,e.element);e.parent.element=null;e.addCollection()}s.removeAttributeNode(h)}if(o.length!==0){var v=this.getAttributeNodeNS(s,t.ns.RDF,"resource");var g=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");e=this.buildFrame(e);if(v){e.addNode(v.nodeValue);s.removeAttributeNode(v)}else{if(g){e.addBNode(g.nodeValue);s.removeAttributeNode(g)}else{e.addBNode()}}for(var m=o.length-1;m>=0;m--){var b=this.buildFrame(e);b.addArc(n(o[m]));if(n(o[m])===t.ns.RDF+"type"){this.buildFrame(b).addNode(o[m].nodeValue)}else{this.buildFrame(b).addLiteral(o[m].nodeValue)}}}else if(s.childNodes.length===0){this.buildFrame(e).addLiteral("")}}}s=e.element;while(e.parent){var y=e;while(s==null){e=e.parent;s=e.element}var w=s.childNodes&&s.childNodes[e.lastChild];if(!w||!a){e.terminateFrame();if(!(e=e.parent)){break}s=e.element;a=true}else if(w.nodeType!==t.nodeType.ELEMENT&&w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||(w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&s.childNodes.length!==1){e.lastChild++}else{e.lastChild++;e=this.buildFrame(y,s.childNodes[e.lastChild-1]);break}}}};this.cleanParser=function(){this.bnodes={};this.why=null};this.buildFrame=function(e,r){var n=this.frameFactory(this,e,r);if(e){n.base=e.base;n.lang=e.lang}if(!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION){return n}var a=r.attributes;var s=r.getAttributeNode("xml:base");if(s!=null){n.base=s.nodeValue;r.removeAttribute("xml:base")}var o=r.getAttributeNode("xml:lang");if(o!=null){n.lang=o.nodeValue;r.removeAttribute("xml:lang")}for(var u=a.length-1;u>=0;u--){if(a[u].nodeName.substr(0,3)==="xml"){if(a[u].name.slice(0,6)==="xmlns:"){var l=a[u].nodeValue;if(this.base)l=i(l,this.base);this.store.setPrefixForURI(a[u].name.slice(6),l)}r.removeAttributeNode(a[u])}}return n}};var i=function(e,t){var r,n,i,a,s,o,u;n=t.indexOf("#");if(n>0){t=t.slice(0,n)}if(e.length===0){return t}if(e.indexOf("#")===0){return t+e}s=e.indexOf(":");if(s>=0){return e}r=t.indexOf(":");if(t.length===0){return e}if(r<0){alert("Invalid base: "+t+" in join with given: "+e);return e}i=t.slice(0,+r+1||9e9);if(e.indexOf("//")===0){return i+e}if(t.indexOf("//",r)===r+1){a=t.indexOf("/",r+3);if(a<0){if(t.length-r-3>0){return t+"/"+e}else{return i+e}}}else{a=t.indexOf("/",r+1);if(a<0){if(t.length-r-1>0){return t+"/"+e}else{return i+e}}}if(e.indexOf("/")===0){return t.slice(0,a)+e}u=t.slice(a);o=u.lastIndexOf("/");if(o<0){return i+e}if(o>=0&&o<u.length-1){u=u.slice(0,+o+1||9e9)}u+=e;while(u.match(/[^\/]*\/\.\.\//)){u=u.replace(/[^\/]*\/\.\.\//,"")}u=u.replace(/\.\//g,"");u=u.replace(/\/\.$/,"/");return t.slice(0,a)+u};var a=function(e){this.process=function(t,r,i,a,s){if(typeof t==="string"){t=e.parseXml(t)}i=i||"";a=a||function(){return true};var o=function(e){var t="";for(var r=0;r<e.length;r++){t+=e[r].toString()}return t};var u={};u.add=function(t,n,i){var s=e.createTriple(t,n,i);if(a(s)){r(s)}};u.bnode=function(){return e.createBlankNode()};u.literal=function(t,r,n){if(n&&n.toString()==="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"){t=o(t.childNodes)}return e.createLiteral(t,r,n)};u.setPrefixForURI=function(){};u.sym=function(t){return e.createNamedNode(t)};new n(u).parse(t,i);s(true);return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e){r(e?a:null)})}};t.exports=function(e){e.RdfXmlParser=a.bind(null,e);var t=new a(e);e.parseRdfXml=t.parse.bind(t);e.utils.mimeTypeParserMap["application/rdf+xml"]=e.parseRdfXml}},{}],68:[function(e,t,r){"use strict";var n=function(e,t){this.graph=function(e,r){r(t)};this.match=function(e,r,n,i,a,s){a(t.match(r,n,i,s))};this.add=function(e,r,n){n(t=r)};this.merge=function(e,r,n){t.addAll(r);n(r)};this.remove=function(r,n,i){t=e.difference(t,n);i(true)};this.removeMatches=function(e,r,n,i,a){t.removeMatches(r,n,i);a(true)};this.delete=function(e,r){t.removeMatches();r(true)}};t.exports=function(e){e.SingleGraphStore=n.bind(null,e)}},{}],69:[function(e,t,r){"use strict";var n=function(e,t){var r=this;t=t||{};r.endpointUrl=t.endpointUrl;r.updateUrl=t.updateUrl||r.endpointUrl;r.mimeType=t.mimeType||"text/turtle";r.serialize=t.serialize||e.serializeNTriples;r.parse=t.parse||e.parseTurtle;r.request=t.request||e.defaultRequest;var n=function(e){return e>=200&&e<300};var i=function(e,t,r){var n="";var i=function(e){if(typeof e==="string"){if(e.substr(0,2)==="_:"){return e}else{return"<"+e+">"}}return e.toNT()};n+=e?i(e):"?s";n+=t?" "+i(t):" ?p";n+=r?" "+i(r):" ?o";return n};r.graph=function(e,t){r.match(e,null,null,null,t)};r.match=function(e,t,a,s,o,u){var l=i(t,a,s),f="CONSTRUCT { "+l+" } { GRAPH <"+e+"> {"+l+" }}",c=r.endpointUrl+"?query="+encodeURIComponent(f);r.request("GET",c,{Accept:r.mimeType},null,function(e,t,i,a){if(a){return o(null,"request error: "+a)}if(!n(e)){return o(null,"status code error: "+e)}r.parse(i,o)})};var a=function(e,t,i){r.request("POST",r.updateUrl,{"Content-Type":"application/sparql-update"},e,function(e,r,a,s){if(s){return i(null,"request error: "+s)}if(!n(e)){return i(null,"status code error: "+e)}i(t)})};r.add=function(e,t,n){var i="DROP SILENT GRAPH <"+e+">;"+"INSERT DATA { GRAPH <"+e+"> { "+r.serialize(t)+" } }";a(i,t,n)};r.merge=function(e,t,n){var i="INSERT DATA { GRAPH <"+e+"> { "+r.serialize(t)+" } }";a(i,t,n)};r.remove=function(e,t,n){var i="DELETE DATA FROM <"+e+"> { "+r.serialize(t)+" }";a(i,true,n)};r.removeMatches=function(e,t,r,n,s){var o="DELETE FROM GRAPH <"+e+"> WHERE { "+i(t,r,n)+" }";a(o,true,s)};r.delete=function(e,t){var r="CLEAR  GRAPH <"+e+">";a(r,true,t)}};t.exports=function(e){e.SparqlStore=n.bind(null,e)}},{}],70:[function(e,t,r){"use strict";var n=e("n3");var i=function(e,t){t=t||{};if(!("importPrefixMap"in t)){t.importPrefixMap=true}this.process=function(r,i,a,s,o){var u={};u.documentIRI=a;s=s||function(){return true};o=o||function(){};var l=n.Parser(u),f={};l.parse(r,function(r,a,u){if(r){return o(false,r)}if(t.importPrefixMap&&u){Object.keys(u).forEach(function(t){e.prefixes[t]=u[t]})}if(!a){return o(true)}var l=function(t){if(n.Util.isIRI(t)){return e.createNamedNode(t)}else if(n.Util.isBlank(t)){if(t in f){return f[t]}else{return f[t]=e.createBlankNode()}}else{var r=n.Util.getLiteralLanguage(t),i=n.Util.getLiteralType(t);if(r===""){r=null}if(i==="http://www.w3.org/2001/XMLSchema#string"){i=null}return e.createLiteral(n.Util.getLiteralValue(t),r,i?e.createNamedNode(i):null)}};var c=function(t){var r=e.createTriple(l(t.subject),l(t.predicate),l(t.object));if(s(r)){i(r)}};c(a)});return true};this.parse=function(t,r,n,i,a){a=a||e.createGraph();return this.process(t,function(e){a.add(e)},n,i,function(e,t){r(e?a:null,t)})}};t.exports=function(e){e.TurtleParser=i.bind(null,e);e.NTriplesParser=i.bind(null,e);var t=new i(e);e.parseTurtle=t.parse.bind(t);e.parseNTriples=t.parse.bind(t);e.utils.mimeTypeParserMap["application/n-triples"]=e.parseNTriples;e.utils.mimeTypeParserMap["text/n3"]=e.parseTurtle;e.utils.mimeTypeParserMap["text/turtle"]=e.parseTurtle}},{n3:77}],71:[function(e,t,r){"use strict";var n=e("n3");var i=function(e,t){t=t||{};t.usePrefixMap=t.usePrefixMap||true;this.serialize=function(r,i){var a={},s;i=i||function(){};if(t.usePrefixMap){a.prefixes={};Object.keys(e.prefixes).forEach(function(t){if(typeof e.prefixes[t]!=="string"){return}a.prefixes[t]=e.prefixes[t]})}s=n.Writer(a);var o=function(e){if(e.interfaceName.toString()==="NamedNode"){return e.nominalValue}else if(e.interfaceName.toString()==="BlankNode"){return"_:"+e.nominalValue}else{if(e.datatype){return'"'+e.nominalValue+'"^^'+e.datatype.nominalValue}else if(e.language){return'"'+e.nominalValue+'"@'+e.language}else{return'"'+e.nominalValue+'"'}}};r.forEach(function(e){s.addTriple(o(e.subject),o(e.predicate),o(e.object))});s.end(function(e,t){if(e){i(null,e)}else{i(t)}});return true}};t.exports=function(e){e.TurtleSerializer=i.bind(null,e);var t=new i(e);e.serializeTurtle=t.serialize.bind(t)}},{n3:77}],72:[function(e,t,r){"use strict";var n=function(){};n.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/;n.prototype.parseURI=function(e){var t=n.SCHEME.exec(e);if(!t){throw"Bad URI value, no scheme: "+e}var r={spec:e};r.scheme=t[0].substring(0,t[0].length-1);r.schemeSpecificPart=r.spec.substring(t[0].length);if(r.schemeSpecificPart.charAt(0)=="/"&&r.schemeSpecificPart.charAt(1)=="/"){this.parseGeneric(r)}else{r.isGeneric=false}r.normalize=function(){if(!this.isGeneric){return}if(this.segments.length==0){return}if(this.path.length>1&&this.path.substring(this.path.length-2)=="/."){this.path=this.path.substring(0,this.path.length-1);this.segments.splice(this.segments.length-1,1);this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart;return}var e=this.path.charAt(this.path.length-1);if(e!="/"){e=""}for(var t=0;t<this.segments.length;t++){if(t>0&&this.segments[t]==".."){this.segments.splice(t-1,2);t-=2}if(this.segments[t]=="."){this.segments.splice(t,1);t--}}this.path=this.segments.length==0?"/":"/"+this.segments.join("/")+e;this.schemeSpecificPart="//"+this.authority+this.path;if(typeof this.query!="undefined"){this.schemeSpecificPart+="?"+this.query}if(typeof this.fragment!="undefined"){this.schemeSpecificPart+="#"+this.fragment}this.spec=this.scheme+":"+this.schemeSpecificPart};r.resolve=function(e){if(!e){return this.spec}if(e.charAt(0)=="#"){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric){throw"Cannot resolve uri against non-generic URI: "+this.spec}var r=e.indexOf(":");if(e.charAt(0)=="/"){return this.scheme+"://"+this.authority+e}else if(e.charAt(0)=="."&&e.charAt(1)=="/"){if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e.substring(2)}else{var i=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,i)+e.substring(1)}}else if(n.SCHEME.test(e)){return e}else if(e.charAt(0)=="?"){return this.scheme+"://"+this.authority+this.path+e}else{if(this.path.charAt(this.path.length-1)=="/"){return this.scheme+"://"+this.authority+this.path+e}else{var i=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,i+1)+e}}};r.relativeTo=function(e){if(e.scheme!=this.scheme){return this.spec}if(!this.isGeneric){throw"A non generic URI cannot be made relative: "+this.spec}if(!e.isGeneric){throw"Cannot make a relative URI against a non-generic URI: "+e.spec}if(e.authority!=this.authority){return this.spec}var t=0;for(;t<this.segments.length&&t<e.segments.length;t++){if(this.segments[t]!=e.segments[t]){var r="";for(var n=t;n<e.segments.length;n++){r+="../"}for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}}if(this.segments.length==e.segments.length){return this.hash?this.hash:this.query?this.query:""}else if(t<this.segments.length){var r="";for(var n=t;n<this.segments.length;n++){r+=this.segments[n];if(n+1<this.segments.length){r+="/"}}if(this.path.charAt(this.path.length-1)=="/"){r+="/"}return r}else{throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec}};return r};n.prototype.parseGeneric=function(e){if(e.schemeSpecificPart.charAt(0)!="/"||e.schemeSpecificPart.charAt(1)!="/"){throw"Generic URI values should start with '//':"+e.spec}var t=e.schemeSpecificPart.substring(2);var r=t.indexOf("/");e.authority=r<0?t:t.substring(0,r);e.path=r<0?"":t.substring(r);var n=e.path.indexOf("#");if(n>=0){e.fragment=e.path.substring(n+1);e.path=e.path.substring(0,n)}var i=e.path.indexOf("?");if(i>=0){e.query=e.path.substring(i+1);e.path=e.path.substring(0,i)}if(e.path=="/"||e.path==""){e.segments=[]}else{e.segments=e.path.split(/\//);if(e.segments.length>0&&e.segments[0]==""&&e.path.length>1&&e.path.charAt(1)!="/"){e.segments.shift()}if(e.segments.length>0&&e.path.length>0&&e.path.charAt(e.path.length-1)=="/"&&e.segments[e.segments.length-1]==""){if(e.path.length>1&&e.path.charAt(e.path.length-2)!="/"){e.segments.pop()}}for(var a=0;a<e.segments.length;a++){var s=e.segments[a].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/);for(var o=0;o<s.length;o++){if(s[o].length>0){throw"Unecaped character "+s[o].charAt(0)+" ("+s[o].charCodeAt(0)+") in URI "+e.spec}}}}e.isGeneric=true};t.exports=n},{}],73:[function(e,t,r){"use strict";var n={};n.defaultRequest=function(e,t,r,n,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===a.DONE){var e=a.getAllResponseHeaders().split("\r\n"),t={};for(var r=0;r<e.length;r++){var n=e[r].split(": ",2);t[n[0].toLowerCase()]=n[1]}i(a.status,t,a.responseText)}};a.open(e,t,true);for(var s in r){a.setRequestHeader(s,r[s])}a.send(n)};n.corsProxyRequest=function(e,t,r,i,a,s){var o=e+"?url="+encodeURIComponent(r);n.defaultRequest(t,o,i,a,s)};n.parseHtml=function(e,t){var r=new DOMParser;return r.parseFromString(e,"text/html")};n.parseXml=function(e,t){var r=new DOMParser;return r.parseFromString(e,"application/xml")};n.mixin=function(e){e.defaultRequest=n.defaultRequest;e.corsProxyRequest=n.corsProxyRequest;e.parseHtml=n.parseHtml;e.parseXml=n.parseXml};t.exports=n.mixin},{}],74:[function(e,t,r){"use strict";var n=e("http"),i=e("https"),a=e("url");var s={};s.defaultRequest=function(e,t,r,s,o){var u=a.parse(t),l=n;u.hash=null;u.method=e;u.headers=r;if(u.protocol==="https:"){l=i}var f=l.request(u,function(e){var t="";e.setEncoding("utf8");e.on("data",function(e){t+=e});e.on("end",function(){o(e.statusCode,e.headers,t)})});f.on("error",function(e){o(null,null,null,e)});if(s){f.write(s)}f.end()};s.parseHtml=function(t,r){var n=new(e("xmldom").DOMParser);return n.parseFromString(t,"text/html")};s.parseXml=function(t,r){var n=new(e("xmldom").DOMParser);return n.parseFromString(t,"application/xml")};s.mixin=function(t){t.Promise=t.Promise||e("es6-promise").Promise;t.defaultRequest=s.defaultRequest;t.parseHtml=s.parseHtml;t.parseXml=s.parseXml};t.exports=s.mixin},{"es6-promise":76,http:39,https:16,url:49,xmldom:86}],75:[function(e,t,r){"use strict";var n={};n.filter={};n.filter.namedNode=function(e){return e.interfaceName==="NamedNode"};n.filter.blankNode=function(e){return e.interfaceName==="BlankNode"};n.filter.literal=function(e){return e.interfaceName==="Literal"};n.filter.namedNodeSubject=function(e){return function(t){return t.subject.interfaceName!=="NamedNode"||t.subject.equals(e)}};n.list={};n.list.tripleParts=function(e,t,r){var n={};r=r||function(){return true};e.forEach(function(e){n[e[t].toNT()]=e[t]});n=Object.keys(n).map(function(e){return n[e]}).filter(function(e){return r(e)});return n};n.list.subjects=function(e,t){return n.list.tripleParts(e,"subject",t)};n.list.predicates=function(e,t){return n.list.tripleParts(e,"predicate",t)};n.list.objects=function(e,t){return n.list.tripleParts(e,"object",t)};n.createSubGraph=function(e,t,r,n){var i={},a=e.createGraph();var s=function(r){if(r.length===0){return}var o=[],u=e.createGraph();r.forEach(function(e){u.addAll(t.match(e))});if(n){u=u.filter(n)}u.forEach(function(e){var t=e.object.toNT();if(!(t in i)){o.push(e.object);i[t]=true}});a.addAll(u);s(o)};s([r]);return a};n.createSubGraphByNamedNodeSubject=function(e,t,r){return e.utils.createSubGraph(t,r,n.filter.namedNodeSubject(r))};n.splitGraphByNamedNodeSubject=function(e,t,r){
r=r||new e.promise.Store(e.createStore());var i=[];n.list.subjects(t,n.filter.namedNode).forEach(function(a){i.push(r.add(a,n.createSubGraphByNamedNodeSubject(e,t,a)))});return Promise.all(i).then(function(){return r})};n.mapNamespaceNode=function(e,t,r,n){if(t.interfaceName!=="NamedNode"){return t}if(t.nominalValue.toString().indexOf(r)!==0){return t}return e.createNamedNode(n+t.nominalValue.toString().substr(r.length))};n.mapNamespaceTriple=function(e,t,r,i){return e.createTriple(n.mapNamespaceNode(e,t.subject,r,i),n.mapNamespaceNode(e,t.predicate,r,i),n.mapNamespaceNode(e,t.object,r,i))};n.mapNamespaceGraph=function(e,t,r,i){var a=e.createGraph();t.forEach(function(t){a.add(n.mapNamespaceTriple(e,t,r,i))});return a};n.mimeTypeParserMap={};n.parse=function(e,t,r,i,a){if(!(e in n.mimeTypeParserMap)){return Promise.reject("no parser available for mime type: "+e)}else{return rdf.promise.parse(n.mimeTypeParserMap[e])(t,r,i,a)}};n.mixin=function(e){e.utils={};e.utils.filter=n.filter;e.utils.list=n.list;e.utils.createSubGraph=n.createSubGraph.bind(null,e);e.utils.createSubGraphByNamedNodeSubject=n.createSubGraphByNamedNodeSubject.bind(null,e);e.utils.splitGraphByNamedNodeSubject=n.splitGraphByNamedNodeSubject.bind(null,e);e.utils.mapNamespaceNode=n.mapNamespaceNode.bind(null,e);e.utils.mapNamespaceTriple=n.mapNamespaceTriple.bind(null,e);e.utils.mapNamespaceGraph=n.mapNamespaceGraph.bind(null,e);e.utils.mimeTypeParserMap=n.mimeTypeParserMap;e.utils.parse=n.parse};t.exports=n.mixin},{}],76:[function(e,t,r){(function(r,n){(function(){"use strict";function i(e){return typeof e==="function"||typeof e==="object"&&e!==null}function a(e){return typeof e==="function"}function s(e){return typeof e==="object"&&e!==null}var o;if(!Array.isArray){o=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{o=Array.isArray}var u=o;var l=0;var f={}.toString;var c;var h;var p=function me(e,t){I[l]=e;I[l+1]=t;l+=2;if(l===2){if(h){h(S)}else{O()}}};function d(e){h=e}function v(e){p=e}var g=typeof window!=="undefined"?window:undefined;var m=g||{};var b=m.MutationObserver||m.WebKitMutationObserver;var y=typeof r!=="undefined"&&{}.toString.call(r)==="[object process]";var w=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function x(){var e=r.nextTick;var t=r.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);if(Array.isArray(t)&&t[1]==="0"&&t[2]==="10"){e=setImmediate}return function(){e(S)}}function _(){return function(){c(S)}}function E(){var e=0;var t=new b(S);var r=document.createTextNode("");t.observe(r,{characterData:true});return function(){r.data=e=++e%2}}function j(){var e=new MessageChannel;e.port1.onmessage=S;return function(){e.port2.postMessage(0)}}function N(){return function(){setTimeout(S,1)}}var I=new Array(1e3);function S(){for(var e=0;e<l;e+=2){var t=I[e];var r=I[e+1];t(r);I[e]=undefined;I[e+1]=undefined}l=0}function R(){try{var t=e;var r=t("vertx");c=r.runOnLoop||r.runOnContext;return _()}catch(n){return N()}}var O;if(y){O=x()}else if(b){O=E()}else if(w){O=j()}else if(g===undefined&&typeof e==="function"){O=R()}else{O=N()}function T(){}var k=void 0;var A=1;var C=2;var L=new $;function P(){return new TypeError("You cannot resolve a promise with itself")}function D(){return new TypeError("A promises callback cannot return that same promise.")}function U(e){try{return e.then}catch(t){L.error=t;return L}}function M(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function B(e,t,r){p(function(e){var n=false;var i=M(r,t,function(r){if(n){return}n=true;if(t!==r){z(e,r)}else{V(e,r)}},function(t){if(n){return}n=true;H(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&i){n=true;H(e,i)}},e)}function F(e,t){if(t._state===A){V(e,t._result)}else if(t._state===C){H(e,t._result)}else{X(t,undefined,function(t){z(e,t)},function(t){H(e,t)})}}function q(e,t){if(t.constructor===e.constructor){F(e,t)}else{var r=U(t);if(r===L){H(e,L.error)}else if(r===undefined){V(e,t)}else if(a(r)){B(e,t,r)}else{V(e,t)}}}function z(e,t){if(e===t){H(e,P())}else if(i(t)){q(e,t)}else{V(e,t)}}function G(e){if(e._onerror){e._onerror(e._result)}J(e)}function V(e,t){if(e._state!==k){return}e._result=t;e._state=A;if(e._subscribers.length!==0){p(J,e)}}function H(e,t){if(e._state!==k){return}e._state=C;e._result=t;p(G,e)}function X(e,t,r,n){var i=e._subscribers;var a=i.length;e._onerror=null;i[a]=t;i[a+A]=r;i[a+C]=n;if(a===0&&e._state){p(J,e)}}function J(e){var t=e._subscribers;var r=e._state;if(t.length===0){return}var n,i,a=e._result;for(var s=0;s<t.length;s+=3){n=t[s];i=t[s+r];if(n){Z(r,n,i,a)}else{i(a)}}e._subscribers.length=0}function $(){this.error=null}var Y=new $;function W(e,t){try{return e(t)}catch(r){Y.error=r;return Y}}function Z(e,t,r,n){var i=a(r),s,o,u,l;if(i){s=W(r,n);if(s===Y){l=true;o=s.error;s=null}else{u=true}if(t===s){H(t,D());return}}else{s=n;u=true}if(t._state!==k){}else if(i&&u){z(t,s)}else if(l){H(t,o)}else if(e===A){V(t,s)}else if(e===C){H(t,s)}}function K(e,t){try{t(function n(t){z(e,t)},function i(t){H(e,t)})}catch(r){H(e,r)}}function Q(e,t){var r=this;r._instanceConstructor=e;r.promise=new e(T);if(r._validateInput(t)){r._input=t;r.length=t.length;r._remaining=t.length;r._init();if(r.length===0){V(r.promise,r._result)}else{r.length=r.length||0;r._enumerate();if(r._remaining===0){V(r.promise,r._result)}}}else{H(r.promise,r._validationError())}}Q.prototype._validateInput=function(e){return u(e)};Q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Q.prototype._init=function(){this._result=new Array(this.length)};var ee=Q;Q.prototype._enumerate=function(){var e=this;var t=e.length;var r=e.promise;var n=e._input;for(var i=0;r._state===k&&i<t;i++){e._eachEntry(n[i],i)}};Q.prototype._eachEntry=function(e,t){var r=this;var n=r._instanceConstructor;if(s(e)){if(e.constructor===n&&e._state!==k){e._onerror=null;r._settledAt(e._state,t,e._result)}else{r._willSettleAt(n.resolve(e),t)}}else{r._remaining--;r._result[t]=e}};Q.prototype._settledAt=function(e,t,r){var n=this;var i=n.promise;if(i._state===k){n._remaining--;if(e===C){H(i,r)}else{n._result[t]=r}}if(n._remaining===0){V(i,n._result)}};Q.prototype._willSettleAt=function(e,t){var r=this;X(e,undefined,function(e){r._settledAt(A,t,e)},function(e){r._settledAt(C,t,e)})};function te(e){return new ee(this,e).promise}var re=te;function ne(e){var t=this;var r=new t(T);if(!u(e)){H(r,new TypeError("You must pass an array to race."));return r}var n=e.length;function i(e){z(r,e)}function a(e){H(r,e)}for(var s=0;r._state===k&&s<n;s++){X(t.resolve(e[s]),undefined,i,a)}return r}var ie=ne;function ae(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var r=new t(T);z(r,e);return r}var se=ae;function oe(e){var t=this;var r=new t(T);H(r,e);return r}var ue=oe;var le=0;function fe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ce(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var he=pe;function pe(e){this._id=le++;this._state=undefined;this._result=undefined;this._subscribers=[];if(T!==e){if(!a(e)){fe()}if(!(this instanceof pe)){ce()}K(this,e)}}pe.all=re;pe.race=ie;pe.resolve=se;pe.reject=ue;pe._setScheduler=d;pe._setAsap=v;pe._asap=p;pe.prototype={constructor:pe,then:function(e,t){var r=this;var n=r._state;if(n===A&&!e||n===C&&!t){return this}var i=new this.constructor(T);var a=r._result;if(n){var s=arguments[n-1];p(function(){Z(n,i,s,a)})}else{X(r,i,e,t)}return i},"catch":function(e){return this.then(null,e)}};function de(){var e;if(typeof n!=="undefined"){e=n}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}}var r=e.Promise;if(r&&Object.prototype.toString.call(r.resolve())==="[object Promise]"&&!r.cast){return}e.Promise=he}var ve=de;var ge={Promise:he,polyfill:ve};if(typeof define==="function"&&define["amd"]){define(function(){return ge})}else if(typeof t!=="undefined"&&t["exports"]){t["exports"]=ge}else if(typeof this!=="undefined"){this["ES6Promise"]=ge}ve()}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:20}],77:[function(e,t,r){var n=e;e=function(){};var r=t.exports={Lexer:e("./lib/N3Lexer"),Parser:e("./lib/N3Parser"),Writer:e("./lib/N3Writer"),Store:e("./lib/N3Store"),StreamParser:e("./lib/N3StreamParser"),StreamWriter:e("./lib/N3StreamWriter"),Util:e("./lib/N3Util")};Object.keys(r).forEach(function(e){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){delete r[e];return r[e]=n("./lib/N3"+e)}})})},{"./lib/N3Lexer":78,"./lib/N3Parser":79,"./lib/N3Store":80,"./lib/N3StreamParser":81,"./lib/N3StreamWriter":82,"./lib/N3Util":83,"./lib/N3Writer":84}],78:[function(e,t,r){var n=String.fromCharCode;var i=typeof setImmediate==="function"?setImmediate:function l(e){setTimeout(e,0)};var a=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g;var s={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"};var o=/[\x00-\x20<>\\"\{\}\|\^\`]/;function u(e){if(!(this instanceof u))return new u(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize;this.tokenize=function(e,r){this._tokenize(e,function(e,n){if(!e&&/IRI|prefixed|literal|langcode|type|\.|eof/.test(n.type))r&&r(e,n);else r&&r(e||t._syntaxError(n.type,r=null))})}}}u.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){var r=this._input;while(true){var n;while(n=this._newline.exec(r))r=r.substr(n[0].length,r.length),this._line++;if(n=this._whitespace.exec(r))r=r.substr(n[0].length,r.length);if(this._endOfFile.test(r)){if(t)e(r=null,{line:this._line,type:"eof",value:"",prefix:""});return this._input=r}var i=this._line,a="",s="",u="",l=r[0],f=null,c=0,h,p=false;switch(l){case"^":if(r.length===1)break;else if(r[1]!=="^")return d(this);this._prevTokenType="^";r=r.substr(2);if(r[0]!=="<"){p=true;break}case"<":if(f=this._unescapedIri.exec(r)){a="IRI";s=f[1]}else if(f=this._iri.exec(r)){h=this._unescape(f[1]);if(h===null||o.test(h))return d(this);a="IRI";s=h}break;case"_":if((f=this._blank.exec(r))||t&&(f=this._blank.exec(r+" "))){a="prefixed";u="_";s=f[1]}break;case'"':case"'":if(f=this._unescapedString.exec(r)){a="literal";s=f[0]}else if(f=this._singleQuotedString.exec(r)){h=this._unescape(f[0]);if(h===null)return d(this);a="literal";s=h.replace(/^'|'$/g,'"')}else if(f=this._tripleQuotedString.exec(r)){h=f[1]||f[2];this._line+=h.split(/\r\n|\r|\n/).length-1;h=this._unescape(h);if(h===null)return d(this);a="literal";s=h.replace(/^'|'$/g,'"')}break;case"@":if(this._prevTokenType==="literal"&&(f=this._langcode.exec(r))){a="langcode";s=f[1]}else if(f=this._keyword.exec(r)){a=f[0]}break;case".":if(r.length===1?t:r[1]<"0"||r[1]>"9"){a=".";c=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":if(f=this._number.exec(r)){a="literal";s='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(f[1]?"double":/^[+\-]?\d+$/.test(f[0])?"integer":"decimal")}break;case"B":case"b":case"p":case"P":case"G":case"g":if(f=this._sparqlKeyword.exec(r))a=f[0].toUpperCase();else p=true;break;case"f":case"t":if(f=this._boolean.exec(r)){a="literal";s='"'+f[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'}else p=true;break;case"a":if(f=this._shortPredicates.exec(r)){a="abbreviation";s="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}else p=true;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":c=1;a=l;break;default:p=true}if(p){if((this._prevTokenType==="@prefix"||this._prevTokenType==="PREFIX")&&(f=this._prefix.exec(r))){a="prefix";s=f[1]||""}else if((f=this._prefixed.exec(r))||t&&(f=this._prefixed.exec(r+" "))){a="prefixed";u=f[1]||"";s=this._unescape(f[2])}}if(this._prevTokenType==="^")a=a==="IRI"||a==="prefixed"?"type":"";if(!a){if(t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r))return d(this);else return this._input=r}e(null,{line:i,type:a,value:s,prefix:u});this._prevTokenType=a;r=r.substr(c||f[0].length,r.length)}function d(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}},_unescape:function(e){try{return e.replace(a,function(e,t,r,i){var a;if(t){a=parseInt(t,16);if(isNaN(a))throw new Error;return n(a)}else if(r){a=parseInt(r,16);if(isNaN(a))throw new Error;if(a<=65535)return n(a);return n(55296+(a-=65536)/1024,56320+(a&1023))}else{var o=s[i];if(!o)throw new Error;return o}})}catch(t){return null}},_syntaxError:function(e){this._input=null;return new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,t){var r=this;this._line=1;if(typeof e==="string"){this._input=e;i(function(){r._tokenizeToEnd(t,true)})}else{this._input="";if(!e||typeof e==="function"){this.addChunk=n;this.end=a;if(!t)t=e}else{if(typeof e.setEncoding==="function")e.setEncoding("utf8");e.on("data",n);e.on("end",a)}}function n(e){if(r._input!==null){r._input+=e;r._tokenizeToEnd(t,false)}}function a(){if(r._input!==null){r._tokenizeToEnd(t,true)}}}};t.exports=u},{}],79:[function(e,t,r){var n=e("./N3Lexer");var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=i+"nil",s=i+"first",o=i+"rest";var u=/:/,l=/[^\/]*$/,f=/^(?:[^:]+:\/*)?[^\/]*/;var c=0,h=0;function p(e){if(!(this instanceof p))return new p(e);this._tripleStack=[];this._graph=null;e=e||{};if(!e.documentIRI){this._baseIRI=null;this._baseIRIPath=null}else{if(e.documentIRI.indexOf("#")>0)throw new Error("Invalid document IRI");this._baseIRI=e.documentIRI;this._baseIRIPath=this._baseIRI.replace(l,"");this._baseIRIRoot=this._baseIRI.match(f)[0]}var t=typeof e.format==="string"&&e.format.match(/\w*$/)[0].toLowerCase(),r=t==="turtle",i=t==="trig",a=/triple/.test(t),s=/quad/.test(t),o=a||s;if(!(this._supportsNamedGraphs=!r))this._readPredicateOrNamedGraph=this._readPredicate;this._supportsQuads=!(r||i||a);if(o){this._baseIRI="";this._resolveIRI=function(e){this._error("Disallowed relative IRI",e);return this._callback=d,this._subject=null}}this._blankNodePrefix=typeof e.blankNodePrefix!=="string"?"":"_:"+e.blankNodePrefix.replace(/^_:/,"");this._lexer=e.lexer||new n({lineMode:o})}p._resetBlankNodeIds=function(){c=h=0};p.prototype={_readInTopContext:function(e){switch(e.type){case"eof":if(this._graph!==null)return this._error("Unclosed graph",e);delete this._prefixes._;return this._callback(null,null,this._prefixes);case"@prefix":this._sparqlStyle=false;return this._readPrefix;case"PREFIX":this._sparqlStyle=true;return this._readPrefix;case"@base":this._sparqlStyle=false;return this._readBaseIRI;case"BASE":this._sparqlStyle=true;return this._readBaseIRI;case"{":if(this._supportsNamedGraphs){this._graph="";this._subject=null;return this._readSubject}case"GRAPH":if(this._supportsNamedGraphs){return this._readNamedGraphLabel}default:return this._readSubject(e)}},_readSubject:function(e){this._predicate=null;switch(e.type){case"IRI":if(this._baseIRI===null||u.test(e.value))this._subject=e.value;else this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(t===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":this._subject="_:b"+h++;this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"});return this._readBlankNodeHead;case"(":this._tripleStack.push({subject:a,predicate:null,object:null,type:"list"});this._subject=null;return this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":if(this._baseIRI===null||u.test(e.value))this._predicate=e.value;else this._predicate=this._resolveIRI(e);break;case"prefixed":if(e.prefix==="_"){return this._error("Disallowed blank node as predicate",e)}else{var r=this._prefixes[e.prefix];if(r===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=r+e.value}break;case".":case"]":case"}":if(this._predicate===null)return this._error("Unexpected "+t,e);this._subject=null;return t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e);case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":if(this._baseIRI===null||u.test(e.value))this._object=e.value;else this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(t===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":this._object=e.value;return this._readDataTypeOrLang;case"[":var r="_:b"+h++;this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:r,type:"blank"});this._subject=r;return this._readBlankNodeHead;case"(":this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:a,type:"list"});this._subject=null;return this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){if(e.type!=="{")return this._error("Expected graph but got "+e.type,e);this._graph=this._subject,this._subject=null;return this._readSubject},_readBlankNodeHead:function(e){if(e.type==="]"){this._subject=null;return this._readBlankNodeTail(e)}this._predicate=null;return this._readPredicate(e)},_readBlankNodeTail:function(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);if(this._subject!==null)this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();this._subject=t.subject;if(t.object!==null){this._predicate=t.predicate;this._object=t.object;return this._getTripleEndReader()}return this._predicate!==null?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(e.prefix===""){if(this._baseIRI===null||u.test(e.value))t=e.value;else t=this._resolveIRI(e)}else{var r=this._prefixes[e.prefix];if(r===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);t=r+e.value}this._object+="^^"+t;return this._getTripleEndReader();case"langcode":this._object+="@"+e.value.toLowerCase();return this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,r=null,n=this._subject,i=this._tripleStack,u=i[i.length-1],l=this._readListItem;switch(e.type){case"IRI":t=e.value;break;case"prefixed":var f=this._prefixes[e.prefix];if(f===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);t=f+e.value;break;case"literal":t=e.value;l=this._readDataTypeOrLang;break;case"[":r="_:b"+h++;t="_:b"+h++;i.push({subject:r,predicate:s,object:t,type:"blank"});this._subject=t;l=this._readBlankNodeHead;break;case"(":r="_:b"+h++;i.push({subject:r,predicate:s,object:a,type:"list"});this._subject=null;l=this._readListItem;break;case")":i.pop();if(i.length!==0&&i[i.length-1].type==="list")this._callback(null,{subject:u.subject,predicate:u.predicate,object:u.object,graph:this._graph||""});this._subject=u.subject;if(u.predicate===null){l=this._readPredicate;if(u.subject===a)return l}else{this._predicate=u.predicate;this._object=u.object;l=this._getTripleEndReader();if(u.object===a)return l}r=a;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}if(r===null)this._subject=r="_:b"+h++;if(n===null){if(u.object===a)u.object=r;else u.subject=r}else{this._callback(null,{subject:n,predicate:o,object:r,graph:this._graph||""})}if(t!==null)this._callback(null,{subject:r,predicate:s,object:t,graph:this._graph||""});return l},_readPunctuation:function(e){var t,r=this._subject,n=this._graph;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null;t=this._readInTopContext;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&this._graph===null){if(this._baseIRI===null||u.test(e.value))n=e.value;else n=this._resolveIRI(e);r=this._subject;t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&this._graph===null){var i=this._prefixes[e.prefix];if(i===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);n=i+e.value;t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}if(r!==null)this._callback(null,{subject:r,predicate:this._predicate,object:this._object,graph:n||""});return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});return t},_readQuadPunctuation:function(e){if(e.type!==".")return this._error("Expected dot to follow quad",e);return this._readInTopContext},_readPrefix:function(e){if(e.type!=="prefix")return this._error("Expected prefix to follow @prefix",e);this._prefix=e.value;return this._readPrefixIRI},_readPrefixIRI:function(e){if(e.type!=="IRI")return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;if(this._baseIRI===null||u.test(e.value))t=e.value;else t=this._resolveIRI(e);this._prefixes[this._prefix]=t;this._prefixCallback(this._prefix,t);return this._readDeclarationPunctuation},_readBaseIRI:function(e){if(e.type!=="IRI")return this._error("Expected IRI to follow base declaration",e);if(e.value.indexOf("#")>0)return this._error("Invalid base IRI",e);if(this._baseIRI===null||u.test(e.value))this._baseIRI=e.value;else this._baseIRI=this._resolveIRI(e);this._baseIRIPath=this._baseIRI.replace(l,"");this._baseIRIRoot=this._baseIRI.match(f)[0];return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){if(e.type!=="]")return this._error("Invalid graph label",e);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(e){if(this._sparqlStyle)return this._readInTopContext(e);if(e.type!==".")return this._error("Expected declaration to end with a dot",e);return this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(e.length===0)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case undefined:return this._baseIRI;case"#":return this._baseIRI+t;case"?":return this._baseIRI.replace(/(?:\?.*)?$/,t);case"/":return this._baseIRIRoot+t;default:return this._baseIRIPath+t}},parse:function(e,t,r){this._readCallback=this._readInTopContext;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||"_:b"+c++ +"_";if(typeof e==="function")r=t,t=e,e=null;this._callback=t||d;this._prefixCallback=r||d;var n=this;this._lexer.tokenize(e,function(e,t){if(e!==null)n._callback(e),n._callback=d;else if(n._readCallback!==undefined)n._readCallback=n._readCallback(t)});if(!e){this.addChunk=this._lexer.addChunk;this.end=this._lexer.end}}};function d(){}t.exports=p},{"./N3Lexer":78}],80:[function(e,t,r){var n=e("./N3Util").expandPrefixedName;function i(e,t){if(!(this instanceof i))return new i(e,t);this._size=0;this._graphs=Object.create(null);this._entities=Object.create(null);this._entities["><"]=0;this._entityCount=0;this._blankNodeIndex=0;if(!t&&e&&!e[0])t=e,e=null;this._prefixes=Object.create(null);if(t&&t.prefixes)this.addPrefixes(t.prefixes);if(e)this.addTriples(e)}i.prototype={get size(){var e=this._size;if(e!==null)return e;var t=this._graphs,r,n;for(var i in t)for(var a in r=t[i].subjects)for(var s in n=r[a])e+=Object.keys(n[s]).length;return this._size=e},_addToIndex:function(e,t,r,n){var i=e[t]||(e[t]={});var a=i[r]||(i[r]={});a[n]=null},_removeFromIndex:function(e,t,r,n){var i=e[t],a=i[r],s;delete a[n];for(s in a)return;delete i[r];for(s in i)return;delete e[t]},_findInIndex:function(e,t,r,n,i,a,s,o){var u=[],l=Object.keys(this._entities),f,c,h;if(t)(f=e,e={})[t]=f[t];for(var p in e){var d=l[p];if(c=e[p]){if(r)(f=c,c={})[r]=f[r];for(var v in c){var g=l[v];if(h=c[v]){var m=n?n in h?[n]:[]:Object.keys(h);for(var b=m.length-1;b>=0;b--){var y={subject:"",predicate:"",object:"",graph:o};y[i]=d;y[a]=g;y[s]=l[m[b]];u.push(y)}}}}}return u},_countInIndex:function(e,t,r,n){var i=0,a,s,o;if(t)(a=e,e={})[t]=a[t];for(var u in e){if(s=e[u]){if(r)(a=s,s={})[r]=a[r];for(var l in s){if(o=s[l]){if(n)n in o&&i++;else i+=Object.keys(o).length}}}}return i},addTriple:function(e,t,r,n){if(!t)n=e.graph,r=e.object,t=e.predicate,e=e.subject;n=n||"";var i=this._graphs[n];if(!i){i=this._graphs[n]={subjects:{},predicates:{},objects:{}};Object.freeze(i)}var a=this._entities;e=a[e]||(a[e]=++this._entityCount);t=a[t]||(a[t]=++this._entityCount);r=a[r]||(a[r]=++this._entityCount);this._addToIndex(i.subjects,e,t,r);this._addToIndex(i.predicates,t,r,e);this._addToIndex(i.objects,r,e,t);this._size=null},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,r,n){if(!t)n=e.graph,r=e.object,t=e.predicate,e=e.subject;n=n||"";var i,a=this._entities,s=this._graphs;if(!(e=a[e]))return;if(!(t=a[t]))return;if(!(r=a[r]))return;if(!(i=s[n]))return;var o,u;if(!(o=i.subjects[e]))return;if(!(u=o[t]))return;if(!(r in u))return;this._removeFromIndex(i.subjects,e,t,r);this._removeFromIndex(i.predicates,t,r,e);this._removeFromIndex(i.objects,r,e,t);if(this._size!==null)this._size--;for(e in i.subjects)return;delete s[n]},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,r,i){var a=this._prefixes;return this.findByIRI(n(e,a),n(t,a),n(r,a),n(i,a))},findByIRI:function(e,t,r,n){n=n||"";var i=this._graphs[n],a=this._entities;if(!i)return[];if(e&&!(e=a[e]))return[];if(t&&!(t=a[t]))return[];if(r&&!(r=a[r]))return[];if(e){if(r)return this._findInIndex(i.objects,r,e,t,"object","subject","predicate",n);else return this._findInIndex(i.subjects,e,t,null,"subject","predicate","object",n)}else if(t)return this._findInIndex(i.predicates,t,r,null,"predicate","object","subject",n);else if(r)return this._findInIndex(i.objects,r,null,null,"object","subject","predicate",n);else return this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",n)},count:function(e,t,r,i){var a=this._prefixes;return this.countByIRI(n(e,a),n(t,a),n(r,a),n(i,a))},countByIRI:function(e,t,r,n){n=n||"";var i=this._graphs[n],a=this._entities;if(!i)return 0;if(e&&!(e=a[e]))return 0;if(t&&!(t=a[t]))return 0;if(r&&!(r=a[r]))return 0;if(e){if(r)return this._countInIndex(i.objects,r,e,t);else return this._countInIndex(i.subjects,e,t,r)}else if(t){return this._countInIndex(i.predicates,t,r,e)}else{return this._countInIndex(i.objects,r,e,t)}},createBlankNode:function(e){var t;if(e){t=e="_:"+e;var r=1;while(this._entities[t])t=e+r++}else{do{t="_:b"+this._blankNodeIndex++}while(this._entities[t])}this._entities[t]=this._entityCount++;return t}};t.exports=i},{"./N3Util":83}],81:[function(e,t,r){var n=e("stream").Transform,i=e("util"),a=e("./N3Parser.js");function s(e){if(!(this instanceof s))return new s(e);n.call(this,{decodeStrings:true});this._readableState.objectMode=true;var t=this,r=new a(e);r.parse(function(e,r){r&&t.push(r)||e&&t.emit("error",e)},this.emit.bind(this,"prefix"));this._transform=function(e,t,n){r.addChunk(e);n()};this._flush=function(e){r.end();e()}}i.inherits(s,n);t.exports=s},{"./N3Parser.js":79,stream:38,util:51}],82:[function(e,t,r){var n=e("stream").Transform,i=e("util"),a=e("./N3Writer.js");function s(e){if(!(this instanceof s))return new s(e);n.call(this,{encoding:"utf8"});this._writableState.objectMode=true;var t=this;var r=new a({write:function(e,r,n){t.push(e);n&&n()},end:function(e){t.push(null);e&&e()}},e);this._transform=function(e,t,n){r.addTriple(e,n)};this._flush=function(e){r.end(e)}}i.inherits(s,n);t.exports=s},{"./N3Writer.js":84,stream:38,util:51}],83:[function(e,t,r){var n="http://www.w3.org/2001/XMLSchema#";var i=n+"string";var a=n+"integer";var s=n+"decimal";var o=n+"boolean";var u="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";var l={isIRI:function(e){if(!e)return e;var t=e[0];return t!=='"'&&t!=="_"},isLiteral:function(e){return e&&e[0]==='"'},isBlank:function(e){return e&&e.substr(0,2)==="_:"},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){
var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?u:i)},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var r=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e),n,i,a;if(r)n=r[1],i=t[n],a=r.index;if(i===undefined)return e;return a===0?i+e.substr(n.length+1):e.substr(0,a+3)+i+e.substr(a+n.length+4)},createIRI:function(e){return e&&e[0]==='"'?l.getLiteralValue(e):e},createLiteral:function(e,t){if(!t){switch(typeof e){case"boolean":t=o;break;case"number":if(isFinite(e)){t=e%1===0?a:s;break}default:return'"'+e+'"'}}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)}};function f(e,t){for(var r in l)if(!t)e[r]=l[r];else e.prototype[r]=c(l[r]);return e}function c(e){return function(t){return e(this,t)}}t.exports=f(f)},{}],84:[function(e,t,r){var n=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i;var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=i+"type";var s=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,o=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,u={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function l(e,t){if(!(this instanceof l))return new l(e,t);if(e&&typeof e.write!=="function")t=e,e=null;t=t||{};if(!e){var r="";this._outputStream={write:function(e,t,n){r+=e;n&&n()},end:function(e){e&&e(null,r)}};this._endStream=true}else{this._outputStream=e;this._endStream=t.end===undefined?true:!!t.end}this._subject=null;if(!/triple|quad/i.test(t.format)){this._graph="";this._prefixIRIs=Object.create(null);t.prefixes&&this.addPrefixes(t.prefixes)}else{this._writeTriple=this._writeTripleLine}}l.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,n,i){try{if(this._graph!==n){this._write((this._subject===null?"":this._graph?"\n}\n":".\n")+(n?this._encodeIriOrBlankNode(n)+" {\n":""));this._graph=n,this._subject=null}if(this._subject===e){if(this._predicate===t)this._write(", "+this._encodeObject(r),i);else this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}else this._write((this._subject===null?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(a){i&&i(a)}},_writeTripleLine:function(e,t,r,n,i){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(n?" "+this._encodeIriOrBlankNode(n)+".\n":".\n"),i)}catch(a){i&&i(a)}},_encodeIriOrBlankNode:function(e){if(e[0]==="_"&&e[1]===":")return e;if(s.test(e))e=e.replace(o,f);var t=this._prefixRegex.exec(e);return!t?"<"+e+">":!t[1]?e:this._prefixIRIs[t[1]]+t[2]},_encodeLiteral:function(e,t,r){if(s.test(e))e=e.replace(o,f);if(r)return'"'+e+'"@'+r;else if(t)return'"'+e+'"^^'+this._encodeIriOrBlankNode(t);else return'"'+e+'"'},_encodeSubject:function(e){if(e[0]==='"')throw new Error("A literal as subject is not allowed: "+e);return this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if(e[0]==='"')throw new Error("A literal as predicate is not allowed: "+e);return e===a?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if(e[0]!=='"')return this._encodeIriOrBlankNode(e);var t=n.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,n,i){if(typeof r!=="string")this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t);else if(typeof n!=="string")this._writeTriple(e,t,r,"",n);else this._writeTriple(e,t,r,n,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var n={};n[e]=t;this.addPrefixes(n,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,n=false;for(var i in e){var a=e[i];if(/[#\/]$/.test(a)&&r[a]!==(i+=":")){n=true;r[a]=i;if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null,this._graph=""}this._write("@prefix "+i+" <"+a+">.\n")}}if(n){var s="",o="";for(var u in r){s+=s?"|"+u:u;o+=(o?"|":"")+r[u]}s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+o+")[^/]*$|"+"^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)},_prefixRegex:/$0^/,end:function(e){if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null}this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream){try{return this._outputStream.end(t)}catch(r){}}t&&t()}};function f(e){var t=u[e];if(t===undefined){if(e.length===1){t=e.charCodeAt(0).toString(16);t="\\u0000".substr(0,6-t.length)+t}else{t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16);t="\\U00000000".substr(0,10-t.length)+t}}return t}t.exports=l},{}],85:[function(e,r,n){rdf=function(){var e={};e.encodeString=function(e){var t="",r=false,n=0,i=e.length;while(n<i){var a=n++;if(!r){var s=e.charCodeAt(a);if(55296<=s&&s<=56319){var o=e.charCodeAt(a+1);s=(s-55296)*1024+(o-56320)+65536;r=true}if(s>1114111){throw new Error("Char out of range")}var u="00000000".concat(new Number(s).toString(16).toUpperCase());if(s>=65536){t+="\\U"+u.slice(-8)}else{if(s>=127||s<=31){switch(s){case 9:t+="\\t";break;case 10:t+="\\n";break;case 13:t+="\\r";break;default:t+="\\u"+u.slice(-4);break}}else{switch(s){case 34:t+='\\"';break;case 92:t+="\\\\";break;default:t+=e.charAt(a);break}}}}else{r=!r}}return t};e.BlankNode=function(){return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"BlankNode"},nominalValue:{writable:false,configurable:false,enumerable:true,value:"b".concat(++e.BlankNode.NEXTID)},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue}},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}return e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:false}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return"_:".concat(this.nominalValue)}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){return e.encodeString(this.toString())}},h:{configurable:false,enumerable:false,get:function(){return this.nominalValue}}})};e.BlankNode.NEXTID=0;e.NamedNode=function(t){return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"NamedNode"},nominalValue:{writable:false,configurable:false,enumerable:true,value:t},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue}},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}return e.interfaceName==this.interfaceName?this.nominalValue==e.nominalValue:false}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue.toString()}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){return"<"+e.encodeString(this.toString())+">"}},h:{configurable:false,enumerable:false,get:function(){return this.nominalValue}}})};e.Literal=function(t,r,n,i){if(typeof r=="string"&&r[0]=="@")r=r.slice(1);return Object.defineProperties({},{interfaceName:{writable:false,configurable:false,enumerable:true,value:"Literal"},nominalValue:{writable:false,configurable:false,enumerable:true,value:t},valueOf:{writable:false,configurable:false,enumerable:true,value:function(){return i===null?this.nominalValue:i}},language:{writable:false,configurable:false,enumerable:true,value:r},datatype:{writable:false,configurable:false,enumerable:true,value:n},equals:{writable:true,configurable:false,enumerable:true,value:function(e){if(!e.hasOwnProperty("interfaceName")){if(typeof e=="function"&&e.constructor.name=="RegExp")return e.test(this.valueOf().toString());return this.valueOf()==e}if(e.interfaceName!=this.interfaceName)return false;return this.h==e.h}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.nominalValue.toString()}},toNT:{writable:false,configurable:false,enumerable:true,value:function(){var t='"'+e.encodeString(this.nominalValue)+'"';if(Boolean(this.language).valueOf())return t.concat("@"+this.language);if(Boolean(this.datatype).valueOf())return t.concat("^^"+this.datatype.toNT());return t}},h:{writable:false,configurable:false,enumerable:false,value:r+"|"+(n?n.toString():"")+"|"+t.toString()}})};e.Triple=function(e,t,r){return Object.defineProperties({},{subject:{writable:false,configurable:false,enumerable:true,value:e},predicate:{writable:false,configurable:false,enumerable:true,value:t},object:{writable:false,configurable:false,enumerable:true,value:r},equals:{writable:true,configurable:false,enumerable:true,value:function(e){return this.s.equals(e.s)&&this.p.equals(e.p)&&this.o.equals(e.o)}},toString:{writable:false,configurable:false,enumerable:true,value:function(){return this.s.toNT()+" "+this.p.toNT()+" "+this.o.toNT()+" ."}},s:{configurable:false,enumerable:false,get:function(){return this.subject}},p:{configurable:false,enumerable:false,get:function(){return this.predicate}},o:{configurable:false,enumerable:false,get:function(){return this.object}}})};e.Graph=function(t){return Object.defineProperties({},{_graph:{writable:true,configurable:false,enumerable:false,value:[]},_spo:{writable:true,configurable:false,enumerable:false,value:{}},length:{configurable:false,enumerable:true,get:function(){return this._graph.length}},add:{writable:false,configurable:false,enumerable:true,value:function(e){this._spo[e.s.h]||(this._spo[e.s.h]={});this._spo[e.s.h][e.p.h]||(this._spo[e.s.h][e.p.h]={});if(!this._spo[e.s.h][e.p.h][e.o.h]){this._spo[e.s.h][e.p.h][e.o.h]=e;this._graph.push(e);this.actions.forEach(function(t){t.run(e)})}return this}},addArray:{writable:false,configurable:false,enumerable:false,value:function(e){if(Array.isArray(e))var t=this,r=e.forEach(function(e){t.add(e)});return this}},remove:{writable:false,configurable:false,enumerable:true,value:function(e){this._spo[e.s.h]&&this._spo[e.s.h][e.p.h]&&this._spo[e.s.h][e.p.h][e.o.h]&&(delete this._spo[e.s.h][e.p.h][e.o.h]&&this._graph.splice(this._graph.indexOf(e),1));return this}},removeMatches:{writable:false,configurable:false,enumerable:true,value:function(e,t,r){e=arguments[0]===undefined?null:e;t=arguments[1]===undefined?null:t;r=arguments[2]===undefined?null:r;var n=[];this.forEach(function(i,a){(e===null||i.s.equals(e))&&(t===null||i.p.equals(t))&&(r===null||i.o.equals(r))&&n.push(i)});for(var i in n)this.remove(n[i]);return this}},toArray:{writable:false,configurable:false,enumerable:true,value:function(){return this._graph.slice(0)}},some:{writable:false,configurable:false,enumerable:true,value:function(e){return this._graph.some(e)}},every:{writable:false,configurable:false,enumerable:true,value:function(e){return this._graph.every(e)}},filter:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.Graph(this._graph.filter(t))}},forEach:{writable:false,configurable:false,enumerable:true,value:function(e){var t=this;this._graph.forEach(function(r){e(r,t)})}},match:{writable:false,configurable:false,enumerable:true,value:function(t,r,n,i){t=arguments[0]===undefined?null:t;r=arguments[1]===undefined?null:r;n=arguments[2]===undefined?null:n;i=arguments[3]===undefined?null:i;var a=0;if(i<1)i=-1;return new e.Graph(this._graph.filter(function(e){if(a==i)return false;return(t===null||e.s.equals(t))&&(r===null||e.p.equals(r))&&(n===null||e.o.equals(n))&&++a}))}},merge:{writable:false,configurable:false,enumerable:true,value:function(t){return(new e.Graph).addAll(this).addAll(t)}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e){return this.addArray(e.toArray())}},actions:{writable:false,configurable:false,enumerable:true,value:[]},addAction:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(t)this.forEach(function(t,r){e.run(t,r)});this.actions.push(e);return this}}}).addArray(t)};e.TripleAction=function(e,t){return Object.defineProperties({},{action:{writable:true,configurable:false,enumerable:true,value:t},test:{writable:true,configurable:false,enumerable:true,value:e},run:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(this.test(e))this.action(e,t)}}})};e.PrefixMap=function(e){return Object.defineProperties({},{resolve:{writable:false,configurable:false,enumerable:true,value:function(e){var t=e.indexOf(":");if(t<0||e.indexOf("//")>=0)return null;var r=e.slice(0,t).toLowerCase();if(!this[r])return null;return this[r].concat(e.slice(++t))}},shrink:{writable:false,configurable:false,enumerable:true,value:function(e){for(pref in this)if(e.substr(0,this[pref].length)==this[pref])return pref+":"+e.slice(this[pref].length);return e}},setDefault:{writable:false,configurable:false,enumerable:true,value:function(e){this[""]=e}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e,t){for(p in e)if(!this[p]||t)this[p]=e[p];return this}}}).addAll(e)};e.TermMap=function(e){return Object.defineProperties({},{resolve:{writable:false,configurable:false,enumerable:true,value:function(e){if(this[e])return this[e];if(this[""])return this[""].concat(e);return null}},shrink:{writable:false,configurable:false,enumerable:true,value:function(e){for(t in this)if(this[t]==e)return t;return e}},setDefault:{writable:false,configurable:false,enumerable:true,value:function(e){this[""]=e}},addAll:{writable:false,configurable:false,enumerable:true,value:function(e,r){for(t in e)if(!this[t]||r)this[t]=e[t];return this}}}).addAll(e)};e.Profile=function(t){return Object.defineProperties({},{prefixes:{writable:false,configurable:false,enumerable:true,value:new e.PrefixMap},terms:{writable:false,configurable:false,enumerable:true,value:new e.TermMap},resolve:{writable:false,configurable:false,enumerable:true,value:function(e){return e.indexOf(":")>=0?this.prefixes.resolve(e):this.terms.resolve(e)}},setDefaultVocabulary:{writable:false,configurable:false,enumerable:true,value:function(e){this.terms.setDefault(e)}},setDefaultPrefix:{writable:false,configurable:false,enumerable:true,value:function(e){this.prefixes.setDefault(e)}},setTerm:{writable:false,configurable:false,enumerable:true,value:function(e,t){this.terms[e]=t}},setPrefix:{writable:false,configurable:false,enumerable:true,value:function(e,t){this.prefixes[e]=t}},importProfile:{writable:false,configurable:false,enumerable:true,value:function(e,t){if(!e)return this;this.prefixes.addAll(e.prefixes,t);this.terms.addAll(e.terms,t);return this}}}).importProfile(t)};e.RDFEnvironment=function(){var t={terms:{},prefixes:{owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdfa:"http://www.w3.org/ns/rdfa#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#"}};var r={};for(v in x=["string","boolean","dateTime","date","time","int","double","float","decimal","integer","nonPositiveInteger","negativeInteger","long","int","short","byte","nonNegativeInteger","unsignedLong","unsignedInt","unsignedShort","unsignedByte","positiveInteger"])r[x[v]]=t.prefixes.xsd.concat(x[v]);return Object.defineProperties(new e.Profile(t),{createBlankNode:{writable:false,configurable:false,enumerable:true,value:function(){return new e.BlankNode}},createNamedNode:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.NamedNode(t)}},createLiteral:{writable:false,configurable:false,enumerable:true,value:function(t){var n=null,i=arguments[2],a=t;if(arguments[1]){if(arguments[1].hasOwnProperty("interfaceName"))i=arguments[1];else n=arguments[1]}if(i){switch(i.valueOf()){case r.string:a=new String(a);break;case r["boolean"]:a=new Boolean(a=="false"?false:a).valueOf();break;case r["float"]:case r.integer:case r["long"]:case r["double"]:case r.decimal:case r.nonPositiveInteger:case r.nonNegativeInteger:case r.negativeInteger:case r["int"]:case r.unsignedLong:case r.positiveInteger:case r["short"]:case r.unsignedInt:case r["byte"]:case r.unsignedShort:case r.unsignedByte:a=new Number(a).valueOf();break;case r["date"]:case r.time:case r.dateTime:a=new Date(a);break}}return new e.Literal(t,n,i,a)}},createTriple:{writable:false,configurable:false,enumerable:true,value:function(t,r,n){return new e.Triple(t,r,n)}},createGraph:{writable:false,configurable:true,enumerable:true,value:function(t){return new e.Graph(t)}},createAction:{writable:false,configurable:false,enumerable:true,value:function(t,r){return new e.TripleAction(t,r)}},createProfile:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.Profile(!t?this:null)}},createTermMap:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.TermMap(!t?this.terms:null)}},createPrefixMap:{writable:false,configurable:false,enumerable:true,value:function(t){return new e.PrefixMap(!t?this.prefixes:null)}}})};var r=new e.RDFEnvironment;Object.keys(e).forEach(function(t){r[t]=e[t]});return e=r}();if(typeof r!="undefined")r.exports=rdf},{}],86:[function(e,t,r){function n(e){this.options=e||{locator:{}}}n.prototype.parseFromString=function(e,t){var r=this.options;var n=new f;var s=r.domBuilder||new a;var o=r.errorHandler;var u=r.locator;var l=r.xmlns||{};var c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};if(u){s.setDocumentLocator(u)}n.errorHandler=i(o,s,u);n.domBuilder=r.domBuilder||s;if(/\/x?html?$/.test(t)){c.nbsp=" ";c.copy="©";l[""]="http://www.w3.org/1999/xhtml"}if(e){n.parse(e,l,c)}else{n.errorHandler.error("invalid document source")}return s.document};function i(e,t,r){if(!e){if(t instanceof a){return t}e=t}var n={};var i=e instanceof Function;r=r||{};function s(t){var a=e[t];if(!a){if(i){a=e.length==2?function(r){e(t,r)}:e}else{var s=arguments.length;while(--s){if(a=e[arguments[s]]){break}}}}n[t]=a&&function(e){a(e+o(r))}||function(){}}s("warning","warn");s("error","warn","warning");s("fatalError","warn","warning","error");return n}function a(){this.cdata=false}function s(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber}a.prototype={startDocument:function(){this.document=(new c).createDocument(null,null,null);if(this.locator){this.document.documentURI=this.locator.systemId}},startElement:function(e,t,r,n){var i=this.document;var a=i.createElementNS(e,r||t);var o=n.length;l(this,a);this.currentElement=a;this.locator&&s(this.locator,a);for(var u=0;u<o;u++){var e=n.getURI(u);var f=n.getValue(u);var r=n.getQName(u);var c=i.createAttributeNS(e,r);if(c.getOffset){s(c.getOffset(1),c)}c.value=c.nodeValue=f;a.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;var i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.document.createProcessingInstruction(e,t);this.locator&&s(this.locator,r);l(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){e=u.apply(this,arguments);if(this.currentElement&&e){if(this.cdata){var n=this.document.createCDATASection(e);this.currentElement.appendChild(n)}else{var n=this.document.createTextNode(e);this.currentElement.appendChild(n)}this.locator&&s(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(e){if(this.locator=e){e.lineNumber=0}},comment:function(e,t,r){e=u.apply(this,arguments);var n=this.document.createComment(e);this.locator&&s(this.locator,n);l(this,n)},startCDATA:function(){this.cdata=true},endCDATA:function(){this.cdata=false},startDTD:function(e,t,r){var n=this.document.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&s(this.locator,i);l(this,i)}},warning:function(e){console.warn(e,o(this.locator))},error:function(e){console.error(e,o(this.locator))},fatalError:function(e){console.error(e,o(this.locator));throw e}};function o(e){if(e){return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}}function u(e,t,r){if(typeof e=="string"){return e.substr(t,r)}else{if(e.length>=t+r||t){return new java.lang.String(e,t,r)+""}return e}}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){a.prototype[e]=function(){return null}});function l(e,t){if(!e.currentElement){e.document.appendChild(t)}else{e.currentElement.appendChild(t)}}if(typeof e=="function"){var f=e("./sax").XMLReader;var c=r.DOMImplementation=e("./dom").DOMImplementation;r.XMLSerializer=e("./dom").XMLSerializer;r.DOMParser=n}},{"./dom":87,"./sax":88}],87:[function(e,t,r){function n(e,t){for(var r in e){t[r]=e[r]}}function i(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function a(){}a.prototype=t.prototype;a=new a;n(r,a);e.prototype=r=a}if(r.constructor!=e){if(typeof e!="function"){console.error("unknow Class:"+e)}r.constructor=e}}var a="http://www.w3.org/1999/xhtml";var s={};var o=s.ELEMENT_NODE=1;var u=s.ATTRIBUTE_NODE=2;var l=s.TEXT_NODE=3;var f=s.CDATA_SECTION_NODE=4;var c=s.ENTITY_REFERENCE_NODE=5;var h=s.ENTITY_NODE=6;var p=s.PROCESSING_INSTRUCTION_NODE=7;var d=s.COMMENT_NODE=8;var v=s.DOCUMENT_NODE=9;var g=s.DOCUMENT_TYPE_NODE=10;var m=s.DOCUMENT_FRAGMENT_NODE=11;var b=s.NOTATION_NODE=12;var y={};var w={};var x=y.INDEX_SIZE_ERR=(w[1]="Index size error",1);var _=y.DOMSTRING_SIZE_ERR=(w[2]="DOMString size error",2);var E=y.HIERARCHY_REQUEST_ERR=(w[3]="Hierarchy request error",3);var j=y.WRONG_DOCUMENT_ERR=(w[4]="Wrong document",4);var N=y.INVALID_CHARACTER_ERR=(w[5]="Invalid character",5);var I=y.NO_DATA_ALLOWED_ERR=(w[6]="No data allowed",6);var S=y.NO_MODIFICATION_ALLOWED_ERR=(w[7]="No modification allowed",7);var R=y.NOT_FOUND_ERR=(w[8]="Not found",8);var O=y.NOT_SUPPORTED_ERR=(w[9]="Not supported",9);var T=y.INUSE_ATTRIBUTE_ERR=(w[10]="Attribute in use",10);var k=y.INVALID_STATE_ERR=(w[11]="Invalid state",11);var A=y.SYNTAX_ERR=(w[12]="Syntax error",12);var C=y.INVALID_MODIFICATION_ERR=(w[13]="Invalid modification",13);var L=y.NAMESPACE_ERR=(w[14]="Invalid namespace",14);var P=y.INVALID_ACCESS_ERR=(w[15]="Invalid access",15);function D(e,t){if(t instanceof Error){var r=t}else{r=this;Error.call(this,w[e]);this.message=w[e];if(Error.captureStackTrace)Error.captureStackTrace(this,D)}r.code=e;if(t)this.message=this.message+": "+t;return r}D.prototype=Error.prototype;n(y,D);function U(){}U.prototype={length:0,item:function(e){return this[e]||null}};function M(e,t){this._node=e;this._refresh=t;B(this)}function B(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);me(e,"length",r.length);n(r,e);e._inc=t}}M.prototype.item=function(e){B(this);return this[e]};i(M,U);function F(){}function q(e,t){var r=e.length;while(r--){if(e[r]===t){return r}}}function z(e,t,r,n){if(n){t[q(t,n)]=r}else{t[t.length++]=r}if(e){r.ownerElement=e;var i=e.ownerDocument;if(i){n&&W(i,e,n);Y(i,e,r)}}}function G(e,t,r){var n=q(t,r);if(n>=0){var i=t.length-1;while(n<i){t[n]=t[++n]}t.length=i;if(e){var a=e.ownerDocument;if(a){W(a,e,r);r.ownerElement=null}}}else{throw D(R,new Error)}}F.prototype={length:0,item:U.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var r=this[t];if(r.nodeName==e){return r}}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement){throw new D(T)}var r=this.getNamedItem(e.nodeName);z(this._ownerElement,this,e,r);return r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement){throw new D(T)}r=this.getNamedItemNS(e.namespaceURI,e.localName);z(this._ownerElement,this,e,r);return r},removeNamedItem:function(e){var t=this.getNamedItem(e);G(this._ownerElement,this,t);return t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);G(this._ownerElement,this,r);return r},getNamedItemNS:function(e,t){var r=this.length;while(r--){var n=this[r];if(n.localName==t&&n.namespaceURI==e){return n}}return null}};function V(e){this._features={};if(e){for(var t in e){this._features=e[t]}}}V.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];if(r&&(!t||t in r)){return true}else{return false}},createDocument:function(e,t,r){var n=new $;n.doctype=r;if(r){n.appendChild(r)}n.implementation=this;n.childNodes=new U;if(t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new oe;n.name=e;n.nodeName=e;n.publicId=t;n.systemId=r;return n}};function H(){}H.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Q(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t);if(t){this.removeChild(t)}},removeChild:function(e){return K(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return ge(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;if(t&&t.nodeType==l&&e.nodeType==l){this.removeChild(t);e.appendData(t.data)}else{e.normalize();e=t}}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var r=t._nsMap;if(r){for(var n in r){if(r[n]==e){return n}}}t=t.nodeType==2?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var r=t._nsMap;if(r){if(e in r){return r[e]}}t=t.nodeType==2?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function X(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}n(s,H);n(s,H.prototype);function J(e,t){if(t(e)){return true}if(e=e.firstChild){do{if(J(e,t)){return true}}while(e=e.nextSibling)}}function $(){}function Y(e,t,r){e&&e._inc++;var n=r.namespaceURI;if(n=="http://www.w3.org/2000/xmlns/"){t._nsMap[r.prefix?r.localName:""]=r.value}}function W(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;if(i=="http://www.w3.org/2000/xmlns/"){delete t._nsMap[r.prefix?r.localName:""]}}function Z(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r){n[n.length++]=r}else{var i=t.firstChild;var a=0;while(i){n[a++]=i;i=i.nextSibling}n.length=a}}}function K(e,t){var r=t.previousSibling;var n=t.nextSibling;if(r){r.nextSibling=n}else{e.firstChild=n}if(n){n.previousSibling=r}else{e.lastChild=r}Z(e.ownerDocument,e);return t}function Q(e,t,r){var n=t.parentNode;if(n){n.removeChild(t)}if(t.nodeType===m){var i=t.firstChild;if(i==null){return t}var a=t.lastChild}else{i=a=t}var s=r?r.previousSibling:e.lastChild;i.previousSibling=s;a.nextSibling=r;if(s){s.nextSibling=i}else{e.firstChild=i}if(r==null){e.lastChild=a}else{r.previousSibling=a}do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));Z(e.ownerDocument||e,e);if(t.nodeType==m){t.firstChild=t.lastChild=null}return t}function ee(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;t.parentNode=e;t.previousSibling=n;t.nextSibling=null;if(n){n.nextSibling=t}else{e.firstChild=t}e.lastChild=t;Z(e.ownerDocument,e,t);return t}$.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){var r=e.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,t);r=n}return e}if(this.documentElement==null&&e.nodeType==1){this.documentElement=e}return Q(this,e,t),e.ownerDocument=this,e},removeChild:function(e){if(this.documentElement==e){this.documentElement=null}return K(this,e)},importNode:function(e,t){return ve(this,e,t)},getElementById:function(e){var t=null;J(this.documentElement,function(r){if(r.nodeType==1){if(r.getAttribute("id")==e){t=r;return true}}});return t},createElement:function(e){var t=new te;t.ownerDocument=this;t.nodeName=e;t.tagName=e;t.childNodes=new U;var r=t.attributes=new F;r._ownerElement=t;return t},createDocumentFragment:function(){var e=new ce;e.ownerDocument=this;e.childNodes=new U;return e},createTextNode:function(e){var t=new ie;t.ownerDocument=this;t.appendData(e);return t},createComment:function(e){var t=new ae;t.ownerDocument=this;t.appendData(e);return t},createCDATASection:function(e){var t=new se;t.ownerDocument=this;t.appendData(e);return t},createProcessingInstruction:function(e,t){var r=new he;r.ownerDocument=this;r.tagName=r.target=e;r.nodeValue=r.data=t;return r},createAttribute:function(e){var t=new re;t.ownerDocument=this;t.name=e;t.nodeName=e;t.localName=e;t.specified=true;return t},createEntityReference:function(e){var t=new fe;t.ownerDocument=this;t.nodeName=e;return t},createElementNS:function(e,t){var r=new te;var n=t.split(":");var i=r.attributes=new F;r.childNodes=new U;r.ownerDocument=this;r.nodeName=t;r.tagName=t;r.namespaceURI=e;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=t}i._ownerElement=r;return r},createAttributeNS:function(e,t){var r=new re;var n=t.split(":");r.ownerDocument=this;r.nodeName=t;r.name=t;r.namespaceURI=e;r.specified=true;if(n.length==2){r.prefix=n[0];r.localName=n[1]}else{r.localName=t}return r}};i($,H);function te(){this._nsMap={}}te.prototype={nodeType:o,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t;this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){if(e.nodeType===m){return this.insertBefore(e,null)}else{return ee(this,e)}},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=r;this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new M(this,function(t){var r=[];J(t,function(n){if(n!==t&&n.nodeType==o&&(e==="*"||n.tagName==e)){r.push(n)}});return r})},getElementsByTagNameNS:function(e,t){return new M(this,function(r){var n=[];J(r,function(i){if(i!==r&&i.nodeType===o&&i.namespaceURI===e&&(t==="*"||i.localName==t)){n.push(i)}});return n})}};$.prototype.getElementsByTagName=te.prototype.getElementsByTagName;$.prototype.getElementsByTagNameNS=te.prototype.getElementsByTagNameNS;i(te,H);function re(){}re.prototype.nodeType=u;i(re,H);function ne(){}ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e;this.nodeValue=this.data=e;this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t);
},appendChild:function(e){throw new Error(w[3]);return H.prototype.appendChild.apply(this,arguments)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e);var i=this.data.substring(e+t);r=n+r+i;this.nodeValue=this.data=r;this.length=r.length}};i(ne,H);function ie(){}ie.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data;var r=t.substring(e);t=t.substring(0,e);this.data=this.nodeValue=t;this.length=t.length;var n=this.ownerDocument.createTextNode(r);if(this.parentNode){this.parentNode.insertBefore(n,this.nextSibling)}return n}};i(ie,ne);function ae(){}ae.prototype={nodeName:"#comment",nodeType:d};i(ae,ne);function se(){}se.prototype={nodeName:"#cdata-section",nodeType:f};i(se,ne);function oe(){}oe.prototype.nodeType=g;i(oe,H);function ue(){}ue.prototype.nodeType=b;i(ue,H);function le(){}le.prototype.nodeType=h;i(le,H);function fe(){}fe.prototype.nodeType=c;i(fe,H);function ce(){}ce.prototype.nodeName="#document-fragment";ce.prototype.nodeType=m;i(ce,H);function he(){}he.prototype.nodeType=p;i(he,H);function pe(){}pe.prototype.serializeToString=function(e){var t=[];de(e,t);return t.join("")};H.prototype.toString=function(){return pe.prototype.serializeToString(this)};function de(e,t){switch(e.nodeType){case o:var r=e.attributes;var n=r.length;var i=e.firstChild;var s=e.tagName;var h=a===e.namespaceURI;t.push("<",s);for(var b=0;b<n;b++){de(r.item(b),t,h)}if(i||h&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){t.push(">");if(h&&/^script$/i.test(s)){if(i){t.push(i.data)}}else{while(i){de(i,t);i=i.nextSibling}}t.push("</",s,">")}else{t.push("/>")}return;case v:case m:var i=e.firstChild;while(i){de(i,t);i=i.nextSibling}return;case u:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,X),'"');case l:return t.push(e.data.replace(/[<&]/g,X));case f:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("<!--",e.data,"-->");case g:var y=e.publicId;var w=e.systemId;t.push("<!DOCTYPE ",e.name);if(y){t.push(' PUBLIC "',y);if(w&&w!="."){t.push('" "',w)}t.push('">')}else if(w&&w!="."){t.push(' SYSTEM "',w,'">')}else{var x=e.internalSubset;if(x){t.push(" [",x,"]")}t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ve(e,t,r){var n;switch(t.nodeType){case o:n=t.cloneNode(false);n.ownerDocument=e;case m:break;case u:r=true;break}if(!n){n=t.cloneNode(false)}n.ownerDocument=e;n.parentNode=null;if(r){var i=t.firstChild;while(i){n.appendChild(ve(e,i,r));i=i.nextSibling}}return n}function ge(e,t,r){var n=new t.constructor;for(var i in t){var a=t[i];if(typeof a!="object"){if(a!=n[i]){n[i]=a}}}if(t.childNodes){n.childNodes=new U}n.ownerDocument=e;switch(n.nodeType){case o:var s=t.attributes;var l=n.attributes=new F;var f=s.length;l._ownerElement=n;for(var c=0;c<f;c++){n.setAttributeNode(ge(e,s.item(c),true))}break;case u:r=true}if(r){var h=t.firstChild;while(h){n.appendChild(ge(e,h,r));h=h.nextSibling}}return n}function me(e,t,r){e[t]=r}try{if(Object.defineProperty){Object.defineProperty(M.prototype,"length",{get:function(){B(this);return this.$$length}});Object.defineProperty(H.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case 1:case 11:while(this.firstChild){this.removeChild(this.firstChild)}if(e||String(e)){this.appendChild(this.ownerDocument.createTextNode(e))}break;default:this.data=e;this.value=value;this.nodeValue=e}}});function be(e){switch(e.nodeType){case 1:case 11:var t=[];e=e.firstChild;while(e){if(e.nodeType!==7&&e.nodeType!==8){t.push(be(e))}e=e.nextSibling}return t.join("");default:return e.nodeValue}}me=function(e,t,r){e["$$"+t]=r}}}catch(ye){}if(typeof e=="function"){r.DOMImplementation=V;r.XMLSerializer=pe}},{}],88:[function(e,t,r){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"·̀-ͯ\\ux203F-⁀]");var a=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$");var s=0;var o=1;var u=2;var l=3;var f=4;var c=5;var h=6;var p=7;function d(){}d.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument();x(t,t={});v(e,t,r,n,this.errorHandler);n.endDocument()}};function v(e,t,r,n,i){function a(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}else{return String.fromCharCode(e)}}function s(e){var t=e.slice(1,-1);if(t in r){return r[t]}else if(t.charAt(0)==="#"){return a(parseInt(t.substr(1).replace("x","0x")))}else{i.error("entity not found:"+e);return e}}function o(t){var r=e.substring(v,t).replace(/&#?\w+;/g,s);h&&u(v);n.characters(r,0,t-v);v=t}function u(t,r){while(t>=f&&(r=c.exec(e))){l=r.index;f=l+r[0].length;h.lineNumber++}h.columnNumber=t-l+1}var l=0;var f=0;var c=/.+(?:\r\n?|\n)|.*$/g;var h=n.locator;var p=[{currentNSMap:t}];var d={};var v=0;while(true){var x=e.indexOf("<",v);if(x<0){if(!e.substr(v).match(/^\s*$/)){var N=n.document;var I=N.createTextNode(e.substr(v));N.appendChild(I);n.currentElement=I}return}if(x>v){o(x)}switch(e.charAt(x+1)){case"/":var S=e.indexOf(">",x+3);var R=e.substring(x+2,S);var O=p.pop();var T=O.localNSMap;if(O.tagName!=R){i.fatalError("end tag name: "+R+" is not match the current start tagName:"+O.tagName)}n.endElement(O.uri,O.localName,R);if(T){for(var k in T){n.endPrefixMapping(k)}}S++;break;case"?":h&&u(x);S=E(e,x,n);break;case"!":h&&u(x);S=_(e,x,n,i);break;default:try{h&&u(x);var A=new j;var S=m(e,x,A,s,i);var C=A.length;if(C&&h){var L=g(h,{});for(var x=0;x<C;x++){var P=A[x];u(P.offset);P.offset=g(h,{})}g(L,h)}if(!A.closed&&w(e,S,A.tagName,d)){A.closed=true;if(!r.nbsp){i.warning("unclosed xml attribute")}}b(A,n,p);if(A.uri==="http://www.w3.org/1999/xhtml"&&!A.closed){S=y(e,S,A.tagName,s,n)}else{S++}}catch(D){i.error("element parse error: "+D);S=-1}}if(S<0){o(x+1)}else{v=S}}}function g(e,t){t.lineNumber=e.lineNumber;t.columnNumber=e.columnNumber;return t}function m(e,t,r,n,i){var a;var d;var v=++t;var g=s;while(true){var m=e.charAt(v);switch(m){case"=":if(g===o){a=e.slice(t,v);g=l}else if(g===u){g=l}else{throw new Error("attribute equal must after attrName")}break;case"'":case'"':if(g===l){t=v+1;v=e.indexOf(m,t);if(v>0){d=e.slice(t,v).replace(/&#?\w+;/g,n);r.add(a,d,t-1);g=c}else{throw new Error("attribute value no end '"+m+"' match")}}else if(g==f){d=e.slice(t,v).replace(/&#?\w+;/g,n);r.add(a,d,t);i.warning('attribute "'+a+'" missed start quot('+m+")!!");t=v+1;g=c}else{throw new Error('attribute value must after "="')}break;case"/":switch(g){case s:r.setTagName(e.slice(t,v));case c:case h:case p:g=p;r.closed=true;case f:case o:case u:break;default:throw new Error("attribute invalid close char('/')")}break;case"":i.error("unexpected end of input");case">":switch(g){case s:r.setTagName(e.slice(t,v));case c:case h:case p:break;case f:case o:d=e.slice(t,v);if(d.slice(-1)==="/"){r.closed=true;d=d.slice(0,-1)}case u:if(g===u){d=a}if(g==f){i.warning('attribute "'+d+'" missed quot(")!!');r.add(a,d.replace(/&#?\w+;/g,n),t)}else{i.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!');r.add(d,d,t)}break;case l:throw new Error("attribute value missed!!")}return v;case"":m=" ";default:if(m<=" "){switch(g){case s:r.setTagName(e.slice(t,v));g=h;break;case o:a=e.slice(t,v);g=u;break;case f:var d=e.slice(t,v).replace(/&#?\w+;/g,n);i.warning('attribute "'+d+'" missed quot(")!!');r.add(a,d,t);case c:g=h;break}}else{switch(g){case u:i.warning('attribute "'+a+'" missed value!! "'+a+'" instead!!');r.add(a,a,t);t=v;g=o;break;case c:i.warning('attribute space is required"'+a+'"!!');case h:g=o;t=v;break;case l:g=f;t=v;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}}v++}}function b(e,t,r){var n=e.tagName;var i=null;var a=r[r.length-1].currentNSMap;var s=e.length;while(s--){var o=e[s];var u=o.qName;var l=o.value;var f=u.indexOf(":");if(f>0){var c=o.prefix=u.slice(0,f);var h=u.slice(f+1);var p=c==="xmlns"&&h}else{h=u;c=null;p=u==="xmlns"&&""}o.localName=h;if(p!==false){if(i==null){i={};x(a,a={})}a[p]=i[p]=l;o.uri="http://www.w3.org/2000/xmlns/";t.startPrefixMapping(p,l)}}var s=e.length;while(s--){o=e[s];var c=o.prefix;if(c){if(c==="xml"){o.uri="http://www.w3.org/XML/1998/namespace"}if(c!=="xmlns"){o.uri=a[c]}}}var f=n.indexOf(":");if(f>0){c=e.prefix=n.slice(0,f);h=e.localName=n.slice(f+1)}else{c=null;h=e.localName=n}var d=e.uri=a[c||""];t.startElement(d,h,n,e);if(e.closed){t.endElement(d,h,n);if(i){for(c in i){t.endPrefixMapping(c)}}}else{e.currentNSMap=a;e.localNSMap=i;r.push(e)}}function y(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t);var s=e.substring(t+1,a);if(/[&<]/.test(s)){if(/^script$/i.test(r)){i.characters(s,0,s.length);return a}s=s.replace(/&#?\w+;/g,n);i.characters(s,0,s.length);return a}}return t+1}function w(e,t,r,n){var i=n[r];if(i==null){i=n[r]=e.lastIndexOf("</"+r+">")}return i<t}function x(e,t){for(var r in e){t[r]=e[r]}}function _(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);if(a>t){r.comment(e,t+4,a-t-4);return a+3}else{n.error("Unclosed comment");return-1}}else{return-1}default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);r.startCDATA();r.characters(e,t+9,a-t-9);r.endCDATA();return a+3}var s=I(e,t);var o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0];var l=o>3&&/^public$/i.test(s[2][0])&&s[3][0];var f=o>4&&s[4][0];var c=s[o-1];r.startDTD(u,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),f&&f.replace(/^(['"])(.*?)\1$/,"$2"));r.endDTD();return c.index+c[0].length}}return-1}function E(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var a=i[0].length;r.processingInstruction(i[1],i[2]);return n+2}else{return-1}}return-1}function j(e){}j.prototype={setTagName:function(e){if(!a.test(e)){throw new Error("invalid tagName:"+e)}this.tagName=e},add:function(e,t,r){if(!a.test(e)){throw new Error("invalid attribute:"+e)}this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getOffset:function(e){return this[e].offset},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function N(e,t){e.__proto__=t;return e}if(!(N({},N.prototype)instanceof N)){N=function(e,t){function r(){}r.prototype=t;r=new r;for(t in e){r[t]=e[t]}return r}}function I(e,t){var r;var n=[];var i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t;i.exec(e);while(r=i.exec(e)){n.push(r);if(r[1])return n}}if(typeof e=="function"){r.XMLReader=d}},{}],89:[function(e,t,r){(function(r){"use strict";var n=e("rdf-interfaces");n.isNode=typeof r!=="undefined"&&r.versions&&r.versions.node;var i=function(t){t=t||{};if(typeof window!=="undefined"){window.rdf=n}if(typeof Promise!=="undefined"){n.Promise=Promise}else{n.Promise=null}n.defaultRequest=null;n.corsProxyRequest=null;n.ns={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};e("./lib/utils")(n);if(n.isNode){e("./lib/utils-node")(n)}else{e("./lib/utils-browser")(n)}if(typeof n.Graph==="undefined"){n.Graph={}}n.Graph.difference=function(e,t){var r=n.createGraph();e.forEach(function(e){if(!t.some(function(t){return e.equals(t)})){r.add(e)}});return r};n.Graph.intersection=function(e,t){var r=n.createGraph();e.forEach(function(e){if(t.some(function(t){return e.equals(t)})){r.add(e)}});return r};n.Graph.map=function(e,t){var r=[];e.forEach(function(e){r.push(t(e))});return r};n.Graph.merge=function(e,t){var r=n.createGraph();r.addAll(e);r.addAll(t);return r};n.Graph.toString=function(e){var t="";e.forEach(function(e){t+=e.toString()+"\n"});return t};var r=n.createGraph.bind(n);n.createGraphExt=function(e){var i=r(e);i.difference=n.Graph.difference.bind(i,i);i.intersection=n.Graph.intersection.bind(i,i);i.map=n.Graph.map.bind(i,i);i.toString=n.Graph.toString.bind(i,i);if("replaceMerge"in t&&t.replaceMerge){i.merge=n.Graph.merge.bind(i,i)}return i};Object.defineProperty(n,"createGraph",{value:n.createGraphExt});e("./lib/clownface.js")(n);e("./lib/inmemory-store.js")(n);e("./lib/jsonld-parser.js")(n);e("./lib/jsonld-serializer.js")(n);e("./lib/ldp-store.js")(n);e("./lib/microdata-parser.js")(n);e("./lib/ntriples-serializer.js")(n);e("./lib/promise.js")(n);e("./lib/rdfstore-store.js")(n);e("./lib/rdfxml-parser.js")(n);e("./lib/singlegraph-store.js")(n);e("./lib/sparql-store.js")(n);e("./lib/turtle-parser.js")(n);e("./lib/turtle-serializer.js")(n);return n};if(!n.isNode){i()}t.exports=i}).call(this,e("_process"))},{"./lib/clownface.js":58,"./lib/inmemory-store.js":59,"./lib/jsonld-parser.js":60,"./lib/jsonld-serializer.js":61,"./lib/ldp-store.js":62,"./lib/microdata-parser.js":63,"./lib/ntriples-serializer.js":64,"./lib/promise.js":65,"./lib/rdfstore-store.js":66,"./lib/rdfxml-parser.js":67,"./lib/singlegraph-store.js":68,"./lib/sparql-store.js":69,"./lib/turtle-parser.js":70,"./lib/turtle-serializer.js":71,"./lib/utils":75,"./lib/utils-browser":73,"./lib/utils-node":74,_process:20,"rdf-interfaces":85}],90:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":102}],91:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":122}],92:[function(e,t,r){var n=e("./virtual-hyperscript/index.js");t.exports=n},{"./virtual-hyperscript/index.js":109}],93:[function(e,t,r){t.exports=function n(e){var t=String.prototype.split,r=/()??/.exec("")[1]===e,n;n=function(n,i,a){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(n,i,a)}var s=[],o=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),u=0,i=new RegExp(i.source,o+"g"),l,f,c,h;n+="";if(!r){l=new RegExp("^"+i.source+"$(?!\\s)",o)}a=a===e?-1>>>0:a>>>0;while(f=i.exec(n)){c=f.index+f[0].length;if(c>u){s.push(n.slice(u,f.index));if(!r&&f.length>1){f[0].replace(l,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){f[t]=e}}})}if(f.length>1&&f.index<n.length){Array.prototype.push.apply(s,f.slice(1))}h=f[0].length;u=c;if(s.length>=a){break}}if(i.lastIndex===f.index){i.lastIndex++}}if(u===n.length){if(h||!i.test("")){s.push("")}}else{s.push(n.slice(u))}return s.length>a?s.slice(0,a):s};return n}()},{}],94:[function(e,t,r){"use strict";var n=e("individual/one-version");var i="7";n("ev-store",i);var a="__EV_STORE_KEY@"+i;t.exports=s;function s(e){var t=e[a];if(!t){t=e[a]={}}return t}},{"individual/one-version":96}],95:[function(e,t,r){(function(e){"use strict";var r=typeof window!=="undefined"?window:typeof e!=="undefined"?e:{};t.exports=n;function n(e,t){if(e in r){return r[e]}r[e]=t;return t}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],96:[function(e,t,r){"use strict";var n=e("./index.js");t.exports=i;function i(e,t,r){var i="__INDIVIDUAL_ONE_VERSION_"+e;var a=i+"_ENFORCE_SINGLETON";var s=n(a,t);if(s!==t){throw new Error("Can only have one copy of "+e+".\n"+"You already have version "+s+" installed.\n"+"This means you cannot install version "+t)}return n(i,r)}},{"./index.js":95}],97:[function(e,t,r){(function(r){var n=typeof r!=="undefined"?r:typeof window!=="undefined"?window:{};var i=e("min-document");if(typeof document!=="undefined"){t.exports=document}else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];if(!a){a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i}t.exports=a}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":10}],98:[function(e,t,r){"use strict";t.exports=function n(e){return typeof e==="object"&&e!==null}},{}],99:[function(e,t,r){var n=Array.isArray;var i=Object.prototype.toString;t.exports=n||a;function a(e){return i.call(e)==="[object Array]"}},{}],100:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":105}],101:[function(e,t,r){var n=e("is-object");var i=e("../vnode/is-vhook.js");t.exports=a;function a(e,t,r){for(var a in t){var u=t[a];if(u===undefined){s(e,a,u,r)}else if(i(u)){s(e,a,u,r);if(u.hook){u.hook(e,a,r?r[a]:undefined)}}else{if(n(u)){o(e,t,r,a,u)}else{e[a]=u}}}}function s(e,t,r,n){if(n){var a=n[t];if(!i(a)){if(t==="attributes"){for(var s in a){e.removeAttribute(s)}}else if(t==="style"){for(var o in a){e.style[o]=""}}else if(typeof a==="string"){e[t]=""}else{e[t]=null}}else if(a.unhook){a.unhook(e,t,r)}}}function o(e,t,r,i,a){var s=r?r[i]:undefined;if(i==="attributes"){for(var o in a){var l=a[o];if(l===undefined){e.removeAttribute(o)}else{e.setAttribute(o,l)}}return}if(s&&n(s)&&u(s)!==u(a)){e[i]=a;return}if(!n(e[i])){e[i]={}}var f=i==="style"?"":undefined;for(var c in a){var h=a[c];e[i][c]=h===undefined?f:h}}function u(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook.js":113,"is-object":98}],102:[function(e,t,r){var n=e("global/document");var i=e("./apply-properties");var a=e("../vnode/is-vnode.js");var s=e("../vnode/is-vtext.js");var o=e("../vnode/is-widget.js");var u=e("../vnode/handle-thunk.js");t.exports=l;function l(e,t){var r=t?t.document||n:n;var f=t?t.warn:null;e=u(e).a;if(o(e)){return e.init()}else if(s(e)){return r.createTextNode(e.text)}else if(!a(e)){if(f){f("Item is not a valid virtual dom node",e)}return null}var c=e.namespace===null?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName);var h=e.properties;i(c,h);var p=e.children;for(var d=0;d<p.length;d++){var v=l(p[d],t);if(v){c.appendChild(v)}}return c}},{"../vnode/handle-thunk.js":111,"../vnode/is-vnode.js":114,"../vnode/is-vtext.js":115,"../vnode/is-widget.js":116,"./apply-properties":101,"global/document":97}],103:[function(e,t,r){var n={};t.exports=i;function i(e,t,r,n){if(!r||r.length===0){return{}}else{r.sort(o);return a(e,t,r,n,0)}}function a(e,t,r,i,o){i=i||{};if(e){if(s(r,o,o)){i[o]=e}var u=t.children;if(u){var l=e.childNodes;for(var f=0;f<t.children.length;f++){o+=1;var c=u[f]||n;var h=o+(c.count||0);if(s(r,o,h)){a(l[f],c,r,i,o)}o=h}}}return i}function s(e,t,r){if(e.length===0){return false}var n=0;var i=e.length-1;var a;var s;while(n<=i){a=(i+n)/2>>0;s=e[a];if(n===i){return s>=t&&s<=r}else if(s<t){n=a+1}else if(s>r){i=a-1}else{return true}}return false}function o(e,t){return e>t?1:-1}},{}],104:[function(e,t,r){var n=e("./apply-properties");var i=e("../vnode/is-widget.js");var a=e("../vnode/vpatch.js");var s=e("./update-widget");t.exports=o;function o(e,t,r){var i=e.type;var s=e.vNode;var o=e.patch;switch(i){case a.REMOVE:return u(t,s);case a.INSERT:return l(t,o,r);case a.VTEXT:return f(t,s,o,r);case a.WIDGET:return c(t,s,o,r);case a.VNODE:return h(t,s,o,r);case a.ORDER:d(t,o);return t;case a.PROPS:n(t,o,s.properties);return t;case a.THUNK:return v(t,r.patch(t,o,r));default:return t}}function u(e,t){var r=e.parentNode;if(r){r.removeChild(e)}p(e,t);return null}function l(e,t,r){var n=r.render(t,r);if(e){e.appendChild(n)}return e}function f(e,t,r,n){var i;if(e.nodeType===3){e.replaceData(0,e.length,r.text);i=e}else{var a=e.parentNode;i=n.render(r,n);if(a&&i!==e){a.replaceChild(i,e)}}return i}function c(e,t,r,n){var i=s(t,r);var a;if(i){a=r.update(t,e)||e}else{a=n.render(r,n)}var o=e.parentNode;if(o&&a!==e){o.replaceChild(a,e)}if(!i){p(e,t)}return a}function h(e,t,r,n){var i=e.parentNode;var a=n.render(r,n);if(i&&a!==e){i.replaceChild(a,e)}return a}function p(e,t){if(typeof t.destroy==="function"&&i(t)){t.destroy(e)}}function d(e,t){var r=e.childNodes;var n={};var i;var a;var s;for(var o=0;o<t.removes.length;o++){a=t.removes[o];i=r[a.from];if(a.key){n[a.key]=i}e.removeChild(i)}var u=r.length;for(var l=0;l<t.inserts.length;l++){s=t.inserts[l];i=n[s.key];e.insertBefore(i,s.to>=u++?null:r[s.to])}}function v(e,t){if(e&&t&&e!==t&&e.parentNode){e.parentNode.replaceChild(t,e)}return t}},{"../vnode/is-widget.js":116,"../vnode/vpatch.js":119,"./apply-properties":101,"./update-widget":106}],105:[function(e,t,r){var n=e("global/document");var i=e("x-is-array");var a=e("./create-element");var s=e("./dom-index");var o=e("./patch-op");t.exports=u;function u(e,t,r){r=r||{};r.patch=r.patch&&r.patch!==u?r.patch:l;r.render=r.render||a;return r.patch(e,t,r)}function l(e,t,r){var i=c(t);if(i.length===0){return e}var a=s(e,t.a,i);var o=e.ownerDocument;if(!r.document&&o!==n){r.document=o}for(var u=0;u<i.length;u++){var l=i[u];e=f(e,a[l],t[l],r)}return e}function f(e,t,r,n){if(!t){return e}var a;if(i(r)){for(var s=0;s<r.length;s++){a=o(r[s],t,n);if(t===e){e=a}}}else{a=o(r,t,n);if(t===e){e=a}}return e}function c(e){var t=[];for(var r in e){if(r!=="a"){t.push(Number(r))}}return t}},{"./create-element":102,"./dom-index":103,"./patch-op":104,"global/document":97,"x-is-array":99}],106:[function(e,t,r){var n=e("../vnode/is-widget.js");t.exports=i;function i(e,t){if(n(e)&&n(t)){if("name"in e&&"name"in t){return e.id===t.id}else{return e.init===t.init}}return false}},{"../vnode/is-widget.js":116}],107:[function(e,t,r){"use strict";var n=e("ev-store");t.exports=i;function i(e){if(!(this instanceof i)){return new i(e)}this.value=e}i.prototype.hook=function(e,t){var r=n(e);var i=t.substr(3);r[i]=this.value};i.prototype.unhook=function(e,t){var r=n(e);var i=t.substr(3);r[i]=undefined}},{"ev-store":94}],108:[function(e,t,r){"use strict";t.exports=n;function n(e){if(!(this instanceof n)){return new n(e)}this.value=e}n.prototype.hook=function(e,t){if(e[t]!==this.value){e[t]=this.value}}},{}],109:[function(e,t,r){"use strict";var n=e("x-is-array");var i=e("../vnode/vnode.js");var a=e("../vnode/vtext.js");var s=e("../vnode/is-vnode");var o=e("../vnode/is-vtext");var u=e("../vnode/is-widget");var l=e("../vnode/is-vhook");var f=e("../vnode/is-thunk");var c=e("./parse-tag.js");var h=e("./hooks/soft-set-hook.js");var p=e("./hooks/ev-hook.js");t.exports=d;function d(e,t,r){var n=[];var a,s,o,u;if(!r&&b(t)){r=t;s={}}s=s||t||{};a=c(e,s);if(s.hasOwnProperty("key")){o=s.key;s.key=undefined}if(s.hasOwnProperty("namespace")){u=s.namespace;s.namespace=undefined}if(a==="INPUT"&&!u&&s.hasOwnProperty("value")&&s.value!==undefined&&!l(s.value)){s.value=h(s.value)}g(s);if(r!==undefined&&r!==null){v(r,n,a,s)}return new i(a,s,n,o,u)}function v(e,t,r,i){if(typeof e==="string"){t.push(new a(e))}else if(typeof e==="number"){t.push(new a(String(e)))}else if(m(e)){t.push(e)}else if(n(e)){for(var s=0;s<e.length;s++){v(e[s],t,r,i)}}else if(e===null||e===undefined){return}else{throw y({foreignObject:e,parentVnode:{tagName:r,properties:i}})}}function g(e){for(var t in e){if(e.hasOwnProperty(t)){var r=e[t];if(l(r)){continue}if(t.substr(0,3)==="ev-"){e[t]=p(r)}}}}function m(e){return s(e)||o(e)||u(e)||f(e)}function b(e){return typeof e==="string"||n(e)||m(e)}function y(e){var t=new Error;t.type="virtual-hyperscript.unexpected.virtual-element";t.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+w(e.foreignObject)+".\n"+"The parent vnode is:\n"+w(e.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";t.foreignObject=e.foreignObject;t.parentVnode=e.parentVnode;return t}function w(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}},{"../vnode/is-thunk":112,"../vnode/is-vhook":113,"../vnode/is-vnode":114,"../vnode/is-vtext":115,"../vnode/is-widget":116,"../vnode/vnode.js":118,"../vnode/vtext.js":120,"./hooks/ev-hook.js":107,"./hooks/soft-set-hook.js":108,"./parse-tag.js":110,"x-is-array":99}],110:[function(e,t,r){"use strict";var n=e("browser-split");var i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/;var a=/^\.|#/;t.exports=s;function s(e,t){if(!e){return"DIV"}var r=!t.hasOwnProperty("id");var s=n(e,i);var o=null;if(a.test(s[1])){o="DIV"}var u,l,f,c;for(c=0;c<s.length;c++){l=s[c];if(!l){continue}f=l.charAt(0);if(!o){o=l}else if(f==="."){u=u||[];u.push(l.substring(1,l.length))}else if(f==="#"&&r){t.id=l.substring(1,l.length)}}if(u){if(t.className){u.push(t.className)}t.className=u.join(" ")}return t.namespace?o:o.toUpperCase()}},{"browser-split":93}],111:[function(e,t,r){var n=e("./is-vnode");var i=e("./is-vtext");var a=e("./is-widget");var s=e("./is-thunk");t.exports=o;function o(e,t){var r=e;var n=t;if(s(t)){n=u(t,e)}if(s(e)){r=u(e,null)}return{a:r,b:n}}function u(e,t){var r=e.vnode;if(!r){r=e.vnode=e.render(t)}if(!(n(r)||i(r)||a(r))){throw new Error("thunk did not return a valid node")}return r}},{"./is-thunk":112,"./is-vnode":114,"./is-vtext":115,"./is-widget":116}],112:[function(e,t,r){t.exports=n;function n(e){return e&&e.type==="Thunk"}},{}],113:[function(e,t,r){t.exports=n;function n(e){return e&&(typeof e.hook==="function"&&!e.hasOwnProperty("hook")||typeof e.unhook==="function"&&!e.hasOwnProperty("unhook"))}},{}],114:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualNode"&&e.version===n}},{"./version":117}],115:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){return e&&e.type==="VirtualText"&&e.version===n}},{"./version":117}],116:[function(e,t,r){t.exports=n;function n(e){return e&&e.type==="Widget"}},{}],117:[function(e,t,r){t.exports="2"},{}],118:[function(e,t,r){var n=e("./version");var i=e("./is-vnode");var a=e("./is-widget");var s=e("./is-thunk");var o=e("./is-vhook");t.exports=f;var u={};var l=[];function f(e,t,r,n,f){this.tagName=e;this.properties=t||u;this.children=r||l;this.key=n!=null?String(n):undefined;this.namespace=typeof f==="string"?f:null;var c=r&&r.length||0;var h=0;var p=false;var d=false;var v=false;var g;for(var m in t){if(t.hasOwnProperty(m)){var b=t[m];if(o(b)&&b.unhook){if(!g){g={}}g[m]=b}}}for(var y=0;y<c;y++){var w=r[y];if(i(w)){h+=w.count||0;if(!p&&w.hasWidgets){p=true}if(!d&&w.hasThunks){d=true}if(!v&&(w.hooks||w.descendantHooks)){v=true}}else if(!p&&a(w)){if(typeof w.destroy==="function"){p=true}}else if(!d&&s(w)){d=true}}this.count=c+h;this.hasWidgets=p;this.hasThunks=d;this.hooks=g;this.descendantHooks=v}f.prototype.version=n;f.prototype.type="VirtualNode"},{"./is-thunk":112,"./is-vhook":113,"./is-vnode":114,"./is-widget":116,"./version":117}],119:[function(e,t,r){var n=e("./version");i.NONE=0;i.VTEXT=1;i.VNODE=2;i.WIDGET=3;i.PROPS=4;i.ORDER=5;i.INSERT=6;i.REMOVE=7;i.THUNK=8;t.exports=i;function i(e,t,r){this.type=Number(e);this.vNode=t;this.patch=r}i.prototype.version=n;i.prototype.type="VirtualPatch"},{"./version":117}],120:[function(e,t,r){var n=e("./version");t.exports=i;function i(e){this.text=String(e)}i.prototype.version=n;i.prototype.type="VirtualText"},{"./version":117}],121:[function(e,t,r){var n=e("is-object");var i=e("../vnode/is-vhook");t.exports=a;function a(e,t){var r;for(var o in e){if(!(o in t)){r=r||{};r[o]=undefined}var u=e[o];var l=t[o];if(u===l){continue}else if(n(u)&&n(l)){if(s(l)!==s(u)){r=r||{};r[o]=l}else if(i(l)){r=r||{};r[o]=l}else{var f=a(u,l);if(f){r=r||{};r[o]=f}}}else{r=r||{};r[o]=l}}for(var c in t){if(!(c in e)){r=r||{};r[c]=t[c]}}return r}function s(e){if(Object.getPrototypeOf){return Object.getPrototypeOf(e)}else if(e.__proto__){return e.__proto__}else if(e.constructor){return e.constructor.prototype}}},{"../vnode/is-vhook":113,"is-object":98}],122:[function(e,t,r){var n=e("x-is-array");var i=e("../vnode/vpatch");var a=e("../vnode/is-vnode");var s=e("../vnode/is-vtext");var o=e("../vnode/is-widget");var u=e("../vnode/is-thunk");var l=e("../vnode/handle-thunk");var f=e("./diff-props");t.exports=c;function c(e,t){var r={a:e};h(e,t,r,0);return r}function h(e,t,r,n){if(e===t){return}var l=r[n];var c=false;if(u(e)||u(t)){g(e,t,r,n)}else if(t==null){if(!o(e)){d(e,r,n);l=r[n]}l=E(l,new i(i.REMOVE,e,t))}else if(a(t)){if(a(e)){if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var h=f(e.properties,t.properties);if(h){l=E(l,new i(i.PROPS,e,h))}l=p(e,t,r,l,n)}else{l=E(l,new i(i.VNODE,e,t));c=true}}else{l=E(l,new i(i.VNODE,e,t));c=true}}else if(s(t)){if(!s(e)){l=E(l,new i(i.VTEXT,e,t));c=true}else if(e.text!==t.text){l=E(l,new i(i.VTEXT,e,t))}}else if(o(t)){if(!o(e)){c=true}l=E(l,new i(i.WIDGET,e,t))}if(l){r[n]=l}if(c){d(e,r,n)}}function p(e,t,r,n,s){var o=e.children;var u=w(o,t.children);var l=u.children;var f=o.length;var c=l.length;var p=f>c?f:c;for(var d=0;d<p;d++){var v=o[d];var g=l[d];s+=1;if(!v){if(g){n=E(n,new i(i.INSERT,null,g))}}else{h(v,g,r,s)}if(a(v)&&v.count){s+=v.count}}if(u.moves){n=E(n,new i(i.ORDER,e,u.moves))}return n}function d(e,t,r){b(e,t,r);v(e,t,r)}function v(e,t,r){if(o(e)){if(typeof e.destroy==="function"){t[r]=E(t[r],new i(i.REMOVE,e,null))}}else if(a(e)&&(e.hasWidgets||e.hasThunks)){var n=e.children;var s=n.length;for(var l=0;l<s;l++){var f=n[l];r+=1;v(f,t,r);if(a(f)&&f.count){r+=f.count}}}else if(u(e)){g(e,null,t,r)}}function g(e,t,r,n){var a=l(e,t);var s=c(a.a,a.b);if(m(s)){r[n]=new i(i.THUNK,null,s)}}function m(e){for(var t in e){if(t!=="a"){return true}}return false}function b(e,t,r){if(a(e)){if(e.hooks){t[r]=E(t[r],new i(i.PROPS,e,y(e.hooks)))}if(e.descendantHooks||e.hasThunks){var n=e.children;var s=n.length;for(var o=0;o<s;o++){var l=n[o];r+=1;b(l,t,r);if(a(l)&&l.count){r+=l.count}}}}else if(u(e)){g(e,null,t,r)}}function y(e){var t={};for(var r in e){t[r]=undefined}return t}function w(e,t){var r=_(t);var n=r.keys;var i=r.free;if(i.length===t.length){return{children:t,moves:null}}var a=_(e);var s=a.keys;var o=a.free;if(o.length===e.length){return{children:t,moves:null}}var u=[];var l=0;var f=i.length;var c=0;for(var h=0;h<e.length;h++){var p=e[h];var d;if(p.key){if(n.hasOwnProperty(p.key)){d=n[p.key];u.push(t[d])}else{d=h-c++;u.push(null)}}else{if(l<f){d=i[l++];u.push(t[d])}else{d=h-c++;u.push(null)}}}var v=l>=i.length?t.length:i[l];for(var g=0;g<t.length;g++){var m=t[g];if(m.key){if(!s.hasOwnProperty(m.key)){u.push(m)}}else if(g>=v){u.push(m)}}var b=u.slice();var y=0;var w=[];var E=[];var j;for(var N=0;N<t.length;){var I=t[N];j=b[y];while(j===null&&b.length){w.push(x(b,y,null));j=b[y]}if(!j||j.key!==I.key){if(I.key){if(j&&j.key){if(n[j.key]!==N+1){w.push(x(b,y,j.key));j=b[y];if(!j||j.key!==I.key){E.push({key:I.key,to:N})}else{y++}}else{E.push({key:I.key,to:N})}}else{E.push({key:I.key,to:N})}N++}else if(j&&j.key){w.push(x(b,y,j.key))}}else{y++;N++}}while(y<b.length){j=b[y];w.push(x(b,y,j&&j.key))}if(w.length===c&&!E.length){return{children:u,moves:null}}return{children:u,moves:{removes:w,inserts:E}}}function x(e,t,r){e.splice(t,1);return{from:t,key:r}}function _(e){var t={};var r=[];var n=e.length;for(var i=0;i<n;i++){var a=e[i];if(a.key){t[a.key]=i}else{r.push(i)}}return{keys:t,free:r}}function E(e,t){if(e){if(n(e)){e.push(t)}else{e=[e,t]}return e}else{return t}}},{"../vnode/handle-thunk":111,"../vnode/is-thunk":112,"../vnode/is-vnode":114,"../vnode/is-vtext":115,"../vnode/is-widget":116,"../vnode/vpatch":119,"./diff-props":121,"x-is-array":99}],123:[function(e,t,r){t.exports=s;var n=e("async");var i=e("rdf-ext")();function a(e){return e.object.toString()}function s(e,t,r){if(typeof t==="function"){r=t;t=null}t=t||i.createGraph();o(e,t,r)}function o(e,t,r){var s=new i.LdpStore;var u=e.split("#")[0];s.graph(u,function(i,u){if(u)return r(u);t.addAll(i);var l=i.match(e,"http://www.w3.org/2002/07/owl#sameAs",null).toArray().map(a);var f=i.match(e,"http://www.w3.org/2002/07/owl#seeAlso",null).toArray().map(a);var c=l.concat(f);var h=i.match(e,"http://www.w3.org/ns/pim/space#preferencesFile",null).toArray().map(a);var p=function(e){n.each(c,function(e,r){o(e,t,r)},e)};var d=function(e){n.each(h,function(e,r){s.graph(e,function(e,n){t.addAll(e);r(n,e)})},e)};n.parallel([d,p],function(e){r(e,t)})})}},{async:8,"rdf-ext":89}],124:[function(e,t,r){"use strict";var n=e("global/window");var i=e("once");var a=e("parse-headers");t.exports=o;o.XMLHttpRequest=n.XMLHttpRequest||u;o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:n.XDomainRequest;function s(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function o(e,t){function r(){if(c.readyState===4){f()}}function n(){var e=undefined;if(c.response){e=c.response}else if(c.responseType==="text"||!c.responseType){
e=c.responseText||c.responseXML}if(y){try{e=JSON.parse(e)}catch(t){}}return e}var u={body:undefined,headers:{},statusCode:0,method:v,url:d,rawRequest:c};function l(e){clearTimeout(w);if(!(e instanceof Error)){e=new Error(""+(e||"unknown"))}e.statusCode=0;t(e,u)}function f(){if(p)return;var r;clearTimeout(w);if(e.useXDR&&c.status===undefined){r=200}else{r=c.status===1223?204:c.status}var i=u;var s=null;if(r!==0){i={body:n(),statusCode:r,method:v,headers:{},url:d,rawRequest:c};if(c.getAllResponseHeaders){i.headers=a(c.getAllResponseHeaders())}}else{s=new Error("Internal XMLHttpRequest Error")}t(s,i,i.body)}if(typeof e==="string"){e={uri:e}}e=e||{};if(typeof t==="undefined"){throw new Error("callback argument missing")}t=i(t);var c=e.xhr||null;if(!c){if(e.cors||e.useXDR){c=new o.XDomainRequest}else{c=new o.XMLHttpRequest}}var h;var p;var d=c.url=e.uri||e.url;var v=c.method=e.method||"GET";var g=e.body||e.data;var m=c.headers=e.headers||{};var b=!!e.sync;var y=false;var w;if("json"in e){y=true;m["accept"]||m["Accept"]||(m["Accept"]="application/json");if(v!=="GET"&&v!=="HEAD"){m["Content-Type"]="application/json";g=JSON.stringify(e.json)}}c.onreadystatechange=r;c.onload=f;c.onerror=l;c.onprogress=function(){};c.ontimeout=l;c.open(v,d,!b,e.username,e.password);if(!b){c.withCredentials=!!e.withCredentials}if(!b&&e.timeout>0){w=setTimeout(function(){p=true;c.abort("timeout");l()},e.timeout)}if(c.setRequestHeader){for(h in m){if(m.hasOwnProperty(h)){c.setRequestHeader(h,m[h])}}}else if(e.headers&&!s(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){c.responseType=e.responseType}if("beforeSend"in e&&typeof e.beforeSend==="function"){e.beforeSend(c)}c.send(g);return c}function u(){}},{"global/window":125,once:126,"parse-headers":130}],125:[function(e,t,r){(function(e){if(typeof window!=="undefined"){t.exports=window}else if(typeof e!=="undefined"){t.exports=e}else if(typeof self!=="undefined"){t.exports=self}else{t.exports={}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],126:[function(e,t,r){t.exports=n;n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:true})});function n(e){var t=false;return function(){if(t)return;t=true;return e.apply(this,arguments)}}},{}],127:[function(e,t,r){var n=e("is-function");t.exports=s;var i=Object.prototype.toString;var a=Object.prototype.hasOwnProperty;function s(e,t,r){if(!n(t)){throw new TypeError("iterator must be a function")}if(arguments.length<3){r=this}if(i.call(e)==="[object Array]")o(e,t,r);else if(typeof e==="string")u(e,t,r);else l(e,t,r)}function o(e,t,r){for(var n=0,i=e.length;n<i;n++){if(a.call(e,n)){t.call(r,e[n],n,e)}}}function u(e,t,r){for(var n=0,i=e.length;n<i;n++){t.call(r,e.charAt(n),n,e)}}function l(e,t,r){for(var n in e){if(a.call(e,n)){t.call(r,e[n],n,e)}}}},{"is-function":128}],128:[function(e,t,r){t.exports=i;var n=Object.prototype.toString;function i(e){var t=n.call(e);return t==="[object Function]"||typeof e==="function"&&t!=="[object RegExp]"||typeof window!=="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},{}],129:[function(e,t,r){r=t.exports=n;function n(e){return e.replace(/^\s*|\s*$/g,"")}r.left=function(e){return e.replace(/^\s*/,"")};r.right=function(e){return e.replace(/\s*$/,"")}},{}],130:[function(e,t,r){var n=e("trim"),i=e("for-each"),a=function(e){return Object.prototype.toString.call(e)==="[object Array]"};t.exports=function(e){if(!e)return{};var t={};i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),s=n(e.slice(r+1));if(typeof t[i]==="undefined"){t[i]=s}else if(a(t[i])){t[i].push(s)}else{t[i]=[t[i],s]}});return t}},{"for-each":127,trim:129}]},{},[2]);
